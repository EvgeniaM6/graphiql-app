(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _T(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PT={exports:{}},Cp={},RT={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c=Symbol.for("react.element"),BD=Symbol.for("react.portal"),FD=Symbol.for("react.fragment"),$D=Symbol.for("react.strict_mode"),jD=Symbol.for("react.profiler"),UD=Symbol.for("react.provider"),VD=Symbol.for("react.context"),zD=Symbol.for("react.forward_ref"),HD=Symbol.for("react.suspense"),WD=Symbol.for("react.memo"),KD=Symbol.for("react.lazy"),lx=Symbol.iterator;function qD(t){return t===null||typeof t!="object"?null:(t=lx&&t[lx]||t["@@iterator"],typeof t=="function"?t:null)}var NT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DT=Object.assign,MT={};function kl(t,e,n){this.props=t,this.context=e,this.refs=MT,this.updater=n||NT}kl.prototype.isReactComponent={};kl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LT(){}LT.prototype=kl.prototype;function v1(t,e,n){this.props=t,this.context=e,this.refs=MT,this.updater=n||NT}var w1=v1.prototype=new LT;w1.constructor=v1;DT(w1,kl.prototype);w1.isPureReactComponent=!0;var ux=Array.isArray,BT=Object.prototype.hasOwnProperty,S1={current:null},FT={key:!0,ref:!0,__self:!0,__source:!0};function $T(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)BT.call(e,r)&&!FT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_c,type:t,key:s,ref:o,props:i,_owner:S1.current}}function GD(t,e){return{$$typeof:_c,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function x1(t){return typeof t=="object"&&t!==null&&t.$$typeof===_c}function QD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cx=/\/+/g;function tm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QD(""+t.key):e.toString(36)}function lf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _c:case BD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+tm(o,0):r,ux(i)?(n="",t!=null&&(n=t.replace(cx,"$&/")+"/"),lf(i,e,n,"",function(u){return u})):i!=null&&(x1(i)&&(i=GD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cx,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ux(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+tm(s,a);o+=lf(s,e,n,l,i)}else if(l=qD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+tm(s,a++),o+=lf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hh(t,e,n){if(t==null)return t;var r=[],i=0;return lf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function YD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},uf={transition:null},XD={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:uf,ReactCurrentOwner:S1};be.Children={map:hh,forEach:function(t,e,n){hh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hh(t,function(){e++}),e},toArray:function(t){return hh(t,function(e){return e})||[]},only:function(t){if(!x1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=kl;be.Fragment=FD;be.Profiler=jD;be.PureComponent=v1;be.StrictMode=$D;be.Suspense=HD;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XD;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=S1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BT.call(e,l)&&!FT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:_c,type:t.type,key:i,ref:s,props:r,_owner:o}};be.createContext=function(t){return t={$$typeof:VD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UD,_context:t},t.Consumer=t};be.createElement=$T;be.createFactory=function(t){var e=$T.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:zD,render:t}};be.isValidElement=x1;be.lazy=function(t){return{$$typeof:KD,_payload:{_status:-1,_result:t},_init:YD}};be.memo=function(t,e){return{$$typeof:WD,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=uf.transition;uf.transition={};try{t()}finally{uf.transition=e}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(t,e){return In.current.useCallback(t,e)};be.useContext=function(t){return In.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return In.current.useDeferredValue(t)};be.useEffect=function(t,e){return In.current.useEffect(t,e)};be.useId=function(){return In.current.useId()};be.useImperativeHandle=function(t,e,n){return In.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return In.current.useMemo(t,e)};be.useReducer=function(t,e,n){return In.current.useReducer(t,e,n)};be.useRef=function(t){return In.current.useRef(t)};be.useState=function(t){return In.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return In.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return In.current.useTransition()};be.version="18.2.0";RT.exports=be;var P=RT.exports;const cs=_T(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JD=P,ZD=Symbol.for("react.element"),eM=Symbol.for("react.fragment"),tM=Object.prototype.hasOwnProperty,nM=JD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rM={key:!0,ref:!0,__self:!0,__source:!0};function jT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tM.call(e,r)&&!rM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ZD,type:t,key:s,ref:o,props:i,_owner:nM.current}}Cp.Fragment=eM;Cp.jsx=jT;Cp.jsxs=jT;PT.exports=Cp;var I=PT.exports,Hy={},UT={exports:{}},er={},VT={exports:{}},zT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,G){var X=V.length;V.push(G);e:for(;0<X;){var oe=X-1>>>1,fe=V[oe];if(0<i(fe,G))V[oe]=G,V[X]=fe,X=oe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var G=V[0],X=V.pop();if(X!==G){V[0]=X;e:for(var oe=0,fe=V.length,Tt=fe>>>1;oe<Tt;){var Xe=2*(oe+1)-1,yn=V[Xe],it=Xe+1,St=V[it];if(0>i(yn,X))it<fe&&0>i(St,yn)?(V[oe]=St,V[it]=X,oe=it):(V[oe]=yn,V[Xe]=X,oe=Xe);else if(it<fe&&0>i(St,X))V[oe]=St,V[it]=X,oe=it;else break e}}return G}function i(V,G){var X=V.sortIndex-G.sortIndex;return X!==0?X:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,m=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=V)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function E(V){if(w=!1,b(V),!m)if(n(l)!==null)m=!0,de(C);else{var G=n(u);G!==null&&pe(E,G.startTime-V)}}function C(V,G){m=!1,w&&(w=!1,v(F),F=-1),d=!0;var X=f;try{for(b(G),h=n(l);h!==null&&(!(h.expirationTime>G)||V&&!Z());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,f=h.priorityLevel;var fe=oe(h.expirationTime<=G);G=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(l)&&r(l),b(G)}else r(l);h=n(l)}if(h!==null)var Tt=!0;else{var Xe=n(u);Xe!==null&&pe(E,Xe.startTime-G),Tt=!1}return Tt}finally{h=null,f=X,d=!1}}var O=!1,_=null,F=-1,L=5,M=-1;function Z(){return!(t.unstable_now()-M<L)}function Y(){if(_!==null){var V=t.unstable_now();M=V;var G=!0;try{G=_(!0,V)}finally{G?ee():(O=!1,_=null)}}else O=!1}var ee;if(typeof y=="function")ee=function(){y(Y)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,me=le.port2;le.port1.onmessage=Y,ee=function(){me.postMessage(null)}}else ee=function(){x(Y,0)};function de(V){_=V,O||(O=!0,ee())}function pe(V,G){F=x(function(){V(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){m||d||(m=!0,de(C))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var X=f;f=G;try{return V()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var X=f;f=V;try{return G()}finally{f=X}},t.unstable_scheduleCallback=function(V,G,X){var oe=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?oe+X:oe):X=oe,V){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=X+fe,V={id:c++,callback:G,priorityLevel:V,startTime:X,expirationTime:fe,sortIndex:-1},X>oe?(V.sortIndex=X,e(u,V),n(l)===null&&V===n(u)&&(w?(v(F),F=-1):w=!0,pe(E,X-oe))):(V.sortIndex=fe,e(l,V),m||d||(m=!0,de(C))),V},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(V){var G=f;return function(){var X=f;f=G;try{return V.apply(this,arguments)}finally{f=X}}}})(zT);VT.exports=zT;var iM=VT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT=P,Xn=iM;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WT=new Set,Mu={};function Ho(t,e){Xa(t,e),Xa(t+"Capture",e)}function Xa(t,e){for(Mu[t]=e,t=0;t<e.length;t++)WT.add(e[t])}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wy=Object.prototype.hasOwnProperty,sM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hx={},fx={};function oM(t){return Wy.call(fx,t)?!0:Wy.call(hx,t)?!1:sM.test(t)?fx[t]=!0:(hx[t]=!0,!1)}function aM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lM(t,e,n,r){if(e===null||typeof e>"u"||aM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function On(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new On(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new On(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new On(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new On(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new On(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new On(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new On(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new On(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new On(t,5,!1,t.toLowerCase(),null,!1,!1)});var b1=/[\-:]([a-z])/g;function k1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(b1,k1);Gt[e]=new On(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(b1,k1);Gt[e]=new On(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(b1,k1);Gt[e]=new On(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new On(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new On(t,1,!1,t.toLowerCase(),null,!0,!0)});function E1(t,e,n,r){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lM(e,n,i,r)&&(n=null),r||i===null?oM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wi=HT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fh=Symbol.for("react.element"),ha=Symbol.for("react.portal"),fa=Symbol.for("react.fragment"),C1=Symbol.for("react.strict_mode"),Ky=Symbol.for("react.profiler"),KT=Symbol.for("react.provider"),qT=Symbol.for("react.context"),T1=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Gy=Symbol.for("react.suspense_list"),A1=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy"),GT=Symbol.for("react.offscreen"),dx=Symbol.iterator;function jl(t){return t===null||typeof t!="object"?null:(t=dx&&t[dx]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,nm;function ru(t){if(nm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nm=e&&e[1]||""}return`
`+nm+t}var rm=!1;function im(t,e){if(!t||rm)return"";rm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{rm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ru(t):""}function uM(t){switch(t.tag){case 5:return ru(t.type);case 16:return ru("Lazy");case 13:return ru("Suspense");case 19:return ru("SuspenseList");case 0:case 2:case 15:return t=im(t.type,!1),t;case 11:return t=im(t.type.render,!1),t;case 1:return t=im(t.type,!0),t;default:return""}}function Qy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fa:return"Fragment";case ha:return"Portal";case Ky:return"Profiler";case C1:return"StrictMode";case qy:return"Suspense";case Gy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qT:return(t.displayName||"Context")+".Consumer";case KT:return(t._context.displayName||"Context")+".Provider";case T1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A1:return e=t.displayName||null,e!==null?e:Qy(t.type)||"Memo";case Xi:e=t._payload,t=t._init;try{return Qy(t(e))}catch{}}return null}function cM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qy(e);case 8:return e===C1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ls(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hM(t){var e=QT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dh(t){t._valueTracker||(t._valueTracker=hM(t))}function YT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=QT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yy(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function px(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ls(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XT(t,e){e=e.checked,e!=null&&E1(t,"checked",e,!1)}function Xy(t,e){XT(t,e);var n=Ls(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jy(t,e.type,Ls(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jy(t,e,n){(e!=="number"||Bf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var iu=Array.isArray;function _a(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ls(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(iu(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ls(n)}}function JT(t,e){var n=Ls(e.value),r=Ls(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ph,eA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ph=ph||document.createElement("div"),ph.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ph.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fM=["Webkit","ms","Moz","O"];Object.keys(yu).forEach(function(t){fM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yu[e]=yu[t]})});function tA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yu.hasOwnProperty(t)&&yu[t]?(""+e).trim():e+"px"}function nA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dM=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t0(t,e){if(e){if(dM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function n0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r0=null;function I1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var i0=null,Pa=null,Ra=null;function vx(t){if(t=Nc(t)){if(typeof i0!="function")throw Error(W(280));var e=t.stateNode;e&&(e=_p(e),i0(t.stateNode,t.type,e))}}function rA(t){Pa?Ra?Ra.push(t):Ra=[t]:Pa=t}function iA(){if(Pa){var t=Pa,e=Ra;if(Ra=Pa=null,vx(t),e)for(t=0;t<e.length;t++)vx(e[t])}}function sA(t,e){return t(e)}function oA(){}var sm=!1;function aA(t,e,n){if(sm)return t(e,n);sm=!0;try{return sA(t,e,n)}finally{sm=!1,(Pa!==null||Ra!==null)&&(oA(),iA())}}function Bu(t,e){var n=t.stateNode;if(n===null)return null;var r=_p(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var s0=!1;if(Di)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){s0=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{s0=!1}function pM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var vu=!1,Ff=null,$f=!1,o0=null,gM={onError:function(t){vu=!0,Ff=t}};function mM(t,e,n,r,i,s,o,a,l){vu=!1,Ff=null,pM.apply(gM,arguments)}function yM(t,e,n,r,i,s,o,a,l){if(mM.apply(this,arguments),vu){if(vu){var u=Ff;vu=!1,Ff=null}else throw Error(W(198));$f||($f=!0,o0=u)}}function Wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wx(t){if(Wo(t)!==t)throw Error(W(188))}function vM(t){var e=t.alternate;if(!e){if(e=Wo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return wx(i),t;if(s===r)return wx(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function uA(t){return t=vM(t),t!==null?cA(t):null}function cA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cA(t);if(e!==null)return e;t=t.sibling}return null}var hA=Xn.unstable_scheduleCallback,Sx=Xn.unstable_cancelCallback,wM=Xn.unstable_shouldYield,SM=Xn.unstable_requestPaint,dt=Xn.unstable_now,xM=Xn.unstable_getCurrentPriorityLevel,O1=Xn.unstable_ImmediatePriority,fA=Xn.unstable_UserBlockingPriority,jf=Xn.unstable_NormalPriority,bM=Xn.unstable_LowPriority,dA=Xn.unstable_IdlePriority,Tp=null,ii=null;function kM(t){if(ii&&typeof ii.onCommitFiberRoot=="function")try{ii.onCommitFiberRoot(Tp,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:TM,EM=Math.log,CM=Math.LN2;function TM(t){return t>>>=0,t===0?32:31-(EM(t)/CM|0)|0}var gh=64,mh=4194304;function su(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=su(a):(s&=o,s!==0&&(r=su(s)))}else o=n&~i,o!==0?r=su(o):s!==0&&(r=su(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function AM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=AM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function a0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pA(){var t=gh;return gh<<=1,!(gh&4194240)&&(gh=64),t}function om(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function OM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function _1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function gA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mA,P1,yA,vA,wA,l0=!1,yh=[],vs=null,ws=null,Ss=null,Fu=new Map,$u=new Map,ts=[],_M="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xx(t,e){switch(t){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Fu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(e.pointerId)}}function Vl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Nc(e),e!==null&&P1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PM(t,e,n,r,i){switch(e){case"focusin":return vs=Vl(vs,t,e,n,r,i),!0;case"dragenter":return ws=Vl(ws,t,e,n,r,i),!0;case"mouseover":return Ss=Vl(Ss,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fu.set(s,Vl(Fu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$u.set(s,Vl($u.get(s)||null,t,e,n,r,i)),!0}return!1}function SA(t){var e=co(t.target);if(e!==null){var n=Wo(e);if(n!==null){if(e=n.tag,e===13){if(e=lA(n),e!==null){t.blockedOn=e,wA(t.priority,function(){yA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=u0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);r0=r,n.target.dispatchEvent(r),r0=null}else return e=Nc(n),e!==null&&P1(e),t.blockedOn=n,!1;e.shift()}return!0}function bx(t,e,n){cf(t)&&n.delete(e)}function RM(){l0=!1,vs!==null&&cf(vs)&&(vs=null),ws!==null&&cf(ws)&&(ws=null),Ss!==null&&cf(Ss)&&(Ss=null),Fu.forEach(bx),$u.forEach(bx)}function zl(t,e){t.blockedOn===e&&(t.blockedOn=null,l0||(l0=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,RM)))}function ju(t){function e(i){return zl(i,t)}if(0<yh.length){zl(yh[0],t);for(var n=1;n<yh.length;n++){var r=yh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vs!==null&&zl(vs,t),ws!==null&&zl(ws,t),Ss!==null&&zl(Ss,t),Fu.forEach(e),$u.forEach(e),n=0;n<ts.length;n++)r=ts[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ts.length&&(n=ts[0],n.blockedOn===null);)SA(n),n.blockedOn===null&&ts.shift()}var Na=Wi.ReactCurrentBatchConfig,Vf=!0;function NM(t,e,n,r){var i=Re,s=Na.transition;Na.transition=null;try{Re=1,R1(t,e,n,r)}finally{Re=i,Na.transition=s}}function DM(t,e,n,r){var i=Re,s=Na.transition;Na.transition=null;try{Re=4,R1(t,e,n,r)}finally{Re=i,Na.transition=s}}function R1(t,e,n,r){if(Vf){var i=u0(t,e,n,r);if(i===null)mm(t,e,r,zf,n),xx(t,r);else if(PM(i,t,e,n,r))r.stopPropagation();else if(xx(t,r),e&4&&-1<_M.indexOf(t)){for(;i!==null;){var s=Nc(i);if(s!==null&&mA(s),s=u0(t,e,n,r),s===null&&mm(t,e,r,zf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mm(t,e,r,null,n)}}var zf=null;function u0(t,e,n,r){if(zf=null,t=I1(r),t=co(t),t!==null)if(e=Wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zf=t,null}function xA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xM()){case O1:return 1;case fA:return 4;case jf:case bM:return 16;case dA:return 536870912;default:return 16}default:return 16}}var hs=null,N1=null,hf=null;function bA(){if(hf)return hf;var t,e=N1,n=e.length,r,i="value"in hs?hs.value:hs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return hf=i.slice(t,1<r?1-r:void 0)}function ff(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vh(){return!0}function kx(){return!1}function tr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vh:kx,this.isPropagationStopped=kx,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),e}var El={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},D1=tr(El),Rc=rt({},El,{view:0,detail:0}),MM=tr(Rc),am,lm,Hl,Ap=rt({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:M1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hl&&(Hl&&t.type==="mousemove"?(am=t.screenX-Hl.screenX,lm=t.screenY-Hl.screenY):lm=am=0,Hl=t),am)},movementY:function(t){return"movementY"in t?t.movementY:lm}}),Ex=tr(Ap),LM=rt({},Ap,{dataTransfer:0}),BM=tr(LM),FM=rt({},Rc,{relatedTarget:0}),um=tr(FM),$M=rt({},El,{animationName:0,elapsedTime:0,pseudoElement:0}),jM=tr($M),UM=rt({},El,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VM=tr(UM),zM=rt({},El,{data:0}),Cx=tr(zM),HM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KM[t])?!!e[t]:!1}function M1(){return qM}var GM=rt({},Rc,{key:function(t){if(t.key){var e=HM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ff(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:M1,charCode:function(t){return t.type==="keypress"?ff(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ff(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QM=tr(GM),YM=rt({},Ap,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tx=tr(YM),XM=rt({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:M1}),JM=tr(XM),ZM=rt({},El,{propertyName:0,elapsedTime:0,pseudoElement:0}),eL=tr(ZM),tL=rt({},Ap,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nL=tr(tL),rL=[9,13,27,32],L1=Di&&"CompositionEvent"in window,wu=null;Di&&"documentMode"in document&&(wu=document.documentMode);var iL=Di&&"TextEvent"in window&&!wu,kA=Di&&(!L1||wu&&8<wu&&11>=wu),Ax=String.fromCharCode(32),Ix=!1;function EA(t,e){switch(t){case"keyup":return rL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var da=!1;function sL(t,e){switch(t){case"compositionend":return CA(e);case"keypress":return e.which!==32?null:(Ix=!0,Ax);case"textInput":return t=e.data,t===Ax&&Ix?null:t;default:return null}}function oL(t,e){if(da)return t==="compositionend"||!L1&&EA(t,e)?(t=bA(),hf=N1=hs=null,da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kA&&e.locale!=="ko"?null:e.data;default:return null}}var aL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ox(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aL[t.type]:e==="textarea"}function TA(t,e,n,r){rA(r),e=Hf(e,"onChange"),0<e.length&&(n=new D1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Su=null,Uu=null;function lL(t){BA(t,0)}function Ip(t){var e=ma(t);if(YT(e))return t}function uL(t,e){if(t==="change")return e}var AA=!1;if(Di){var cm;if(Di){var hm="oninput"in document;if(!hm){var _x=document.createElement("div");_x.setAttribute("oninput","return;"),hm=typeof _x.oninput=="function"}cm=hm}else cm=!1;AA=cm&&(!document.documentMode||9<document.documentMode)}function Px(){Su&&(Su.detachEvent("onpropertychange",IA),Uu=Su=null)}function IA(t){if(t.propertyName==="value"&&Ip(Uu)){var e=[];TA(e,Uu,t,I1(t)),aA(lL,e)}}function cL(t,e,n){t==="focusin"?(Px(),Su=e,Uu=n,Su.attachEvent("onpropertychange",IA)):t==="focusout"&&Px()}function hL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ip(Uu)}function fL(t,e){if(t==="click")return Ip(e)}function dL(t,e){if(t==="input"||t==="change")return Ip(e)}function pL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:pL;function Vu(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wy.call(e,i)||!Nr(t[i],e[i]))return!1}return!0}function Rx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nx(t,e){var n=Rx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rx(n)}}function OA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _A(){for(var t=window,e=Bf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bf(t.document)}return e}function B1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gL(t){var e=_A(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OA(n.ownerDocument.documentElement,n)){if(r!==null&&B1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Nx(n,s);var o=Nx(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mL=Di&&"documentMode"in document&&11>=document.documentMode,pa=null,c0=null,xu=null,h0=!1;function Dx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;h0||pa==null||pa!==Bf(r)||(r=pa,"selectionStart"in r&&B1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xu&&Vu(xu,r)||(xu=r,r=Hf(c0,"onSelect"),0<r.length&&(e=new D1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pa)))}function wh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ga={animationend:wh("Animation","AnimationEnd"),animationiteration:wh("Animation","AnimationIteration"),animationstart:wh("Animation","AnimationStart"),transitionend:wh("Transition","TransitionEnd")},fm={},PA={};Di&&(PA=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Op(t){if(fm[t])return fm[t];if(!ga[t])return t;var e=ga[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PA)return fm[t]=e[n];return t}var RA=Op("animationend"),NA=Op("animationiteration"),DA=Op("animationstart"),MA=Op("transitionend"),LA=new Map,Mx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(t,e){LA.set(t,e),Ho(e,[t])}for(var dm=0;dm<Mx.length;dm++){var pm=Mx[dm],yL=pm.toLowerCase(),vL=pm[0].toUpperCase()+pm.slice(1);Qs(yL,"on"+vL)}Qs(RA,"onAnimationEnd");Qs(NA,"onAnimationIteration");Qs(DA,"onAnimationStart");Qs("dblclick","onDoubleClick");Qs("focusin","onFocus");Qs("focusout","onBlur");Qs(MA,"onTransitionEnd");Xa("onMouseEnter",["mouseout","mouseover"]);Xa("onMouseLeave",["mouseout","mouseover"]);Xa("onPointerEnter",["pointerout","pointerover"]);Xa("onPointerLeave",["pointerout","pointerover"]);Ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wL=new Set("cancel close invalid load scroll toggle".split(" ").concat(ou));function Lx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yM(r,e,void 0,t),t.currentTarget=null}function BA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Lx(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Lx(i,a,u),s=l}}}if($f)throw t=o0,$f=!1,o0=null,t}function Ue(t,e){var n=e[m0];n===void 0&&(n=e[m0]=new Set);var r=t+"__bubble";n.has(r)||(FA(e,t,2,!1),n.add(r))}function gm(t,e,n){var r=0;e&&(r|=4),FA(n,t,r,e)}var Sh="_reactListening"+Math.random().toString(36).slice(2);function zu(t){if(!t[Sh]){t[Sh]=!0,WT.forEach(function(n){n!=="selectionchange"&&(wL.has(n)||gm(n,!1,t),gm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sh]||(e[Sh]=!0,gm("selectionchange",!1,e))}}function FA(t,e,n,r){switch(xA(e)){case 1:var i=NM;break;case 4:i=DM;break;default:i=R1}n=i.bind(null,e,n,t),i=void 0,!s0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=co(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}aA(function(){var u=s,c=I1(n),h=[];e:{var f=LA.get(t);if(f!==void 0){var d=D1,m=t;switch(t){case"keypress":if(ff(n)===0)break e;case"keydown":case"keyup":d=QM;break;case"focusin":m="focus",d=um;break;case"focusout":m="blur",d=um;break;case"beforeblur":case"afterblur":d=um;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=BM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=JM;break;case RA:case NA:case DA:d=jM;break;case MA:d=eL;break;case"scroll":d=MM;break;case"wheel":d=nL;break;case"copy":case"cut":case"paste":d=VM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Tx}var w=(e&4)!==0,x=!w&&t==="scroll",v=w?f!==null?f+"Capture":null:f;w=[];for(var y=u,b;y!==null;){b=y;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,v!==null&&(E=Bu(y,v),E!=null&&w.push(Hu(y,E,b)))),x)break;y=y.return}0<w.length&&(f=new d(f,m,null,n,c),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==r0&&(m=n.relatedTarget||n.fromElement)&&(co(m)||m[Mi]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=u,m=m?co(m):null,m!==null&&(x=Wo(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=u),d!==m)){if(w=Ex,E="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=Tx,E="onPointerLeave",v="onPointerEnter",y="pointer"),x=d==null?f:ma(d),b=m==null?f:ma(m),f=new w(E,y+"leave",d,n,c),f.target=x,f.relatedTarget=b,E=null,co(c)===u&&(w=new w(v,y+"enter",m,n,c),w.target=b,w.relatedTarget=x,E=w),x=E,d&&m)t:{for(w=d,v=m,y=0,b=w;b;b=Zo(b))y++;for(b=0,E=v;E;E=Zo(E))b++;for(;0<y-b;)w=Zo(w),y--;for(;0<b-y;)v=Zo(v),b--;for(;y--;){if(w===v||v!==null&&w===v.alternate)break t;w=Zo(w),v=Zo(v)}w=null}else w=null;d!==null&&Bx(h,f,d,w,!1),m!==null&&x!==null&&Bx(h,x,m,w,!0)}}e:{if(f=u?ma(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var C=uL;else if(Ox(f))if(AA)C=dL;else{C=hL;var O=cL}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=fL);if(C&&(C=C(t,u))){TA(h,C,n,c);break e}O&&O(t,f,u),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Jy(f,"number",f.value)}switch(O=u?ma(u):window,t){case"focusin":(Ox(O)||O.contentEditable==="true")&&(pa=O,c0=u,xu=null);break;case"focusout":xu=c0=pa=null;break;case"mousedown":h0=!0;break;case"contextmenu":case"mouseup":case"dragend":h0=!1,Dx(h,n,c);break;case"selectionchange":if(mL)break;case"keydown":case"keyup":Dx(h,n,c)}var _;if(L1)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else da?EA(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(kA&&n.locale!=="ko"&&(da||F!=="onCompositionStart"?F==="onCompositionEnd"&&da&&(_=bA()):(hs=c,N1="value"in hs?hs.value:hs.textContent,da=!0)),O=Hf(u,F),0<O.length&&(F=new Cx(F,t,null,n,c),h.push({event:F,listeners:O}),_?F.data=_:(_=CA(n),_!==null&&(F.data=_)))),(_=iL?sL(t,n):oL(t,n))&&(u=Hf(u,"onBeforeInput"),0<u.length&&(c=new Cx("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=_))}BA(h,e)})}function Hu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bu(t,n),s!=null&&r.unshift(Hu(t,s,i)),s=Bu(t,e),s!=null&&r.push(Hu(t,s,i))),t=t.return}return r}function Zo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bx(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Bu(n,s),l!=null&&o.unshift(Hu(n,l,a))):i||(l=Bu(n,s),l!=null&&o.push(Hu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var SL=/\r\n?/g,xL=/\u0000|\uFFFD/g;function Fx(t){return(typeof t=="string"?t:""+t).replace(SL,`
`).replace(xL,"")}function xh(t,e,n){if(e=Fx(e),Fx(t)!==e&&n)throw Error(W(425))}function Wf(){}var f0=null,d0=null;function p0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var g0=typeof setTimeout=="function"?setTimeout:void 0,bL=typeof clearTimeout=="function"?clearTimeout:void 0,$x=typeof Promise=="function"?Promise:void 0,kL=typeof queueMicrotask=="function"?queueMicrotask:typeof $x<"u"?function(t){return $x.resolve(null).then(t).catch(EL)}:g0;function EL(t){setTimeout(function(){throw t})}function ym(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ju(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ju(e)}function xs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cl=Math.random().toString(36).slice(2),qr="__reactFiber$"+Cl,Wu="__reactProps$"+Cl,Mi="__reactContainer$"+Cl,m0="__reactEvents$"+Cl,CL="__reactListeners$"+Cl,TL="__reactHandles$"+Cl;function co(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mi]||n[qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jx(t);t!==null;){if(n=t[qr])return n;t=jx(t)}return e}t=n,n=t.parentNode}return null}function Nc(t){return t=t[qr]||t[Mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ma(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function _p(t){return t[Wu]||null}var y0=[],ya=-1;function Ys(t){return{current:t}}function ze(t){0>ya||(t.current=y0[ya],y0[ya]=null,ya--)}function $e(t,e){ya++,y0[ya]=t.current,t.current=e}var Bs={},fn=Ys(Bs),Ln=Ys(!1),Ao=Bs;function Ja(t,e){var n=t.type.contextTypes;if(!n)return Bs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bn(t){return t=t.childContextTypes,t!=null}function Kf(){ze(Ln),ze(fn)}function Ux(t,e,n){if(fn.current!==Bs)throw Error(W(168));$e(fn,e),$e(Ln,n)}function $A(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,cM(t)||"Unknown",i));return rt({},n,r)}function qf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bs,Ao=fn.current,$e(fn,t),$e(Ln,Ln.current),!0}function Vx(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=$A(t,e,Ao),r.__reactInternalMemoizedMergedChildContext=t,ze(Ln),ze(fn),$e(fn,t)):ze(Ln),$e(Ln,n)}var xi=null,Pp=!1,vm=!1;function jA(t){xi===null?xi=[t]:xi.push(t)}function AL(t){Pp=!0,jA(t)}function Xs(){if(!vm&&xi!==null){vm=!0;var t=0,e=Re;try{var n=xi;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xi=null,Pp=!1}catch(i){throw xi!==null&&(xi=xi.slice(t+1)),hA(O1,Xs),i}finally{Re=e,vm=!1}}return null}var va=[],wa=0,Gf=null,Qf=0,or=[],ar=0,Io=null,Ei=1,Ci="";function no(t,e){va[wa++]=Qf,va[wa++]=Gf,Gf=t,Qf=e}function UA(t,e,n){or[ar++]=Ei,or[ar++]=Ci,or[ar++]=Io,Io=t;var r=Ei;t=Ci;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var s=32-Pr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ei=1<<32-Pr(e)+i|n<<i|r,Ci=s+t}else Ei=1<<s|n<<i|r,Ci=t}function F1(t){t.return!==null&&(no(t,1),UA(t,1,0))}function $1(t){for(;t===Gf;)Gf=va[--wa],va[wa]=null,Qf=va[--wa],va[wa]=null;for(;t===Io;)Io=or[--ar],or[ar]=null,Ci=or[--ar],or[ar]=null,Ei=or[--ar],or[ar]=null}var Qn=null,qn=null,Ge=!1,Ar=null;function VA(t,e){var n=cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qn=t,qn=xs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qn=t,qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Io!==null?{id:Ei,overflow:Ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qn=t,qn=null,!0):!1;default:return!1}}function v0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function w0(t){if(Ge){var e=qn;if(e){var n=e;if(!zx(t,e)){if(v0(t))throw Error(W(418));e=xs(n.nextSibling);var r=Qn;e&&zx(t,e)?VA(r,n):(t.flags=t.flags&-4097|2,Ge=!1,Qn=t)}}else{if(v0(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ge=!1,Qn=t}}}function Hx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qn=t}function bh(t){if(t!==Qn)return!1;if(!Ge)return Hx(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!p0(t.type,t.memoizedProps)),e&&(e=qn)){if(v0(t))throw zA(),Error(W(418));for(;e;)VA(t,e),e=xs(e.nextSibling)}if(Hx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qn=xs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qn=null}}else qn=Qn?xs(t.stateNode.nextSibling):null;return!0}function zA(){for(var t=qn;t;)t=xs(t.nextSibling)}function Za(){qn=Qn=null,Ge=!1}function j1(t){Ar===null?Ar=[t]:Ar.push(t)}var IL=Wi.ReactCurrentBatchConfig;function Er(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Yf=Ys(null),Xf=null,Sa=null,U1=null;function V1(){U1=Sa=Xf=null}function z1(t){var e=Yf.current;ze(Yf),t._currentValue=e}function S0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Da(t,e){Xf=t,U1=Sa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nn=!0),t.firstContext=null)}function pr(t){var e=t._currentValue;if(U1!==t)if(t={context:t,memoizedValue:e,next:null},Sa===null){if(Xf===null)throw Error(W(308));Sa=t,Xf.dependencies={lanes:0,firstContext:t}}else Sa=Sa.next=t;return e}var ho=null;function H1(t){ho===null?ho=[t]:ho.push(t)}function HA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,H1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Li(t,r)}function Li(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ji=!1;function W1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Li(t,n)}return i=r.interleaved,i===null?(e.next=e,H1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Li(t,n)}function df(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_1(t,n)}}function Wx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jf(t,e,n,r){var i=t.updateQueue;Ji=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,w=a;switch(f=e,d=n,w.tag){case 1:if(m=w.payload,typeof m=="function"){h=m.call(d,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,f=typeof m=="function"?m.call(d,h,f):m,f==null)break e;h=rt({},h,f);break e;case 2:Ji=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_o|=o,t.lanes=o,t.memoizedState=h}}function Kx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var KA=new HT.Component().refs;function x0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rp={isMounted:function(t){return(t=t._reactInternals)?Wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Cn(),i=Es(t),s=_i(r,i);s.payload=e,n!=null&&(s.callback=n),e=bs(t,s,i),e!==null&&(Rr(e,t,i,r),df(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Cn(),i=Es(t),s=_i(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=bs(t,s,i),e!==null&&(Rr(e,t,i,r),df(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cn(),r=Es(t),i=_i(n,r);i.tag=2,e!=null&&(i.callback=e),e=bs(t,i,r),e!==null&&(Rr(e,t,r,n),df(e,t,r))}};function qx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Vu(n,r)||!Vu(i,s):!0}function qA(t,e,n){var r=!1,i=Bs,s=e.contextType;return typeof s=="object"&&s!==null?s=pr(s):(i=Bn(e)?Ao:fn.current,r=e.contextTypes,s=(r=r!=null)?Ja(t,i):Bs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Gx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rp.enqueueReplaceState(e,e.state,null)}function b0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=KA,W1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pr(s):(s=Bn(e)?Ao:fn.current,i.context=Ja(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(x0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rp.enqueueReplaceState(i,i.state,null),Jf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===KA&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function kh(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qx(t){var e=t._init;return e(t._payload)}function GA(t){function e(v,y){if(t){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Cs(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,E){return y===null||y.tag!==6?(y=Cm(b,v.mode,E),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b,E){var C=b.type;return C===fa?c(v,y,b.props.children,E,b.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Xi&&Qx(C)===y.type)?(E=i(y,b.props),E.ref=Wl(v,y,b),E.return=v,E):(E=wf(b.type,b.key,b.props,null,v.mode,E),E.ref=Wl(v,y,b),E.return=v,E)}function u(v,y,b,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Tm(b,v.mode,E),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function c(v,y,b,E,C){return y===null||y.tag!==7?(y=xo(b,v.mode,E,C),y.return=v,y):(y=i(y,b),y.return=v,y)}function h(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Cm(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fh:return b=wf(y.type,y.key,y.props,null,v.mode,b),b.ref=Wl(v,null,y),b.return=v,b;case ha:return y=Tm(y,v.mode,b),y.return=v,y;case Xi:var E=y._init;return h(v,E(y._payload),b)}if(iu(y)||jl(y))return y=xo(y,v.mode,b,null),y.return=v,y;kh(v,y)}return null}function f(v,y,b,E){var C=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(v,y,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fh:return b.key===C?l(v,y,b,E):null;case ha:return b.key===C?u(v,y,b,E):null;case Xi:return C=b._init,f(v,y,C(b._payload),E)}if(iu(b)||jl(b))return C!==null?null:c(v,y,b,E,null);kh(v,b)}return null}function d(v,y,b,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(b)||null,a(y,v,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case fh:return v=v.get(E.key===null?b:E.key)||null,l(y,v,E,C);case ha:return v=v.get(E.key===null?b:E.key)||null,u(y,v,E,C);case Xi:var O=E._init;return d(v,y,b,O(E._payload),C)}if(iu(E)||jl(E))return v=v.get(b)||null,c(y,v,E,C,null);kh(y,E)}return null}function m(v,y,b,E){for(var C=null,O=null,_=y,F=y=0,L=null;_!==null&&F<b.length;F++){_.index>F?(L=_,_=null):L=_.sibling;var M=f(v,_,b[F],E);if(M===null){_===null&&(_=L);break}t&&_&&M.alternate===null&&e(v,_),y=s(M,y,F),O===null?C=M:O.sibling=M,O=M,_=L}if(F===b.length)return n(v,_),Ge&&no(v,F),C;if(_===null){for(;F<b.length;F++)_=h(v,b[F],E),_!==null&&(y=s(_,y,F),O===null?C=_:O.sibling=_,O=_);return Ge&&no(v,F),C}for(_=r(v,_);F<b.length;F++)L=d(_,v,F,b[F],E),L!==null&&(t&&L.alternate!==null&&_.delete(L.key===null?F:L.key),y=s(L,y,F),O===null?C=L:O.sibling=L,O=L);return t&&_.forEach(function(Z){return e(v,Z)}),Ge&&no(v,F),C}function w(v,y,b,E){var C=jl(b);if(typeof C!="function")throw Error(W(150));if(b=C.call(b),b==null)throw Error(W(151));for(var O=C=null,_=y,F=y=0,L=null,M=b.next();_!==null&&!M.done;F++,M=b.next()){_.index>F?(L=_,_=null):L=_.sibling;var Z=f(v,_,M.value,E);if(Z===null){_===null&&(_=L);break}t&&_&&Z.alternate===null&&e(v,_),y=s(Z,y,F),O===null?C=Z:O.sibling=Z,O=Z,_=L}if(M.done)return n(v,_),Ge&&no(v,F),C;if(_===null){for(;!M.done;F++,M=b.next())M=h(v,M.value,E),M!==null&&(y=s(M,y,F),O===null?C=M:O.sibling=M,O=M);return Ge&&no(v,F),C}for(_=r(v,_);!M.done;F++,M=b.next())M=d(_,v,F,M.value,E),M!==null&&(t&&M.alternate!==null&&_.delete(M.key===null?F:M.key),y=s(M,y,F),O===null?C=M:O.sibling=M,O=M);return t&&_.forEach(function(Y){return e(v,Y)}),Ge&&no(v,F),C}function x(v,y,b,E){if(typeof b=="object"&&b!==null&&b.type===fa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case fh:e:{for(var C=b.key,O=y;O!==null;){if(O.key===C){if(C=b.type,C===fa){if(O.tag===7){n(v,O.sibling),y=i(O,b.props.children),y.return=v,v=y;break e}}else if(O.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Xi&&Qx(C)===O.type){n(v,O.sibling),y=i(O,b.props),y.ref=Wl(v,O,b),y.return=v,v=y;break e}n(v,O);break}else e(v,O);O=O.sibling}b.type===fa?(y=xo(b.props.children,v.mode,E,b.key),y.return=v,v=y):(E=wf(b.type,b.key,b.props,null,v.mode,E),E.ref=Wl(v,y,b),E.return=v,v=E)}return o(v);case ha:e:{for(O=b.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Tm(b,v.mode,E),y.return=v,v=y}return o(v);case Xi:return O=b._init,x(v,y,O(b._payload),E)}if(iu(b))return m(v,y,b,E);if(jl(b))return w(v,y,b,E);kh(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,b),y.return=v,v=y):(n(v,y),y=Cm(b,v.mode,E),y.return=v,v=y),o(v)):n(v,y)}return x}var el=GA(!0),QA=GA(!1),Dc={},si=Ys(Dc),Ku=Ys(Dc),qu=Ys(Dc);function fo(t){if(t===Dc)throw Error(W(174));return t}function K1(t,e){switch($e(qu,e),$e(Ku,t),$e(si,Dc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:e0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=e0(e,t)}ze(si),$e(si,e)}function tl(){ze(si),ze(Ku),ze(qu)}function YA(t){fo(qu.current);var e=fo(si.current),n=e0(e,t.type);e!==n&&($e(Ku,t),$e(si,n))}function q1(t){Ku.current===t&&(ze(si),ze(Ku))}var et=Ys(0);function Zf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wm=[];function G1(){for(var t=0;t<wm.length;t++)wm[t]._workInProgressVersionPrimary=null;wm.length=0}var pf=Wi.ReactCurrentDispatcher,Sm=Wi.ReactCurrentBatchConfig,Oo=0,nt=null,xt=null,It=null,ed=!1,bu=!1,Gu=0,OL=0;function Xt(){throw Error(W(321))}function Q1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function Y1(t,e,n,r,i,s){if(Oo=s,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pf.current=t===null||t.memoizedState===null?NL:DL,t=n(r,i),bu){s=0;do{if(bu=!1,Gu=0,25<=s)throw Error(W(301));s+=1,It=xt=null,e.updateQueue=null,pf.current=ML,t=n(r,i)}while(bu)}if(pf.current=td,e=xt!==null&&xt.next!==null,Oo=0,It=xt=nt=null,ed=!1,e)throw Error(W(300));return t}function X1(){var t=Gu!==0;return Gu=0,t}function Wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?nt.memoizedState=It=t:It=It.next=t,It}function gr(){if(xt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=It===null?nt.memoizedState:It.next;if(e!==null)It=e,xt=t;else{if(t===null)throw Error(W(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},It===null?nt.memoizedState=It=t:It=It.next=t}return It}function Qu(t,e){return typeof e=="function"?e(t):e}function xm(t){var e=gr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Oo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,nt.lanes|=c,_o|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Nr(r,e.memoizedState)||(Nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,nt.lanes|=s,_o|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bm(t){var e=gr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Nr(s,e.memoizedState)||(Nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function XA(){}function JA(t,e){var n=nt,r=gr(),i=e(),s=!Nr(r.memoizedState,i);if(s&&(r.memoizedState=i,Nn=!0),r=r.queue,J1(t2.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,Yu(9,e2.bind(null,n,r,i,e),void 0,null),_t===null)throw Error(W(349));Oo&30||ZA(n,e,i)}return i}function ZA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function e2(t,e,n,r){e.value=n,e.getSnapshot=r,n2(e)&&r2(t)}function t2(t,e,n){return n(function(){n2(e)&&r2(t)})}function n2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function r2(t){var e=Li(t,1);e!==null&&Rr(e,t,1,-1)}function Yx(t){var e=Wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:t},e.queue=t,t=t.dispatch=RL.bind(null,nt,t),[e.memoizedState,t]}function Yu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function i2(){return gr().memoizedState}function gf(t,e,n,r){var i=Wr();nt.flags|=t,i.memoizedState=Yu(1|e,n,void 0,r===void 0?null:r)}function Np(t,e,n,r){var i=gr();r=r===void 0?null:r;var s=void 0;if(xt!==null){var o=xt.memoizedState;if(s=o.destroy,r!==null&&Q1(r,o.deps)){i.memoizedState=Yu(e,n,s,r);return}}nt.flags|=t,i.memoizedState=Yu(1|e,n,s,r)}function Xx(t,e){return gf(8390656,8,t,e)}function J1(t,e){return Np(2048,8,t,e)}function s2(t,e){return Np(4,2,t,e)}function o2(t,e){return Np(4,4,t,e)}function a2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function l2(t,e,n){return n=n!=null?n.concat([t]):null,Np(4,4,a2.bind(null,e,t),n)}function Z1(){}function u2(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Q1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function c2(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Q1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function h2(t,e,n){return Oo&21?(Nr(n,e)||(n=pA(),nt.lanes|=n,_o|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nn=!0),t.memoizedState=n)}function _L(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=Sm.transition;Sm.transition={};try{t(!1),e()}finally{Re=n,Sm.transition=r}}function f2(){return gr().memoizedState}function PL(t,e,n){var r=Es(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},d2(t))p2(e,n);else if(n=HA(t,e,n,r),n!==null){var i=Cn();Rr(n,t,r,i),g2(n,e,r)}}function RL(t,e,n){var r=Es(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(d2(t))p2(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Nr(a,o)){var l=e.interleaved;l===null?(i.next=i,H1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=HA(t,e,i,r),n!==null&&(i=Cn(),Rr(n,t,r,i),g2(n,e,r))}}function d2(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function p2(t,e){bu=ed=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function g2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_1(t,n)}}var td={readContext:pr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},NL={readContext:pr,useCallback:function(t,e){return Wr().memoizedState=[t,e===void 0?null:e],t},useContext:pr,useEffect:Xx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gf(4194308,4,a2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gf(4194308,4,t,e)},useInsertionEffect:function(t,e){return gf(4,2,t,e)},useMemo:function(t,e){var n=Wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PL.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=Wr();return t={current:t},e.memoizedState=t},useState:Yx,useDebugValue:Z1,useDeferredValue:function(t){return Wr().memoizedState=t},useTransition:function(){var t=Yx(!1),e=t[0];return t=_L.bind(null,t[1]),Wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,i=Wr();if(Ge){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),_t===null)throw Error(W(349));Oo&30||ZA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Xx(t2.bind(null,r,s,t),[t]),r.flags|=2048,Yu(9,e2.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Wr(),e=_t.identifierPrefix;if(Ge){var n=Ci,r=Ei;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},DL={readContext:pr,useCallback:u2,useContext:pr,useEffect:J1,useImperativeHandle:l2,useInsertionEffect:s2,useLayoutEffect:o2,useMemo:c2,useReducer:xm,useRef:i2,useState:function(){return xm(Qu)},useDebugValue:Z1,useDeferredValue:function(t){var e=gr();return h2(e,xt.memoizedState,t)},useTransition:function(){var t=xm(Qu)[0],e=gr().memoizedState;return[t,e]},useMutableSource:XA,useSyncExternalStore:JA,useId:f2,unstable_isNewReconciler:!1},ML={readContext:pr,useCallback:u2,useContext:pr,useEffect:J1,useImperativeHandle:l2,useInsertionEffect:s2,useLayoutEffect:o2,useMemo:c2,useReducer:bm,useRef:i2,useState:function(){return bm(Qu)},useDebugValue:Z1,useDeferredValue:function(t){var e=gr();return xt===null?e.memoizedState=t:h2(e,xt.memoizedState,t)},useTransition:function(){var t=bm(Qu)[0],e=gr().memoizedState;return[t,e]},useMutableSource:XA,useSyncExternalStore:JA,useId:f2,unstable_isNewReconciler:!1};function nl(t,e){try{var n="",r=e;do n+=uM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function km(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function k0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LL=typeof WeakMap=="function"?WeakMap:Map;function m2(t,e,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rd||(rd=!0,N0=r),k0(t,e)},n}function y2(t,e,n){n=_i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){k0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){k0(t,e),typeof r!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Jx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=YL.bind(null,t,e,n),e.then(t,t))}function Zx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function eb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_i(-1,1),e.tag=2,bs(n,e,1))),n.lanes|=1),t)}var BL=Wi.ReactCurrentOwner,Nn=!1;function vn(t,e,n,r){e.child=t===null?QA(e,null,n,r):el(e,t.child,n,r)}function tb(t,e,n,r,i){n=n.render;var s=e.ref;return Da(e,i),r=Y1(t,e,n,r,s,i),n=X1(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bi(t,e,i)):(Ge&&n&&F1(e),e.flags|=1,vn(t,e,r,i),e.child)}function nb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!aw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,v2(t,e,s,r,i)):(t=wf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vu,n(o,r)&&t.ref===e.ref)return Bi(t,e,i)}return e.flags|=1,t=Cs(s,r),t.ref=e.ref,t.return=e,e.child=t}function v2(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Vu(s,r)&&t.ref===e.ref)if(Nn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Nn=!0);else return e.lanes=t.lanes,Bi(t,e,i)}return E0(t,e,n,r,i)}function w2(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(ba,zn),zn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(ba,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$e(ba,zn),zn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,$e(ba,zn),zn|=r;return vn(t,e,i,n),e.child}function S2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function E0(t,e,n,r,i){var s=Bn(n)?Ao:fn.current;return s=Ja(e,s),Da(e,i),n=Y1(t,e,n,r,s,i),r=X1(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bi(t,e,i)):(Ge&&r&&F1(e),e.flags|=1,vn(t,e,n,i),e.child)}function rb(t,e,n,r,i){if(Bn(n)){var s=!0;qf(e)}else s=!1;if(Da(e,i),e.stateNode===null)mf(t,e),qA(e,n,r),b0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=pr(u):(u=Bn(n)?Ao:fn.current,u=Ja(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Gx(e,o,r,u),Ji=!1;var f=e.memoizedState;o.state=f,Jf(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Ln.current||Ji?(typeof c=="function"&&(x0(e,n,c,r),l=e.memoizedState),(a=Ji||qx(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,WA(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Er(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=Bn(n)?Ao:fn.current,l=Ja(e,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Gx(e,o,r,l),Ji=!1,f=e.memoizedState,o.state=f,Jf(e,r,o,i);var m=e.memoizedState;a!==h||f!==m||Ln.current||Ji?(typeof d=="function"&&(x0(e,n,d,r),m=e.memoizedState),(u=Ji||qx(e,n,u,r,f,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return C0(t,e,n,r,s,i)}function C0(t,e,n,r,i,s){S2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Vx(e,n,!1),Bi(t,e,s);r=e.stateNode,BL.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=el(e,t.child,null,s),e.child=el(e,null,a,s)):vn(t,e,a,s),e.memoizedState=r.state,i&&Vx(e,n,!0),e.child}function x2(t){var e=t.stateNode;e.pendingContext?Ux(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ux(t,e.context,!1),K1(t,e.containerInfo)}function ib(t,e,n,r,i){return Za(),j1(i),e.flags|=256,vn(t,e,n,r),e.child}var T0={dehydrated:null,treeContext:null,retryLane:0};function A0(t){return{baseLanes:t,cachePool:null,transitions:null}}function b2(t,e,n){var r=e.pendingProps,i=et.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$e(et,i&1),t===null)return w0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lp(o,r,0,null),t=xo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=A0(n),e.memoizedState=T0,t):ew(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FL(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Cs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Cs(a,s):(s=xo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?A0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=T0,r}return s=t.child,t=s.sibling,r=Cs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ew(t,e){return e=Lp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Eh(t,e,n,r){return r!==null&&j1(r),el(e,t.child,null,n),t=ew(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FL(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=km(Error(W(422))),Eh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Lp({mode:"visible",children:r.children},i,0,null),s=xo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&el(e,t.child,null,o),e.child.memoizedState=A0(o),e.memoizedState=T0,s);if(!(e.mode&1))return Eh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=km(s,r,void 0),Eh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Nn||a){if(r=_t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Li(t,i),Rr(r,t,i,-1))}return ow(),r=km(Error(W(421))),Eh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=XL.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qn=xs(i.nextSibling),Qn=e,Ge=!0,Ar=null,t!==null&&(or[ar++]=Ei,or[ar++]=Ci,or[ar++]=Io,Ei=t.id,Ci=t.overflow,Io=e),e=ew(e,r.children),e.flags|=4096,e)}function sb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),S0(t.return,e,n)}function Em(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function k2(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(vn(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sb(t,n,e);else if(t.tag===19)sb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Em(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Em(e,!0,n,null,s);break;case"together":Em(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_o|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Cs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $L(t,e,n){switch(e.tag){case 3:x2(e),Za();break;case 5:YA(e);break;case 1:Bn(e.type)&&qf(e);break;case 4:K1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$e(Yf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?b2(t,e,n):($e(et,et.current&1),t=Bi(t,e,n),t!==null?t.sibling:null);$e(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return k2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,w2(t,e,n)}return Bi(t,e,n)}var E2,I0,C2,T2;E2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};I0=function(){};C2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fo(si.current);var s=null;switch(n){case"input":i=Yy(t,i),r=Yy(t,r),s=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),s=[];break;case"textarea":i=Zy(t,i),r=Zy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wf)}t0(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ue("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};T2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Kl(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jL(t,e,n){var r=e.pendingProps;switch($1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return Bn(e.type)&&Kf(),Jt(e),null;case 3:return r=e.stateNode,tl(),ze(Ln),ze(fn),G1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(L0(Ar),Ar=null))),I0(t,e),Jt(e),null;case 5:q1(e);var i=fo(qu.current);if(n=e.type,t!==null&&e.stateNode!=null)C2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Jt(e),null}if(t=fo(si.current),bh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qr]=e,r[Wu]=s,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<ou.length;i++)Ue(ou[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":px(r,s),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ue("invalid",r);break;case"textarea":mx(r,s),Ue("invalid",r)}t0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&xh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&xh(r.textContent,a,t),i=["children",""+a]):Mu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":dh(r),gx(r,s,!0);break;case"textarea":dh(r),yx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Wf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qr]=e,t[Wu]=r,E2(t,e,!1,!1),e.stateNode=t;e:{switch(o=n0(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),i=r;break;case"iframe":case"object":case"embed":Ue("load",t),i=r;break;case"video":case"audio":for(i=0;i<ou.length;i++)Ue(ou[i],t);i=r;break;case"source":Ue("error",t),i=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),i=r;break;case"details":Ue("toggle",t),i=r;break;case"input":px(t,r),i=Yy(t,r),Ue("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":mx(t,r),i=Zy(t,r),Ue("invalid",t);break;default:i=r}t0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?nA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lu(t,l):typeof l=="number"&&Lu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ue("scroll",t):l!=null&&E1(t,s,l,o))}switch(n){case"input":dh(t),gx(t,r,!1);break;case"textarea":dh(t),yx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ls(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?_a(t,!!r.multiple,s,!1):r.defaultValue!=null&&_a(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)T2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=fo(qu.current),fo(si.current),bh(e)){if(r=e.stateNode,n=e.memoizedProps,r[qr]=e,(s=r.nodeValue!==n)&&(t=Qn,t!==null))switch(t.tag){case 3:xh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=e,e.stateNode=r}return Jt(e),null;case 13:if(ze(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&qn!==null&&e.mode&1&&!(e.flags&128))zA(),Za(),e.flags|=98560,s=!1;else if(s=bh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[qr]=e}else Za(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),s=!1}else Ar!==null&&(L0(Ar),Ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?kt===0&&(kt=3):ow())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return tl(),I0(t,e),t===null&&zu(e.stateNode.containerInfo),Jt(e),null;case 10:return z1(e.type._context),Jt(e),null;case 17:return Bn(e.type)&&Kf(),Jt(e),null;case 19:if(ze(et),s=e.memoizedState,s===null)return Jt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Kl(s,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zf(t),o!==null){for(e.flags|=128,Kl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(et,et.current&1|2),e.child}t=t.sibling}s.tail!==null&&dt()>rl&&(e.flags|=128,r=!0,Kl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Zf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return Jt(e),null}else 2*dt()-s.renderingStartTime>rl&&n!==1073741824&&(e.flags|=128,r=!0,Kl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=et.current,$e(et,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return sw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zn&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function UL(t,e){switch($1(e),e.tag){case 1:return Bn(e.type)&&Kf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tl(),ze(Ln),ze(fn),G1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return q1(e),null;case 13:if(ze(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Za()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(et),null;case 4:return tl(),null;case 10:return z1(e.type._context),null;case 22:case 23:return sw(),null;case 24:return null;default:return null}}var Ch=!1,sn=!1,VL=typeof WeakSet=="function"?WeakSet:Set,te=null;function xa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function O0(t,e,n){try{n()}catch(r){at(t,e,r)}}var ob=!1;function zL(t,e){if(f0=Vf,t=_A(),B1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(d0={focusedElem:t,selectionRange:n},Vf=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,x=m.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Er(e.type,w),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(E){at(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return m=ob,ob=!1,m}function ku(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&O0(e,n,s)}i=i.next}while(i!==r)}}function Dp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function A2(t){var e=t.alternate;e!==null&&(t.alternate=null,A2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[Wu],delete e[m0],delete e[CL],delete e[TL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function I2(t){return t.tag===5||t.tag===3||t.tag===4}function ab(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||I2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function P0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wf));else if(r!==4&&(t=t.child,t!==null))for(P0(t,e,n),t=t.sibling;t!==null;)P0(t,e,n),t=t.sibling}function R0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(R0(t,e,n),t=t.sibling;t!==null;)R0(t,e,n),t=t.sibling}var Ft=null,Tr=!1;function Qi(t,e,n){for(n=n.child;n!==null;)O2(t,e,n),n=n.sibling}function O2(t,e,n){if(ii&&typeof ii.onCommitFiberUnmount=="function")try{ii.onCommitFiberUnmount(Tp,n)}catch{}switch(n.tag){case 5:sn||xa(n,e);case 6:var r=Ft,i=Tr;Ft=null,Qi(t,e,n),Ft=r,Tr=i,Ft!==null&&(Tr?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(Tr?(t=Ft,n=n.stateNode,t.nodeType===8?ym(t.parentNode,n):t.nodeType===1&&ym(t,n),ju(t)):ym(Ft,n.stateNode));break;case 4:r=Ft,i=Tr,Ft=n.stateNode.containerInfo,Tr=!0,Qi(t,e,n),Ft=r,Tr=i;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&O0(n,e,o),i=i.next}while(i!==r)}Qi(t,e,n);break;case 1:if(!sn&&(xa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}Qi(t,e,n);break;case 21:Qi(t,e,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,Qi(t,e,n),sn=r):Qi(t,e,n);break;default:Qi(t,e,n)}}function lb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VL),e.forEach(function(r){var i=JL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,Tr=!1;break e;case 3:Ft=a.stateNode.containerInfo,Tr=!0;break e;case 4:Ft=a.stateNode.containerInfo,Tr=!0;break e}a=a.return}if(Ft===null)throw Error(W(160));O2(s,o,i),Ft=null,Tr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_2(e,t),e=e.sibling}function _2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(e,t),$r(t),r&4){try{ku(3,t,t.return),Dp(3,t)}catch(w){at(t,t.return,w)}try{ku(5,t,t.return)}catch(w){at(t,t.return,w)}}break;case 1:br(e,t),$r(t),r&512&&n!==null&&xa(n,n.return);break;case 5:if(br(e,t),$r(t),r&512&&n!==null&&xa(n,n.return),t.flags&32){var i=t.stateNode;try{Lu(i,"")}catch(w){at(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&XT(i,s),n0(a,o);var u=n0(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?nA(i,h):c==="dangerouslySetInnerHTML"?eA(i,h):c==="children"?Lu(i,h):E1(i,c,h,u)}switch(a){case"input":Xy(i,s);break;case"textarea":JT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?_a(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?_a(i,!!s.multiple,s.defaultValue,!0):_a(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wu]=s}catch(w){at(t,t.return,w)}}break;case 6:if(br(e,t),$r(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){at(t,t.return,w)}}break;case 3:if(br(e,t),$r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ju(e.containerInfo)}catch(w){at(t,t.return,w)}break;case 4:br(e,t),$r(t);break;case 13:br(e,t),$r(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rw=dt())),r&4&&lb(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(sn=(u=sn)||c,br(e,t),sn=u):br(e,t),$r(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(te=t,c=t.child;c!==null;){for(h=te=c;te!==null;){switch(f=te,d=f.child,f.tag){case 0:case 11:case 14:case 15:ku(4,f,f.return);break;case 1:xa(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){at(r,n,w)}}break;case 5:xa(f,f.return);break;case 22:if(f.memoizedState!==null){cb(h);continue}}d!==null?(d.return=f,te=d):cb(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tA("display",o))}catch(w){at(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){at(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:br(e,t),$r(t),r&4&&lb(t);break;case 21:break;default:br(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(I2(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lu(i,""),r.flags&=-33);var s=ab(t);R0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ab(t);P0(t,a,o);break;default:throw Error(W(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HL(t,e,n){te=t,P2(t)}function P2(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ch;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||sn;a=Ch;var u=sn;if(Ch=o,(sn=l)&&!u)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?hb(i):l!==null?(l.return=o,te=l):hb(i);for(;s!==null;)te=s,P2(s),s=s.sibling;te=i,Ch=a,sn=u}ub(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):ub(t)}}function ub(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||Dp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Er(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Kx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Kx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ju(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}sn||e.flags&512&&_0(e)}catch(f){at(e,e.return,f)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function cb(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function hb(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dp(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var s=e.return;try{_0(e)}catch(l){at(e,s,l)}break;case 5:var o=e.return;try{_0(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var WL=Math.ceil,nd=Wi.ReactCurrentDispatcher,tw=Wi.ReactCurrentOwner,fr=Wi.ReactCurrentBatchConfig,Ae=0,_t=null,mt=null,Kt=0,zn=0,ba=Ys(0),kt=0,Xu=null,_o=0,Mp=0,nw=0,Eu=null,Pn=null,rw=0,rl=1/0,Si=null,rd=!1,N0=null,ks=null,Th=!1,fs=null,id=0,Cu=0,D0=null,yf=-1,vf=0;function Cn(){return Ae&6?dt():yf!==-1?yf:yf=dt()}function Es(t){return t.mode&1?Ae&2&&Kt!==0?Kt&-Kt:IL.transition!==null?(vf===0&&(vf=pA()),vf):(t=Re,t!==0||(t=window.event,t=t===void 0?16:xA(t.type)),t):1}function Rr(t,e,n,r){if(50<Cu)throw Cu=0,D0=null,Error(W(185));Pc(t,n,r),(!(Ae&2)||t!==_t)&&(t===_t&&(!(Ae&2)&&(Mp|=n),kt===4&&ns(t,Kt)),Fn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(rl=dt()+500,Pp&&Xs()))}function Fn(t,e){var n=t.callbackNode;IM(t,e);var r=Uf(t,t===_t?Kt:0);if(r===0)n!==null&&Sx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sx(n),e===1)t.tag===0?AL(fb.bind(null,t)):jA(fb.bind(null,t)),kL(function(){!(Ae&6)&&Xs()}),n=null;else{switch(gA(r)){case 1:n=O1;break;case 4:n=fA;break;case 16:n=jf;break;case 536870912:n=dA;break;default:n=jf}n=$2(n,R2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function R2(t,e){if(yf=-1,vf=0,Ae&6)throw Error(W(327));var n=t.callbackNode;if(Ma()&&t.callbackNode!==n)return null;var r=Uf(t,t===_t?Kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sd(t,r);else{e=r;var i=Ae;Ae|=2;var s=D2();(_t!==t||Kt!==e)&&(Si=null,rl=dt()+500,So(t,e));do try{GL();break}catch(a){N2(t,a)}while(1);V1(),nd.current=s,Ae=i,mt!==null?e=0:(_t=null,Kt=0,e=kt)}if(e!==0){if(e===2&&(i=a0(t),i!==0&&(r=i,e=M0(t,i))),e===1)throw n=Xu,So(t,0),ns(t,r),Fn(t,dt()),n;if(e===6)ns(t,r);else{if(i=t.current.alternate,!(r&30)&&!KL(i)&&(e=sd(t,r),e===2&&(s=a0(t),s!==0&&(r=s,e=M0(t,s))),e===1))throw n=Xu,So(t,0),ns(t,r),Fn(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:ro(t,Pn,Si);break;case 3:if(ns(t,r),(r&130023424)===r&&(e=rw+500-dt(),10<e)){if(Uf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=g0(ro.bind(null,t,Pn,Si),e);break}ro(t,Pn,Si);break;case 4:if(ns(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WL(r/1960))-r,10<r){t.timeoutHandle=g0(ro.bind(null,t,Pn,Si),r);break}ro(t,Pn,Si);break;case 5:ro(t,Pn,Si);break;default:throw Error(W(329))}}}return Fn(t,dt()),t.callbackNode===n?R2.bind(null,t):null}function M0(t,e){var n=Eu;return t.current.memoizedState.isDehydrated&&(So(t,e).flags|=256),t=sd(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&L0(e)),t}function L0(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function KL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Nr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ns(t,e){for(e&=~nw,e&=~Mp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function fb(t){if(Ae&6)throw Error(W(327));Ma();var e=Uf(t,0);if(!(e&1))return Fn(t,dt()),null;var n=sd(t,e);if(t.tag!==0&&n===2){var r=a0(t);r!==0&&(e=r,n=M0(t,r))}if(n===1)throw n=Xu,So(t,0),ns(t,e),Fn(t,dt()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ro(t,Pn,Si),Fn(t,dt()),null}function iw(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(rl=dt()+500,Pp&&Xs())}}function Po(t){fs!==null&&fs.tag===0&&!(Ae&6)&&Ma();var e=Ae;Ae|=1;var n=fr.transition,r=Re;try{if(fr.transition=null,Re=1,t)return t()}finally{Re=r,fr.transition=n,Ae=e,!(Ae&6)&&Xs()}}function sw(){zn=ba.current,ze(ba)}function So(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bL(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch($1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kf();break;case 3:tl(),ze(Ln),ze(fn),G1();break;case 5:q1(r);break;case 4:tl();break;case 13:ze(et);break;case 19:ze(et);break;case 10:z1(r.type._context);break;case 22:case 23:sw()}n=n.return}if(_t=t,mt=t=Cs(t.current,null),Kt=zn=e,kt=0,Xu=null,nw=Mp=_o=0,Pn=Eu=null,ho!==null){for(e=0;e<ho.length;e++)if(n=ho[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ho=null}return t}function N2(t,e){do{var n=mt;try{if(V1(),pf.current=td,ed){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ed=!1}if(Oo=0,It=xt=nt=null,bu=!1,Gu=0,tw.current=null,n===null||n.return===null){kt=1,Xu=e,mt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Kt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Zx(o);if(d!==null){d.flags&=-257,eb(d,o,a,s,e),d.mode&1&&Jx(s,u,e),e=d,l=u;var m=e.updateQueue;if(m===null){var w=new Set;w.add(l),e.updateQueue=w}else m.add(l);break e}else{if(!(e&1)){Jx(s,u,e),ow();break e}l=Error(W(426))}}else if(Ge&&a.mode&1){var x=Zx(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),eb(x,o,a,s,e),j1(nl(l,a));break e}}s=l=nl(l,a),kt!==4&&(kt=2),Eu===null?Eu=[s]:Eu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=m2(s,l,e);Wx(s,v);break e;case 1:a=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ks===null||!ks.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=y2(s,a,e);Wx(s,E);break e}}s=s.return}while(s!==null)}L2(n)}catch(C){e=C,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(1)}function D2(){var t=nd.current;return nd.current=td,t===null?td:t}function ow(){(kt===0||kt===3||kt===2)&&(kt=4),_t===null||!(_o&268435455)&&!(Mp&268435455)||ns(_t,Kt)}function sd(t,e){var n=Ae;Ae|=2;var r=D2();(_t!==t||Kt!==e)&&(Si=null,So(t,e));do try{qL();break}catch(i){N2(t,i)}while(1);if(V1(),Ae=n,nd.current=r,mt!==null)throw Error(W(261));return _t=null,Kt=0,kt}function qL(){for(;mt!==null;)M2(mt)}function GL(){for(;mt!==null&&!wM();)M2(mt)}function M2(t){var e=F2(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?L2(t):mt=e,tw.current=null}function L2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UL(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,mt=null;return}}else if(n=jL(n,e,zn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);kt===0&&(kt=5)}function ro(t,e,n){var r=Re,i=fr.transition;try{fr.transition=null,Re=1,QL(t,e,n,r)}finally{fr.transition=i,Re=r}return null}function QL(t,e,n,r){do Ma();while(fs!==null);if(Ae&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(OM(t,s),t===_t&&(mt=_t=null,Kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Th||(Th=!0,$2(jf,function(){return Ma(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=fr.transition,fr.transition=null;var o=Re;Re=1;var a=Ae;Ae|=4,tw.current=null,zL(t,n),_2(n,t),gL(d0),Vf=!!f0,d0=f0=null,t.current=n,HL(n),SM(),Ae=a,Re=o,fr.transition=s}else t.current=n;if(Th&&(Th=!1,fs=t,id=i),s=t.pendingLanes,s===0&&(ks=null),kM(n.stateNode),Fn(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rd)throw rd=!1,t=N0,N0=null,t;return id&1&&t.tag!==0&&Ma(),s=t.pendingLanes,s&1?t===D0?Cu++:(Cu=0,D0=t):Cu=0,Xs(),null}function Ma(){if(fs!==null){var t=gA(id),e=fr.transition,n=Re;try{if(fr.transition=null,Re=16>t?16:t,fs===null)var r=!1;else{if(t=fs,fs=null,id=0,Ae&6)throw Error(W(331));var i=Ae;for(Ae|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:ku(8,c,s)}var h=c.child;if(h!==null)h.return=c,te=h;else for(;te!==null;){c=te;var f=c.sibling,d=c.return;if(A2(c),c===u){te=null;break}if(f!==null){f.return=d,te=f;break}te=d}}}var m=s.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ku(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,te=v;break e}te=s.return}}var y=t.current;for(te=y;te!==null;){o=te;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,te=b;else e:for(o=y;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dp(9,a)}}catch(C){at(a,a.return,C)}if(a===o){te=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,te=E;break e}te=a.return}}if(Ae=i,Xs(),ii&&typeof ii.onPostCommitFiberRoot=="function")try{ii.onPostCommitFiberRoot(Tp,t)}catch{}r=!0}return r}finally{Re=n,fr.transition=e}}return!1}function db(t,e,n){e=nl(n,e),e=m2(t,e,1),t=bs(t,e,1),e=Cn(),t!==null&&(Pc(t,1,e),Fn(t,e))}function at(t,e,n){if(t.tag===3)db(t,t,n);else for(;e!==null;){if(e.tag===3){db(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ks===null||!ks.has(r))){t=nl(n,t),t=y2(e,t,1),e=bs(e,t,1),t=Cn(),e!==null&&(Pc(e,1,t),Fn(e,t));break}}e=e.return}}function YL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Cn(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(Kt&n)===n&&(kt===4||kt===3&&(Kt&130023424)===Kt&&500>dt()-rw?So(t,0):nw|=n),Fn(t,e)}function B2(t,e){e===0&&(t.mode&1?(e=mh,mh<<=1,!(mh&130023424)&&(mh=4194304)):e=1);var n=Cn();t=Li(t,e),t!==null&&(Pc(t,e,n),Fn(t,n))}function XL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),B2(t,n)}function JL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),B2(t,n)}var F2;F2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ln.current)Nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nn=!1,$L(t,e,n);Nn=!!(t.flags&131072)}else Nn=!1,Ge&&e.flags&1048576&&UA(e,Qf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mf(t,e),t=e.pendingProps;var i=Ja(e,fn.current);Da(e,n),i=Y1(null,e,r,t,i,n);var s=X1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bn(r)?(s=!0,qf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,W1(e),i.updater=Rp,e.stateNode=i,i._reactInternals=e,b0(e,r,t,n),e=C0(null,e,r,!0,s,n)):(e.tag=0,Ge&&s&&F1(e),vn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=eB(r),t=Er(r,t),i){case 0:e=E0(null,e,r,t,n);break e;case 1:e=rb(null,e,r,t,n);break e;case 11:e=tb(null,e,r,t,n);break e;case 14:e=nb(null,e,r,Er(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),E0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),rb(t,e,r,i,n);case 3:e:{if(x2(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,WA(t,e),Jf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=nl(Error(W(423)),e),e=ib(t,e,r,n,i);break e}else if(r!==i){i=nl(Error(W(424)),e),e=ib(t,e,r,n,i);break e}else for(qn=xs(e.stateNode.containerInfo.firstChild),Qn=e,Ge=!0,Ar=null,n=QA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Za(),r===i){e=Bi(t,e,n);break e}vn(t,e,r,n)}e=e.child}return e;case 5:return YA(e),t===null&&w0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,p0(r,i)?o=null:s!==null&&p0(r,s)&&(e.flags|=32),S2(t,e),vn(t,e,o,n),e.child;case 6:return t===null&&w0(e),null;case 13:return b2(t,e,n);case 4:return K1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=el(e,null,r,n):vn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),tb(t,e,r,i,n);case 7:return vn(t,e,e.pendingProps,n),e.child;case 8:return vn(t,e,e.pendingProps.children,n),e.child;case 12:return vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,$e(Yf,r._currentValue),r._currentValue=o,s!==null)if(Nr(s.value,o)){if(s.children===i.children&&!Ln.current){e=Bi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=_i(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),S0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),S0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Da(e,n),i=pr(i),r=r(i),e.flags|=1,vn(t,e,r,n),e.child;case 14:return r=e.type,i=Er(r,e.pendingProps),i=Er(r.type,i),nb(t,e,r,i,n);case 15:return v2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),mf(t,e),e.tag=1,Bn(r)?(t=!0,qf(e)):t=!1,Da(e,n),qA(e,r,i),b0(e,r,i,n),C0(null,e,r,!0,t,n);case 19:return k2(t,e,n);case 22:return w2(t,e,n)}throw Error(W(156,e.tag))};function $2(t,e){return hA(t,e)}function ZL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(t,e,n,r){return new ZL(t,e,n,r)}function aw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eB(t){if(typeof t=="function")return aw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===T1)return 11;if(t===A1)return 14}return 2}function Cs(t,e){var n=t.alternate;return n===null?(n=cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")aw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fa:return xo(n.children,i,s,e);case C1:o=8,i|=8;break;case Ky:return t=cr(12,n,e,i|2),t.elementType=Ky,t.lanes=s,t;case qy:return t=cr(13,n,e,i),t.elementType=qy,t.lanes=s,t;case Gy:return t=cr(19,n,e,i),t.elementType=Gy,t.lanes=s,t;case GT:return Lp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KT:o=10;break e;case qT:o=9;break e;case T1:o=11;break e;case A1:o=14;break e;case Xi:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=cr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function xo(t,e,n,r){return t=cr(7,t,r,e),t.lanes=n,t}function Lp(t,e,n,r){return t=cr(22,t,r,e),t.elementType=GT,t.lanes=n,t.stateNode={isHidden:!1},t}function Cm(t,e,n){return t=cr(6,t,null,e),t.lanes=n,t}function Tm(t,e,n){return e=cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=om(0),this.expirationTimes=om(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=om(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lw(t,e,n,r,i,s,o,a,l){return t=new tB(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},W1(s),t}function nB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ha,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function j2(t){if(!t)return Bs;t=t._reactInternals;e:{if(Wo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Bn(n))return $A(t,n,e)}return e}function U2(t,e,n,r,i,s,o,a,l){return t=lw(n,r,!0,t,i,s,o,a,l),t.context=j2(null),n=t.current,r=Cn(),i=Es(n),s=_i(r,i),s.callback=e??null,bs(n,s,i),t.current.lanes=i,Pc(t,i,r),Fn(t,r),t}function Bp(t,e,n,r){var i=e.current,s=Cn(),o=Es(i);return n=j2(n),e.context===null?e.context=n:e.pendingContext=n,e=_i(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bs(i,e,o),t!==null&&(Rr(t,i,o,s),df(t,i,o)),o}function od(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uw(t,e){pb(t,e),(t=t.alternate)&&pb(t,e)}function rB(){return null}var V2=typeof reportError=="function"?reportError:function(t){console.error(t)};function cw(t){this._internalRoot=t}Fp.prototype.render=cw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Bp(t,e,null,null)};Fp.prototype.unmount=cw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Po(function(){Bp(null,t,null,null)}),e[Mi]=null}};function Fp(t){this._internalRoot=t}Fp.prototype.unstable_scheduleHydration=function(t){if(t){var e=vA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ts.length&&e!==0&&e<ts[n].priority;n++);ts.splice(n,0,t),n===0&&SA(t)}};function hw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gb(){}function iB(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=od(o);s.call(u)}}var o=U2(e,r,t,0,null,!1,!1,"",gb);return t._reactRootContainer=o,t[Mi]=o.current,zu(t.nodeType===8?t.parentNode:t),Po(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=od(l);a.call(u)}}var l=lw(t,0,!1,null,null,!1,!1,"",gb);return t._reactRootContainer=l,t[Mi]=l.current,zu(t.nodeType===8?t.parentNode:t),Po(function(){Bp(e,l,n,r)}),l}function jp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=od(o);a.call(l)}}Bp(e,o,t,i)}else o=iB(n,e,t,i,r);return od(o)}mA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=su(e.pendingLanes);n!==0&&(_1(e,n|1),Fn(e,dt()),!(Ae&6)&&(rl=dt()+500,Xs()))}break;case 13:Po(function(){var r=Li(t,1);if(r!==null){var i=Cn();Rr(r,t,1,i)}}),uw(t,1)}};P1=function(t){if(t.tag===13){var e=Li(t,134217728);if(e!==null){var n=Cn();Rr(e,t,134217728,n)}uw(t,134217728)}};yA=function(t){if(t.tag===13){var e=Es(t),n=Li(t,e);if(n!==null){var r=Cn();Rr(n,t,e,r)}uw(t,e)}};vA=function(){return Re};wA=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};i0=function(t,e,n){switch(e){case"input":if(Xy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_p(r);if(!i)throw Error(W(90));YT(r),Xy(r,i)}}}break;case"textarea":JT(t,n);break;case"select":e=n.value,e!=null&&_a(t,!!n.multiple,e,!1)}};sA=iw;oA=Po;var sB={usingClientEntryPoint:!1,Events:[Nc,ma,_p,rA,iA,iw]},ql={findFiberByHostInstance:co,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},oB={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uA(t),t===null?null:t.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||rB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{Tp=Ah.inject(oB),ii=Ah}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sB;er.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hw(e))throw Error(W(200));return nB(t,e,null,n)};er.createRoot=function(t,e){if(!hw(t))throw Error(W(299));var n=!1,r="",i=V2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lw(t,1,!1,null,null,n,!1,r,i),t[Mi]=e.current,zu(t.nodeType===8?t.parentNode:t),new cw(e)};er.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=uA(e),t=t===null?null:t.stateNode,t};er.flushSync=function(t){return Po(t)};er.hydrate=function(t,e,n){if(!$p(e))throw Error(W(200));return jp(null,t,e,!0,n)};er.hydrateRoot=function(t,e,n){if(!hw(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=V2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=U2(e,null,t,1,n??null,i,!1,s,o),t[Mi]=e.current,zu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fp(e)};er.render=function(t,e,n){if(!$p(e))throw Error(W(200));return jp(null,t,e,!1,n)};er.unmountComponentAtNode=function(t){if(!$p(t))throw Error(W(40));return t._reactRootContainer?(Po(function(){jp(null,null,t,!1,function(){t._reactRootContainer=null,t[Mi]=null})}),!0):!1};er.unstable_batchedUpdates=iw;er.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$p(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return jp(t,e,n,!1,r)};er.version="18.2.0-next-9e3b772b8-20220608";function z2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z2)}catch(t){console.error(t)}}z2(),UT.exports=er;var fw=UT.exports;const aB=_T(fw);var mb=fw;Hy.createRoot=mb.createRoot,Hy.hydrateRoot=mb.hydrateRoot;/**
 * @remix-run/router v1.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}var ds;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ds||(ds={}));const yb="popstate";function lB(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return B0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ad(i)}return cB(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uB(){return Math.random().toString(36).substr(2,8)}function vb(t,e){return{usr:t.state,key:t.key,idx:e}}function B0(t,e,n,r){return n===void 0&&(n=null),Ju({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Tl(e):e,{state:n,key:e&&e.key||r||uB()})}function ad(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ds.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ju({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=ds.Pop;let x=c(),v=x==null?null:x-u;u=x,l&&l({action:a,location:w.location,delta:v})}function f(x,v){a=ds.Push;let y=B0(w.location,x,v);n&&n(y,x),u=c()+1;let b=vb(y,u),E=w.createHref(y);try{o.pushState(b,"",E)}catch{i.location.assign(E)}s&&l&&l({action:a,location:w.location,delta:1})}function d(x,v){a=ds.Replace;let y=B0(w.location,x,v);n&&n(y,x),u=c();let b=vb(y,u),E=w.createHref(y);o.replaceState(b,"",E),s&&l&&l({action:a,location:w.location,delta:0})}function m(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof x=="string"?x:ad(x);return vt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let w={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(yb,h),l=x,()=>{i.removeEventListener(yb,h),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:d,go(x){return o.go(x)}};return w}var wb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wb||(wb={}));function hB(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Tl(e):e,i=pw(r.pathname||"/",n);if(i==null)return null;let s=H2(t);fB(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=xB(s[a],EB(i));return o}function H2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ts([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(vt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),H2(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:wB(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of W2(s.path))i(s,o,l)}),e}function W2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=W2(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dB=/^:\w+$/,pB=3,gB=2,mB=1,yB=10,vB=-2,Sb=t=>t==="*";function wB(t,e){let n=t.split("/"),r=n.length;return n.some(Sb)&&(r+=vB),e&&(r+=gB),n.filter(i=>!Sb(i)).reduce((i,s)=>i+(dB.test(s)?pB:s===""?mB:yB),r)}function SB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function xB(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=bB({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Ts([i,c.pathname]),pathnameBase:IB(Ts([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Ts([i,c.pathnameBase]))}return s}function bB(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=CB(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function kB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function EB(t){try{return decodeURI(t)}catch(e){return dw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function CB(t,e){try{return decodeURIComponent(t)}catch(n){return dw(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function pw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function TB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Tl(t):t;return{pathname:n?n.startsWith("/")?n:AB(n,e):e,search:OB(r),hash:_B(i)}}function AB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Am(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function q2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Tl(t):(i=Ju({},t),vt(!i.pathname||!i.pathname.includes("?"),Am("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),Am("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),Am("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=TB(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ts=t=>t.join("/").replace(/\/\/+/g,"/"),IB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_B=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const G2=["post","put","patch","delete"];new Set(G2);const RB=["get",...G2];new Set(RB);/**
 * React Router v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ld.apply(this,arguments)}const gw=P.createContext(null),Q2=P.createContext(null),Ko=P.createContext(null),Up=P.createContext(null),Al=P.createContext({outlet:null,matches:[]}),Y2=P.createContext(null);function NB(t,e){let{relative:n}=e===void 0?{}:e;Mc()||vt(!1);let{basename:r,navigator:i}=P.useContext(Ko),{hash:s,pathname:o,search:a}=mw(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ts([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Mc(){return P.useContext(Up)!=null}function Il(){return Mc()||vt(!1),P.useContext(Up).location}function X2(t){P.useContext(Ko).static||P.useLayoutEffect(t)}function Ol(){return P.useContext(gw)!=null?KB():DB()}function DB(){Mc()||vt(!1);let{basename:t,navigator:e}=P.useContext(Ko),{matches:n}=P.useContext(Al),{pathname:r}=Il(),i=JSON.stringify(K2(n).map(a=>a.pathnameBase)),s=P.useRef(!1);return X2(()=>{s.current=!0}),P.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=q2(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Ts([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function mw(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=P.useContext(Al),{pathname:i}=Il(),s=JSON.stringify(K2(r).map(o=>o.pathnameBase));return P.useMemo(()=>q2(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function MB(t,e){return LB(t,e)}function LB(t,e,n){Mc()||vt(!1);let{navigator:r}=P.useContext(Ko),{matches:i}=P.useContext(Al),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Il(),u;if(e){var c;let w=typeof e=="string"?Tl(e):e;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||vt(!1),u=w}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",d=hB(t,{pathname:f}),m=UB(d&&d.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Ts([a,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Ts([a,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n);return e&&m?P.createElement(Up.Provider,{value:{location:ld({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ds.Pop}},m):m}function BB(){let t=WB(),e=PB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,s)}const FB=P.createElement(BB,null);class $B extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?P.createElement(Al.Provider,{value:this.props.routeContext},P.createElement(Y2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jB(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(gw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Al.Provider,{value:e},r)}function UB(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||vt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||FB);let f=e.concat(s.slice(0,u+1)),d=()=>{let m;return c?m=h:l.route.element?m=l.route.element:m=a,P.createElement(jB,{match:l,routeContext:{outlet:a,matches:f},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?P.createElement($B,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:d(),routeContext:{outlet:null,matches:f}}):d()},null)}var F0;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(F0||(F0={}));var Zu;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Zu||(Zu={}));function VB(t){let e=P.useContext(gw);return e||vt(!1),e}function zB(t){let e=P.useContext(Q2);return e||vt(!1),e}function HB(t){let e=P.useContext(Al);return e||vt(!1),e}function J2(t){let e=HB(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function WB(){var t;let e=P.useContext(Y2),n=zB(Zu.UseRouteError),r=J2(Zu.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function KB(){let{router:t}=VB(F0.UseNavigateStable),e=J2(Zu.UseNavigateStable),n=P.useRef(!1);return X2(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ld({fromRouteId:e},s)))},[t,e])}function aa(t){vt(!1)}function qB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ds.Pop,navigator:s,static:o=!1}=t;Mc()&&vt(!1);let a=e.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Tl(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:d="default"}=r,m=P.useMemo(()=>{let w=pw(u,a);return w==null?null:{location:{pathname:w,search:c,hash:h,state:f,key:d},navigationType:i}},[a,u,c,h,f,d,i]);return m==null?null:P.createElement(Ko.Provider,{value:l},P.createElement(Up.Provider,{children:n,value:m}))}function GB(t){let{children:e,location:n}=t;return MB($0(e),n)}var xb;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(xb||(xb={}));new Promise(()=>{});function $0(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let s=[...e,i];if(r.type===P.Fragment){n.push.apply(n,$0(r.props.children,s));return}r.type!==aa&&vt(!1),!r.props.index||!r.props.children||vt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$0(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ud.apply(this,arguments)}function Z2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function QB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YB(t,e){return t.button===0&&(!e||e==="_self")&&!QB(t)}const XB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],JB=["aria-current","caseSensitive","className","end","style","to","children"];function ZB(t){let{basename:e,children:n,window:r}=t,i=P.useRef();i.current==null&&(i.current=lB({window:r,v5Compat:!0}));let s=i.current,[o,a]=P.useState({action:s.action,location:s.location});return P.useLayoutEffect(()=>s.listen(a),[s]),P.createElement(qB,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const e4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cd=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,h=Z2(e,XB),{basename:f}=P.useContext(Ko),d,m=!1;if(typeof u=="string"&&t4.test(u)&&(d=u,e4))try{let y=new URL(window.location.href),b=u.startsWith("//")?new URL(y.protocol+u):new URL(u),E=pw(b.pathname,f);b.origin===y.origin&&E!=null?u=E+b.search+b.hash:m=!0}catch{}let w=NB(u,{relative:i}),x=n4(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function v(y){r&&r(y),y.defaultPrevented||x(y)}return P.createElement("a",ud({},h,{href:d||w,onClick:m||s?r:v,ref:n,target:l}))}),hd=P.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=Z2(e,JB),h=mw(l,{relative:c.relative}),f=Il(),d=P.useContext(Q2),{navigator:m}=P.useContext(Ko),w=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,x=f.pathname,v=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;i||(x=x.toLowerCase(),v=v?v.toLowerCase():null,w=w.toLowerCase());let y=x===w||!o&&x.startsWith(w)&&x.charAt(w.length)==="/",b=v!=null&&(v===w||!o&&v.startsWith(w)&&v.charAt(w.length)==="/"),E=y?r:void 0,C;typeof s=="function"?C=s({isActive:y,isPending:b}):C=[s,y?"active":null,b?"pending":null].filter(Boolean).join(" ");let O=typeof a=="function"?a({isActive:y,isPending:b}):a;return P.createElement(cd,ud({},c,{"aria-current":E,className:C,ref:n,style:O,to:l}),typeof u=="function"?u({isActive:y,isPending:b}):u)});var bb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(bb||(bb={}));var kb;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kb||(kb={}));function n4(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Ol(),l=Il(),u=mw(t,{relative:o});return P.useCallback(c=>{if(YB(c,n)){c.preventDefault();let h=r!==void 0?r:ad(l)===ad(u);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}var eI={exports:{}},tI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=P;function r4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var i4=typeof Object.is=="function"?Object.is:r4,s4=il.useState,o4=il.useEffect,a4=il.useLayoutEffect,l4=il.useDebugValue;function u4(t,e){var n=e(),r=s4({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return a4(function(){i.value=n,i.getSnapshot=e,Im(i)&&s({inst:i})},[t,n,e]),o4(function(){return Im(i)&&s({inst:i}),t(function(){Im(i)&&s({inst:i})})},[t]),l4(n),n}function Im(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!i4(t,n)}catch{return!0}}function c4(t,e){return e()}var h4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c4:u4;tI.useSyncExternalStore=il.useSyncExternalStore!==void 0?il.useSyncExternalStore:h4;eI.exports=tI;var f4=eI.exports,nI={exports:{}},rI={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp=P,d4=f4;function p4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var g4=typeof Object.is=="function"?Object.is:p4,m4=d4.useSyncExternalStore,y4=Vp.useRef,v4=Vp.useEffect,w4=Vp.useMemo,S4=Vp.useDebugValue;rI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=y4(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=w4(function(){function l(d){if(!u){if(u=!0,c=d,d=r(d),i!==void 0&&o.hasValue){var m=o.value;if(i(m,d))return h=m}return h=d}if(m=h,g4(c,d))return m;var w=r(d);return i!==void 0&&i(m,w)?m:(c=d,h=w)}var u=!1,c,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=m4(t,s[0],s[1]);return v4(function(){o.hasValue=!0,o.value=a},[a]),S4(a),a};nI.exports=rI;var x4=nI.exports;function b4(t){t()}let iI=b4;const k4=t=>iI=t,E4=()=>iI,Fs=P.createContext(null);function sI(){return P.useContext(Fs)}const C4=()=>{throw new Error("uSES not initialized!")};let oI=C4;const T4=t=>{oI=t},A4=(t,e)=>t===e;function I4(t=Fs){const e=t===Fs?sI:()=>P.useContext(t);return function(r,i=A4){const{store:s,subscription:o,getServerState:a}=e(),l=oI(o.addNestedSub,s.getState,a||s.getState,r,i);return P.useDebugValue(l),l}}const Cr=I4();function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j0.apply(this,arguments)}function O4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var aI={exports:{}},De={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dt=typeof Symbol=="function"&&Symbol.for,yw=Dt?Symbol.for("react.element"):60103,vw=Dt?Symbol.for("react.portal"):60106,zp=Dt?Symbol.for("react.fragment"):60107,Hp=Dt?Symbol.for("react.strict_mode"):60108,Wp=Dt?Symbol.for("react.profiler"):60114,Kp=Dt?Symbol.for("react.provider"):60109,qp=Dt?Symbol.for("react.context"):60110,ww=Dt?Symbol.for("react.async_mode"):60111,Gp=Dt?Symbol.for("react.concurrent_mode"):60111,Qp=Dt?Symbol.for("react.forward_ref"):60112,Yp=Dt?Symbol.for("react.suspense"):60113,_4=Dt?Symbol.for("react.suspense_list"):60120,Xp=Dt?Symbol.for("react.memo"):60115,Jp=Dt?Symbol.for("react.lazy"):60116,P4=Dt?Symbol.for("react.block"):60121,R4=Dt?Symbol.for("react.fundamental"):60117,N4=Dt?Symbol.for("react.responder"):60118,D4=Dt?Symbol.for("react.scope"):60119;function nr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yw:switch(t=t.type,t){case ww:case Gp:case zp:case Wp:case Hp:case Yp:return t;default:switch(t=t&&t.$$typeof,t){case qp:case Qp:case Jp:case Xp:case Kp:return t;default:return e}}case vw:return e}}}function lI(t){return nr(t)===Gp}De.AsyncMode=ww;De.ConcurrentMode=Gp;De.ContextConsumer=qp;De.ContextProvider=Kp;De.Element=yw;De.ForwardRef=Qp;De.Fragment=zp;De.Lazy=Jp;De.Memo=Xp;De.Portal=vw;De.Profiler=Wp;De.StrictMode=Hp;De.Suspense=Yp;De.isAsyncMode=function(t){return lI(t)||nr(t)===ww};De.isConcurrentMode=lI;De.isContextConsumer=function(t){return nr(t)===qp};De.isContextProvider=function(t){return nr(t)===Kp};De.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yw};De.isForwardRef=function(t){return nr(t)===Qp};De.isFragment=function(t){return nr(t)===zp};De.isLazy=function(t){return nr(t)===Jp};De.isMemo=function(t){return nr(t)===Xp};De.isPortal=function(t){return nr(t)===vw};De.isProfiler=function(t){return nr(t)===Wp};De.isStrictMode=function(t){return nr(t)===Hp};De.isSuspense=function(t){return nr(t)===Yp};De.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===zp||t===Gp||t===Wp||t===Hp||t===Yp||t===_4||typeof t=="object"&&t!==null&&(t.$$typeof===Jp||t.$$typeof===Xp||t.$$typeof===Kp||t.$$typeof===qp||t.$$typeof===Qp||t.$$typeof===R4||t.$$typeof===N4||t.$$typeof===D4||t.$$typeof===P4)};De.typeOf=nr;aI.exports=De;var M4=aI.exports,uI=M4,L4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},B4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cI={};cI[uI.ForwardRef]=L4;cI[uI.Memo]=B4;var Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw=Symbol.for("react.element"),xw=Symbol.for("react.portal"),Zp=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),ng=Symbol.for("react.provider"),rg=Symbol.for("react.context"),F4=Symbol.for("react.server_context"),ig=Symbol.for("react.forward_ref"),sg=Symbol.for("react.suspense"),og=Symbol.for("react.suspense_list"),ag=Symbol.for("react.memo"),lg=Symbol.for("react.lazy"),$4=Symbol.for("react.offscreen"),hI;hI=Symbol.for("react.module.reference");function yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Sw:switch(t=t.type,t){case Zp:case tg:case eg:case sg:case og:return t;default:switch(t=t&&t.$$typeof,t){case F4:case rg:case ig:case lg:case ag:case ng:return t;default:return e}}case xw:return e}}}Me.ContextConsumer=rg;Me.ContextProvider=ng;Me.Element=Sw;Me.ForwardRef=ig;Me.Fragment=Zp;Me.Lazy=lg;Me.Memo=ag;Me.Portal=xw;Me.Profiler=tg;Me.StrictMode=eg;Me.Suspense=sg;Me.SuspenseList=og;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(t){return yr(t)===rg};Me.isContextProvider=function(t){return yr(t)===ng};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sw};Me.isForwardRef=function(t){return yr(t)===ig};Me.isFragment=function(t){return yr(t)===Zp};Me.isLazy=function(t){return yr(t)===lg};Me.isMemo=function(t){return yr(t)===ag};Me.isPortal=function(t){return yr(t)===xw};Me.isProfiler=function(t){return yr(t)===tg};Me.isStrictMode=function(t){return yr(t)===eg};Me.isSuspense=function(t){return yr(t)===sg};Me.isSuspenseList=function(t){return yr(t)===og};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zp||t===tg||t===eg||t===sg||t===og||t===$4||typeof t=="object"&&t!==null&&(t.$$typeof===lg||t.$$typeof===ag||t.$$typeof===ng||t.$$typeof===rg||t.$$typeof===ig||t.$$typeof===hI||t.getModuleId!==void 0)};Me.typeOf=yr;function j4(){const t=E4();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const Eb={notify(){},get:()=>[]};function U4(t,e){let n,r=Eb;function i(h){return l(),r.subscribe(h)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=j4())}function u(){n&&(n(),n=void 0,r.clear(),r=Eb)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const V4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z4=V4?P.useLayoutEffect:P.useEffect;function H4({store:t,context:e,children:n,serverState:r}){const i=P.useMemo(()=>{const a=U4(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=P.useMemo(()=>t.getState(),[t]);z4(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||Fs;return cs.createElement(o.Provider,{value:i},n)}function fI(t=Fs){const e=t===Fs?sI:()=>P.useContext(t);return function(){const{store:r}=e();return r}}const W4=fI();function K4(t=Fs){const e=t===Fs?W4:fI(t);return function(){return e().dispatch}}const dI=K4();T4(x4.useSyncExternalStoreWithSelector);k4(fw.unstable_batchedUpdates);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},q4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):q4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new G4;const f=s<<2|a>>4;if(r.push(f),u!==64){const d=a<<4&240|u>>2;if(r.push(d),h!==64){const m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q4=function(t){const e=pI(t);return gI.encodeByteArray(e,!0)},fd=function(t){return Q4(t).replace(/\./g,"")},mI=function(t){try{return gI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=()=>Y4().__FIREBASE_DEFAULTS__,J4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mI(t[1]);return e&&JSON.parse(e)},bw=()=>{try{return X4()||J4()||Z4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yI=t=>{var e,n;return(n=(e=bw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},eF=t=>{const e=yI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tF=()=>{var t;return(t=bw())===null||t===void 0?void 0:t.config},vI=t=>{var e;return(e=bw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[fd(JSON.stringify(n)),fd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function sF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aF(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lF(){try{return typeof indexedDB=="object"}catch{return!1}}function uF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="FirebaseError";class Ki extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cF,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lc.prototype.create)}}class Lc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?hF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ki(i,a,r)}}function hF(t,e){return t.replace(fF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fF=/\{\$([^}]+)}/g;function dF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Cb(s)&&Cb(o)){if(!dd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function lu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pF(t,e){const n=new gF(t,e);return n.subscribe.bind(n)}class gF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Om),i.error===void 0&&(i.error=Om),i.complete===void 0&&(i.complete=Om);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Om(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t){return t&&t._delegate?t._delegate:t}class Ro{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wF(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vF(t){return t===io?void 0:t}function wF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const xF={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},bF=Oe.INFO,kF={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},EF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=kF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let kw=class{constructor(e){this.name=e,this._logLevel=bF,this._logHandler=EF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}};const CF=(t,e)=>e.some(n=>t instanceof n);let Tb,Ab;function TF(){return Tb||(Tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AF(){return Ab||(Ab=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wI=new WeakMap,U0=new WeakMap,SI=new WeakMap,_m=new WeakMap,Ew=new WeakMap;function IF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(As(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wI.set(n,t)}).catch(()=>{}),Ew.set(e,t),e}function OF(t){if(U0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});U0.set(t,e)}let V0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return U0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _F(t){V0=t(V0)}function PF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pm(this),e,...n);return SI.set(r,e.sort?e.sort():[e]),As(r)}:AF().includes(t)?function(...e){return t.apply(Pm(this),e),As(wI.get(this))}:function(...e){return As(t.apply(Pm(this),e))}}function RF(t){return typeof t=="function"?PF(t):(t instanceof IDBTransaction&&OF(t),CF(t,TF())?new Proxy(t,V0):t)}function As(t){if(t instanceof IDBRequest)return IF(t);if(_m.has(t))return _m.get(t);const e=RF(t);return e!==t&&(_m.set(t,e),Ew.set(e,t)),e}const Pm=t=>Ew.get(t);function NF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=As(o);return r&&o.addEventListener("upgradeneeded",l=>{r(As(o.result),l.oldVersion,l.newVersion,As(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const DF=["get","getKey","getAll","getAllKeys","count"],MF=["put","add","delete","clear"],Rm=new Map;function Ib(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=MF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Rm.set(e,s),s}_F(t=>({...t,get:(e,n,r)=>Ib(e,n)||t.get(e,n,r),has:(e,n)=>!!Ib(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const z0="@firebase/app",Ob="0.9.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new kw("@firebase/app"),FF="@firebase/app-compat",$F="@firebase/analytics-compat",jF="@firebase/analytics",UF="@firebase/app-check-compat",VF="@firebase/app-check",zF="@firebase/auth",HF="@firebase/auth-compat",WF="@firebase/database",KF="@firebase/database-compat",qF="@firebase/functions",GF="@firebase/functions-compat",QF="@firebase/installations",YF="@firebase/installations-compat",XF="@firebase/messaging",JF="@firebase/messaging-compat",ZF="@firebase/performance",e$="@firebase/performance-compat",t$="@firebase/remote-config",n$="@firebase/remote-config-compat",r$="@firebase/storage",i$="@firebase/storage-compat",s$="@firebase/firestore",o$="@firebase/firestore-compat",a$="firebase",l$="9.21.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="[DEFAULT]",u$={[z0]:"fire-core",[FF]:"fire-core-compat",[jF]:"fire-analytics",[$F]:"fire-analytics-compat",[VF]:"fire-app-check",[UF]:"fire-app-check-compat",[zF]:"fire-auth",[HF]:"fire-auth-compat",[WF]:"fire-rtdb",[KF]:"fire-rtdb-compat",[qF]:"fire-fn",[GF]:"fire-fn-compat",[QF]:"fire-iid",[YF]:"fire-iid-compat",[XF]:"fire-fcm",[JF]:"fire-fcm-compat",[ZF]:"fire-perf",[e$]:"fire-perf-compat",[t$]:"fire-rc",[n$]:"fire-rc-compat",[r$]:"fire-gcs",[i$]:"fire-gcs-compat",[s$]:"fire-fst",[o$]:"fire-fst-compat","fire-js":"fire-js",[a$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new Map,W0=new Map;function c$(t,e){try{t.container.addComponent(e)}catch(n){No.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sl(t){const e=t.name;if(W0.has(e))return No.debug(`There were multiple attempts to register component ${e}.`),!1;W0.set(e,t);for(const n of pd.values())c$(n,t);return!0}function Cw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Is=new Lc("app","Firebase",h$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=l$;function xI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:H0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Is.create("bad-app-name",{appName:String(i)});if(n||(n=tF()),!n)throw Is.create("no-options");const s=pd.get(i);if(s){if(dd(n,s.options)&&dd(r,s.config))return s;throw Is.create("duplicate-app",{appName:i})}const o=new SF(i);for(const l of W0.values())o.addComponent(l);const a=new f$(n,r,o);return pd.set(i,a),a}function bI(t=H0){const e=pd.get(t);if(!e&&t===H0)return xI();if(!e)throw Is.create("no-app",{appName:t});return e}function Os(t,e,n){var r;let i=(r=u$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),No.warn(a.join(" "));return}sl(new Ro(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$="firebase-heartbeat-database",p$=1,ec="firebase-heartbeat-store";let Nm=null;function kI(){return Nm||(Nm=NF(d$,p$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ec)}}}).catch(t=>{throw Is.create("idb-open",{originalErrorMessage:t.message})})),Nm}async function g$(t){try{return(await kI()).transaction(ec).objectStore(ec).get(EI(t))}catch(e){if(e instanceof Ki)No.warn(e.message);else{const n=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});No.warn(n.message)}}}async function _b(t,e){try{const r=(await kI()).transaction(ec,"readwrite");return await r.objectStore(ec).put(e,EI(t)),r.done}catch(n){if(n instanceof Ki)No.warn(n.message);else{const r=Is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});No.warn(r.message)}}}function EI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$=1024,y$=30*24*60*60*1e3;class v${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Pb();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=y$}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Pb(),{heartbeatsToSend:n,unsentEntries:r}=w$(this._heartbeatsCache.heartbeats),i=fd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Pb(){return new Date().toISOString().substring(0,10)}function w$(t,e=m$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Rb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class S${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lF()?uF().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await g$(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _b(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _b(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rb(t){return fd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(t){sl(new Ro("platform-logger",e=>new LF(e),"PRIVATE")),sl(new Ro("heartbeat",e=>new v$(e),"PRIVATE")),Os(z0,Ob,t),Os(z0,Ob,"esm2017"),Os("fire-js","")}x$("");function Tw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CI(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b$=CI,TI=new Lc("auth","Firebase",CI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new kw("@firebase/auth");function k$(t,...e){gd.logLevel<=Oe.WARN&&gd.warn(`Auth (${_l}): ${t}`,...e)}function Sf(t,...e){gd.logLevel<=Oe.ERROR&&gd.error(`Auth (${_l}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw Aw(t,...e)}function oi(t,...e){return Aw(t,...e)}function E$(t,e,n){const r=Object.assign(Object.assign({},b$()),{[e]:n});return new Lc("auth","Firebase",r).create(e,{appName:t.name})}function Aw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TI.create(t,...e)}function he(t,e,...n){if(!t)throw Aw(e,...n)}function Ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sf(e),new Error(e)}function Fi(t,e){t||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function C$(){return Nb()==="http:"||Nb()==="https:"}function Nb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C$()||sF()||"connection"in navigator)?navigator.onLine:!0}function A$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=iF()||oF()}get(){return T$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$=new Fc(3e4,6e4);function qo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Go(t,e,n,r,i={}){return II(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Bc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),AI.fetch()(OI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function II(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},I$),e);try{const i=new _$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ih(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ih(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ih(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw E$(t,c,u);Dr(t,c)}}catch(i){if(i instanceof Ki)throw i;Dr(t,"network-request-failed",{message:String(i)})}}async function $c(t,e,n,r,i={}){const s=await Go(t,e,n,r,i);return"mfaPendingCredential"in s&&Dr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function OI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Iw(t.config,i):`${t.config.apiScheme}://${i}`}class _${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),O$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ih(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=oi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P$(t,e){return Go(t,"POST","/v1/accounts:delete",e)}async function R$(t,e){return Go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function N$(t,e=!1){const n=$n(t),r=await n.getIdToken(e),i=Ow(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Tu(Dm(i.auth_time)),issuedAtTime:Tu(Dm(i.iat)),expirationTime:Tu(Dm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Dm(t){return Number(t)*1e3}function Ow(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const i=mI(n);return i?JSON.parse(i):(Sf("Failed to decode base64 JWT payload"),null)}catch(i){return Sf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function D$(t){const e=Ow(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ki&&M$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function M$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t){var e;const n=t.auth,r=await t.getIdToken(),i=await tc(t,R$(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$$(s.providerUserInfo):[],a=F$(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _I(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function B$(t){const e=$n(t);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $$(t){return t.map(e=>{var{providerId:n}=e,r=Tw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j$(t,e){const n=await II(t,{},async()=>{const r=Bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=OI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",AI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return he(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await j$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new nc;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(he(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nc,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Tw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new L$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _I(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await tc(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return N$(this,e)}reload(){return B$(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await tc(this,P$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:E,isAnonymous:C,providerData:O,stsTokenManager:_}=n;he(b&&_,e,"internal-error");const F=nc.fromJSON(this.name,_);he(typeof b=="string",e,"internal-error"),Yi(h,e.name),Yi(f,e.name),he(typeof E=="boolean",e,"internal-error"),he(typeof C=="boolean",e,"internal-error"),Yi(d,e.name),Yi(m,e.name),Yi(w,e.name),Yi(x,e.name),Yi(v,e.name),Yi(y,e.name);const L=new bo({uid:b,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:C,photoURL:m,phoneNumber:d,tenantId:w,stsTokenManager:F,createdAt:v,lastLoginAt:y});return O&&Array.isArray(O)&&(L.providerData=O.map(M=>Object.assign({},M))),x&&(L._redirectEventId=x),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new nc;i.updateFromServerResponse(n);const s=new bo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await md(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new Map;function Ai(t){Fi(t instanceof Function,"Expected a class definition");let e=Db.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Db.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PI.type="NONE";const Mb=PI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t,e,n){return`firebase:${t}:${e}:${n}`}class La{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xf(this.userKey,i.apiKey,s),this.fullPersistenceKey=xf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new La(Ai(Mb),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ai(Mb);const o=xf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=bo._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new La(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new La(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LI(e))return"Blackberry";if(BI(e))return"Webos";if(_w(e))return"Safari";if((e.includes("chrome/")||NI(e))&&!e.includes("edge/"))return"Chrome";if(MI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RI(t=dn()){return/firefox\//i.test(t)}function _w(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NI(t=dn()){return/crios\//i.test(t)}function DI(t=dn()){return/iemobile/i.test(t)}function MI(t=dn()){return/android/i.test(t)}function LI(t=dn()){return/blackberry/i.test(t)}function BI(t=dn()){return/webos/i.test(t)}function ug(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function U$(t=dn()){var e;return ug(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function V$(){return aF()&&document.documentMode===10}function FI(t=dn()){return ug(t)||MI(t)||BI(t)||LI(t)||/windows phone/i.test(t)||DI(t)}function z$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t,e=[]){let n;switch(t){case"Browser":n=Lb(dn());break;case"Worker":n=`${Lb(dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_l}/${r}`}async function jI(t,e){return Go(t,"GET","/v2/recaptchaConfig",qo(t,e))}function Bb(t){return t!==void 0&&t.enterprise!==void 0}class UI{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function VI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=oi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",H$().appendChild(r)})}function W$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const K$="https://www.google.com/recaptcha/enterprise.js?render=",q$="recaptcha-enterprise",G$="NO_RECAPTCHA";class zI{constructor(e){this.type=q$,this.auth=Qo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{jI(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new UI(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Bb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(G$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Bb(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}VI(K$+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function ol(t,e,n,r=!1){const i=new zI(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fb(this),this.idTokenSubscription=new Fb(this),this.beforeStateQueue=new Q$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ai(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await La.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?$n(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}async initializeRecaptchaConfig(){const e=await jI(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new UI(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new zI(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ai(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[Ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return he(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$I(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&k$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qo(t){return $n(t)}class Fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=pF(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(t,e){const n=Cw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(dd(s,e??{}))return i;Dr(i,"already-initialized")}return n.initialize({options:e})}function J$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Z$(t,e,n){const r=Qo(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=HI(e),{host:o,port:a}=e3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||t3()}function HI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function e3(t){const e=HI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$b(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:$b(o)}}}function $b(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function t3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,n){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}async function n3(t,e){return Go(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mm(t,e){return $c(t,"POST","/v1/accounts:signInWithPassword",qo(t,e))}async function r3(t,e){return Go(t,"POST","/v1/accounts:sendOobCode",qo(t,e))}async function Lm(t,e){return r3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3(t,e){return $c(t,"POST","/v1/accounts:signInWithEmailLink",qo(t,e))}async function s3(t,e){return $c(t,"POST","/v1/accounts:signInWithEmailLink",qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Pw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new rc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await ol(e,r,"signInWithPassword");return Mm(e,i)}else return Mm(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await ol(e,r,"signInWithPassword");return Mm(e,s)}else return Promise.reject(i)});case"emailLink":return i3(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return n3(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return s3(e,{idToken:n,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t,e){return $c(t,"POST","/v1/accounts:signInWithIdp",qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="http://localhost";class Do extends Pw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Tw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Do(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ba(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ba(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ba(e,n)}buildRequest(){const e={requestUri:o3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function l3(t){const e=au(lu(t)).link,n=e?au(lu(e)).deep_link_id:null,r=au(lu(t)).deep_link_id;return(r?au(lu(r)).link:null)||r||n||e||t}class Rw{constructor(e){var n,r,i,s,o,a;const l=au(lu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=a3((i=l.mode)!==null&&i!==void 0?i:null);he(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=l3(e);try{return new Rw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.providerId=Pl.PROVIDER_ID}static credential(e,n){return rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Rw.parseLink(n);return he(r,"argument-error"),rc._fromEmailAndCode(e,r.code,r.tenantId)}}Pl.PROVIDER_ID="password";Pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends WI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends jc{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Do._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return is.credential(n,r)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends jc{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends jc{constructor(){super("twitter.com")}static credential(e,n){return Do._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return os.credential(n,r)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bm(t,e){return $c(t,"POST","/v1/accounts:signUp",qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await bo._fromIdTokenResponse(e,r,i),o=jb(r);return new Mo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jb(r);return new Mo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends Ki{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new yd(e,n,r,i)}}function KI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yd._fromErrorAndOperation(t,s,e,r):s})}async function u3(t,e,n=!1){const r=await tc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await tc(t,KI(r,i,e,t),n);he(s.idToken,r,"internal-error");const o=Ow(s.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),Mo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Dr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(t,e,n=!1){const r="signIn",i=await KI(t,r,e),s=await Mo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function h3(t,e){return qI(Qo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t,e,n){var r;he(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),he(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(he(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(he(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e,n){var r;const i=Qo(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await ol(i,s,"getOobCode",!0);n&&Fm(i,o,n),await Lm(i,o)}else n&&Fm(i,s,n),await Lm(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await ol(i,s,"getOobCode",!0);n&&Fm(i,a,n),await Lm(i,a)}else return Promise.reject(o)})}async function d3(t,e,n){var r;const i=Qo(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await ol(i,s,"signUpPassword");o=Bm(i,u)}else o=Bm(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await ol(i,s,"signUpPassword");return Bm(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await Mo._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function p3(t,e,n){return h3($n(t),Pl.credential(e,n))}function g3(t,e,n,r){return $n(t).onIdTokenChanged(e,n,r)}function m3(t,e,n){return $n(t).beforeAuthStateChanged(e,n)}function y3(t,e,n,r){return $n(t).onAuthStateChanged(e,n,r)}function v3(t){return $n(t).signOut()}const vd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vd,"1"),this.storage.removeItem(vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(){const t=dn();return _w(t)||ug(t)}const S3=1e3,x3=10;class QI extends GI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=w3()&&z$(),this.fallbackToPolling=FI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);V$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,x3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},S3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QI.type="LOCAL";const b3=QI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI extends GI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YI.type="SESSION";const XI=YI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await k3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Nw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function C3(t){ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function T3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function I3(){return JI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="firebaseLocalStorageDb",O3=1,wd="firebaseLocalStorage",eO="fbase_key";class Uc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hg(t,e){return t.transaction([wd],e?"readwrite":"readonly").objectStore(wd)}function _3(){const t=indexedDB.deleteDatabase(ZI);return new Uc(t).toPromise()}function q0(){const t=indexedDB.open(ZI,O3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wd,{keyPath:eO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wd)?e(r):(r.close(),await _3(),e(await q0()))})})}async function Ub(t,e,n){const r=hg(t,!0).put({[eO]:e,value:n});return new Uc(r).toPromise()}async function P3(t,e){const n=hg(t,!1).get(e),r=await new Uc(n).toPromise();return r===void 0?null:r.value}function Vb(t,e){const n=hg(t,!0).delete(e);return new Uc(n).toPromise()}const R3=800,N3=3;class tO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await q0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>N3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cg._getInstance(I3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await T3(),!this.activeServiceWorker)return;this.sender=new E3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await q0();return await Ub(e,vd,"1"),await Vb(e,vd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ub(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>P3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=hg(i,!1).getAll();return new Uc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tO.type="LOCAL";const D3=tO;new Fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t,e){return e?Ai(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends Pw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function L3(t){return qI(t.auth,new Dw(t),t.bypassAuthState)}function B3(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),c3(n,new Dw(t),t.bypassAuthState)}async function F3(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),u3(n,new Dw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L3;case"linkViaPopup":case"linkViaRedirect":return F3;case"reauthViaPopup":case"reauthViaRedirect":return B3;default:Dr(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=new Fc(2e3,1e4);class ka extends nO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=Nw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$3.get())};e()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="pendingRedirect",bf=new Map;class U3 extends nO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bf.get(this.auth._key());if(!e){try{const r=await V3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bf.set(this.auth._key(),e)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V3(t,e){const n=W3(e),r=H3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function z3(t,e){bf.set(t._key(),e)}function H3(t){return Ai(t._redirectPersistence)}function W3(t){return xf(j3,t.config.apiKey,t.name)}async function K3(t,e,n=!1){const r=Qo(t),i=M3(r,e),o=await new U3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=10*60*1e3;class G3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q3&&this.cachedEventUids.clear(),this.cachedEventUids.has(zb(e))}saveEventToCache(e){this.cachedEventUids.add(zb(e)),this.lastProcessedEventTime=Date.now()}}function zb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Q3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(t,e={}){return Go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J3=/^https?/;async function Z3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Y3(t);for(const n of e)try{if(ej(n))return}catch{}Dr(t,"unauthorized-domain")}function ej(t){const e=K0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!J3.test(n))return!1;if(X3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=new Fc(3e4,6e4);function Hb(){const t=ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nj(t){return new Promise((e,n)=>{var r,i,s;function o(){Hb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hb(),n(oi(t,"network-request-failed"))},timeout:tj.get()})}if(!((i=(r=ai().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ai().gapi)===null||s===void 0)&&s.load)o();else{const a=W$("iframefcb");return ai()[a]=()=>{gapi.load?o():n(oi(t,"network-request-failed"))},VI(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw kf=null,e})}let kf=null;function rj(t){return kf=kf||nj(t),kf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new Fc(5e3,15e3),sj="__/auth/iframe",oj="emulator/auth/iframe",aj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uj(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Iw(e,oj):`https://${t.config.authDomain}/${sj}`,r={apiKey:e.apiKey,appName:t.name,v:_l},i=lj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bc(r).slice(1)}`}async function cj(t){const e=await rj(t),n=ai().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:uj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=oi(t,"network-request-failed"),a=ai().setTimeout(()=>{s(o)},ij.get());function l(){ai().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fj=500,dj=600,pj="_blank",gj="http://localhost";class Wb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mj(t,e,n,r=fj,i=dj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},hj),{width:r.toString(),height:i.toString(),top:s,left:o}),u=dn().toLowerCase();n&&(a=NI(u)?pj:n),RI(u)&&(e=e||gj,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[d,m])=>`${f}${d}=${m},`,"");if(U$(u)&&a!=="_self")return yj(e||"",a),new Wb(null);const h=window.open(e||"",a,c);he(h,t,"popup-blocked");try{h.focus()}catch{}return new Wb(h)}function yj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="__/auth/handler",wj="emulator/auth/handler",Sj=encodeURIComponent("fac");async function Kb(t,e,n,r,i,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_l,eventId:i};if(e instanceof WI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",dF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof jc){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Sj}=${encodeURIComponent(l)}`:"";return`${xj(t)}?${Bc(a).slice(1)}${u}`}function xj({config:t}){return t.emulator?Iw(t,wj):`https://${t.authDomain}/${vj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="webStorageSupport";class bj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XI,this._completeRedirectFn=K3,this._overrideRedirectResult=z3}async _openPopup(e,n,r,i){var s;Fi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Kb(e,n,r,K0(),i);return mj(e,o,Nw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Kb(e,n,r,K0(),i);return C3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cj(e),r=new G3(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($m,{type:$m},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$m];o!==void 0&&n(!!o),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FI()||_w()||ug()}}const kj=bj;var qb="@firebase/auth",Gb="0.23.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Tj(t){sl(new Ro("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),he(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$I(t)},u=new Y$(r,i,s,l);return J$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sl(new Ro("auth-internal",e=>{const n=Qo(e.getProvider("auth").getImmediate());return(r=>new Ej(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(qb,Gb,Cj(t)),Os(qb,Gb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=5*60,Ij=vI("authIdTokenMaxAge")||Aj;let Qb=null;const Oj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ij)return;const i=n==null?void 0:n.token;Qb!==i&&(Qb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _j(t=bI()){const e=Cw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=X$(t,{popupRedirectResolver:kj,persistence:[D3,b3,XI]}),r=vI("authTokenSyncURL");if(r){const s=Oj(r);m3(n,s,()=>s(n.currentUser)),g3(n,o=>s(o))}const i=yI("auth");return i&&Z$(n,`http://${i}`),n}Tj("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Pj(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Rj(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ea=function(){return Ea=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ea.apply(this,arguments)},iO=function(t){return{loading:t==null,value:t}},Nj=function(){return function(t,e){switch(e.type){case"error":return Ea(Ea({},t),{error:e.error,loading:!1,value:void 0});case"reset":return iO(e.defaultValue);case"value":return Ea(Ea({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},Dj=function(t){var e=t?t():void 0,n=P.useReducer(Nj(),iO(e)),r=n[0],i=n[1],s=P.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=P.useCallback(function(l){i({type:"error",error:l})},[]),a=P.useCallback(function(l){i({type:"value",value:l})},[]);return P.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},Mw=function(t,e){var n=Dj(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return P.useEffect(function(){var l=y3(t,function(u){return Pj(void 0,void 0,void 0,function(){var c;return Rj(this,function(h){switch(h.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return h.sent(),[3,4];case 3:return c=h.sent(),s(c),[3,4];case 4:return o(u),[2]}})})},s);return function(){l()}},[t]),[a,i,r]},sO={},fg={};fg.byteLength=Bj;fg.toByteArray=$j;fg.fromByteArray=Vj;var Gr=[],ir=[],Mj=typeof Uint8Array<"u"?Uint8Array:Array,jm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ea=0,Lj=jm.length;ea<Lj;++ea)Gr[ea]=jm[ea],ir[jm.charCodeAt(ea)]=ea;ir["-".charCodeAt(0)]=62;ir["_".charCodeAt(0)]=63;function oO(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Bj(t){var e=oO(t),n=e[0],r=e[1];return(n+r)*3/4-r}function Fj(t,e,n){return(e+n)*3/4-n}function $j(t){var e,n=oO(t),r=n[0],i=n[1],s=new Mj(Fj(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=ir[t.charCodeAt(l)]<<18|ir[t.charCodeAt(l+1)]<<12|ir[t.charCodeAt(l+2)]<<6|ir[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=ir[t.charCodeAt(l)]<<2|ir[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=ir[t.charCodeAt(l)]<<10|ir[t.charCodeAt(l+1)]<<4|ir[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function jj(t){return Gr[t>>18&63]+Gr[t>>12&63]+Gr[t>>6&63]+Gr[t&63]}function Uj(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(jj(r));return i.join("")}function Vj(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(Uj(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(Gr[e>>2]+Gr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Gr[e>>10]+Gr[e>>4&63]+Gr[e<<2&63]+"=")),i.join("")}var Lw={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Lw.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,u=l>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=s*256+t[e+h],h+=f,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=o*256+t[e+h],h+=f,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(d?-1:1)*o*Math.pow(2,s-r)};Lw.write=function(t,e,n,r,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,h=c>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,m=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=f/l:e+=f*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=a&255,d+=m,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[n+d]=o&255,d+=m,o/=256,u-=8);t[n+d-m]|=w*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=fg,n=Lw,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const S=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(S,p),S.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(S){if(S>i)throw new RangeError('The value "'+S+'" is invalid for option "size"');const p=new Uint8Array(S);return Object.setPrototypeOf(p,a.prototype),p}function a(S,p,g){if(typeof S=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(S)}return l(S,p,g)}a.poolSize=8192;function l(S,p,g){if(typeof S=="string")return f(S,p);if(ArrayBuffer.isView(S))return m(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(H(S,ArrayBuffer)||S&&H(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(H(S,SharedArrayBuffer)||S&&H(S.buffer,SharedArrayBuffer)))return w(S,p,g);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=S.valueOf&&S.valueOf();if(k!=null&&k!==S)return a.from(k,p,g);const T=x(S);if(T)return T;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return a.from(S[Symbol.toPrimitive]("string"),p,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}a.from=function(S,p,g){return l(S,p,g)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function c(S,p,g){return u(S),S<=0?o(S):p!==void 0?typeof g=="string"?o(S).fill(p,g):o(S).fill(p):o(S)}a.alloc=function(S,p,g){return c(S,p,g)};function h(S){return u(S),o(S<0?0:v(S)|0)}a.allocUnsafe=function(S){return h(S)},a.allocUnsafeSlow=function(S){return h(S)};function f(S,p){if((typeof p!="string"||p==="")&&(p="utf8"),!a.isEncoding(p))throw new TypeError("Unknown encoding: "+p);const g=b(S,p)|0;let k=o(g);const T=k.write(S,p);return T!==g&&(k=k.slice(0,T)),k}function d(S){const p=S.length<0?0:v(S.length)|0,g=o(p);for(let k=0;k<p;k+=1)g[k]=S[k]&255;return g}function m(S){if(H(S,Uint8Array)){const p=new Uint8Array(S);return w(p.buffer,p.byteOffset,p.byteLength)}return d(S)}function w(S,p,g){if(p<0||S.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<p+(g||0))throw new RangeError('"length" is outside of buffer bounds');let k;return p===void 0&&g===void 0?k=new Uint8Array(S):g===void 0?k=new Uint8Array(S,p):k=new Uint8Array(S,p,g),Object.setPrototypeOf(k,a.prototype),k}function x(S){if(a.isBuffer(S)){const p=v(S.length)|0,g=o(p);return g.length===0||S.copy(g,0,0,p),g}if(S.length!==void 0)return typeof S.length!="number"||Se(S.length)?o(0):d(S);if(S.type==="Buffer"&&Array.isArray(S.data))return d(S.data)}function v(S){if(S>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return S|0}function y(S){return+S!=S&&(S=0),a.alloc(+S)}a.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==a.prototype},a.compare=function(p,g){if(H(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),H(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),!a.isBuffer(p)||!a.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===g)return 0;let k=p.length,T=g.length;for(let R=0,$=Math.min(k,T);R<$;++R)if(p[R]!==g[R]){k=p[R],T=g[R];break}return k<T?-1:T<k?1:0},a.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(p,g){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return a.alloc(0);let k;if(g===void 0)for(g=0,k=0;k<p.length;++k)g+=p[k].length;const T=a.allocUnsafe(g);let R=0;for(k=0;k<p.length;++k){let $=p[k];if(H($,Uint8Array))R+$.length>T.length?(a.isBuffer($)||($=a.from($)),$.copy(T,R)):Uint8Array.prototype.set.call(T,$,R);else if(a.isBuffer($))$.copy(T,R);else throw new TypeError('"list" argument must be an Array of Buffers');R+=$.length}return T};function b(S,p){if(a.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||H(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const g=S.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&g===0)return 0;let T=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return D(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return z(S).length;default:if(T)return k?-1:D(S).length;p=(""+p).toLowerCase(),T=!0}}a.byteLength=b;function E(S,p,g){let k=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,p>>>=0,g<=p))return"";for(S||(S="utf8");;)switch(S){case"hex":return G(this,p,g);case"utf8":case"utf-8":return le(this,p,g);case"ascii":return pe(this,p,g);case"latin1":case"binary":return V(this,p,g);case"base64":return ee(this,p,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,p,g);default:if(k)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),k=!0}}a.prototype._isBuffer=!0;function C(S,p,g){const k=S[p];S[p]=S[g],S[g]=k}a.prototype.swap16=function(){const p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<p;g+=2)C(this,g,g+1);return this},a.prototype.swap32=function(){const p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<p;g+=4)C(this,g,g+3),C(this,g+1,g+2);return this},a.prototype.swap64=function(){const p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<p;g+=8)C(this,g,g+7),C(this,g+1,g+6),C(this,g+2,g+5),C(this,g+3,g+4);return this},a.prototype.toString=function(){const p=this.length;return p===0?"":arguments.length===0?le(this,0,p):E.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(p){if(!a.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:a.compare(this,p)===0},a.prototype.inspect=function(){let p="";const g=t.INSPECT_MAX_BYTES;return p=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(p+=" ... "),"<Buffer "+p+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(p,g,k,T,R){if(H(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),!a.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(g===void 0&&(g=0),k===void 0&&(k=p?p.length:0),T===void 0&&(T=0),R===void 0&&(R=this.length),g<0||k>p.length||T<0||R>this.length)throw new RangeError("out of range index");if(T>=R&&g>=k)return 0;if(T>=R)return-1;if(g>=k)return 1;if(g>>>=0,k>>>=0,T>>>=0,R>>>=0,this===p)return 0;let $=R-T,xe=k-g;const st=Math.min($,xe),We=this.slice(T,R),ot=p.slice(g,k);for(let Le=0;Le<st;++Le)if(We[Le]!==ot[Le]){$=We[Le],xe=ot[Le];break}return $<xe?-1:xe<$?1:0};function O(S,p,g,k,T){if(S.length===0)return-1;if(typeof g=="string"?(k=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,Se(g)&&(g=T?0:S.length-1),g<0&&(g=S.length+g),g>=S.length){if(T)return-1;g=S.length-1}else if(g<0)if(T)g=0;else return-1;if(typeof p=="string"&&(p=a.from(p,k)),a.isBuffer(p))return p.length===0?-1:_(S,p,g,k,T);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?T?Uint8Array.prototype.indexOf.call(S,p,g):Uint8Array.prototype.lastIndexOf.call(S,p,g):_(S,[p],g,k,T);throw new TypeError("val must be string, number or Buffer")}function _(S,p,g,k,T){let R=1,$=S.length,xe=p.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(S.length<2||p.length<2)return-1;R=2,$/=2,xe/=2,g/=2}function st(ot,Le){return R===1?ot[Le]:ot.readUInt16BE(Le*R)}let We;if(T){let ot=-1;for(We=g;We<$;We++)if(st(S,We)===st(p,ot===-1?0:We-ot)){if(ot===-1&&(ot=We),We-ot+1===xe)return ot*R}else ot!==-1&&(We-=We-ot),ot=-1}else for(g+xe>$&&(g=$-xe),We=g;We>=0;We--){let ot=!0;for(let Le=0;Le<xe;Le++)if(st(S,We+Le)!==st(p,Le)){ot=!1;break}if(ot)return We}return-1}a.prototype.includes=function(p,g,k){return this.indexOf(p,g,k)!==-1},a.prototype.indexOf=function(p,g,k){return O(this,p,g,k,!0)},a.prototype.lastIndexOf=function(p,g,k){return O(this,p,g,k,!1)};function F(S,p,g,k){g=Number(g)||0;const T=S.length-g;k?(k=Number(k),k>T&&(k=T)):k=T;const R=p.length;k>R/2&&(k=R/2);let $;for($=0;$<k;++$){const xe=parseInt(p.substr($*2,2),16);if(Se(xe))return $;S[g+$]=xe}return $}function L(S,p,g,k){return N(D(p,S.length-g),S,g,k)}function M(S,p,g,k){return N(j(p),S,g,k)}function Z(S,p,g,k){return N(z(p),S,g,k)}function Y(S,p,g,k){return N(ne(p,S.length-g),S,g,k)}a.prototype.write=function(p,g,k,T){if(g===void 0)T="utf8",k=this.length,g=0;else if(k===void 0&&typeof g=="string")T=g,k=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(k)?(k=k>>>0,T===void 0&&(T="utf8")):(T=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const R=this.length-g;if((k===void 0||k>R)&&(k=R),p.length>0&&(k<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");let $=!1;for(;;)switch(T){case"hex":return F(this,p,g,k);case"utf8":case"utf-8":return L(this,p,g,k);case"ascii":case"latin1":case"binary":return M(this,p,g,k);case"base64":return Z(this,p,g,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,p,g,k);default:if($)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),$=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ee(S,p,g){return p===0&&g===S.length?e.fromByteArray(S):e.fromByteArray(S.slice(p,g))}function le(S,p,g){g=Math.min(S.length,g);const k=[];let T=p;for(;T<g;){const R=S[T];let $=null,xe=R>239?4:R>223?3:R>191?2:1;if(T+xe<=g){let st,We,ot,Le;switch(xe){case 1:R<128&&($=R);break;case 2:st=S[T+1],(st&192)===128&&(Le=(R&31)<<6|st&63,Le>127&&($=Le));break;case 3:st=S[T+1],We=S[T+2],(st&192)===128&&(We&192)===128&&(Le=(R&15)<<12|(st&63)<<6|We&63,Le>2047&&(Le<55296||Le>57343)&&($=Le));break;case 4:st=S[T+1],We=S[T+2],ot=S[T+3],(st&192)===128&&(We&192)===128&&(ot&192)===128&&(Le=(R&15)<<18|(st&63)<<12|(We&63)<<6|ot&63,Le>65535&&Le<1114112&&($=Le))}}$===null?($=65533,xe=1):$>65535&&($-=65536,k.push($>>>10&1023|55296),$=56320|$&1023),k.push($),T+=xe}return de(k)}const me=4096;function de(S){const p=S.length;if(p<=me)return String.fromCharCode.apply(String,S);let g="",k=0;for(;k<p;)g+=String.fromCharCode.apply(String,S.slice(k,k+=me));return g}function pe(S,p,g){let k="";g=Math.min(S.length,g);for(let T=p;T<g;++T)k+=String.fromCharCode(S[T]&127);return k}function V(S,p,g){let k="";g=Math.min(S.length,g);for(let T=p;T<g;++T)k+=String.fromCharCode(S[T]);return k}function G(S,p,g){const k=S.length;(!p||p<0)&&(p=0),(!g||g<0||g>k)&&(g=k);let T="";for(let R=p;R<g;++R)T+=Ce[S[R]];return T}function X(S,p,g){const k=S.slice(p,g);let T="";for(let R=0;R<k.length-1;R+=2)T+=String.fromCharCode(k[R]+k[R+1]*256);return T}a.prototype.slice=function(p,g){const k=this.length;p=~~p,g=g===void 0?k:~~g,p<0?(p+=k,p<0&&(p=0)):p>k&&(p=k),g<0?(g+=k,g<0&&(g=0)):g>k&&(g=k),g<p&&(g=p);const T=this.subarray(p,g);return Object.setPrototypeOf(T,a.prototype),T};function oe(S,p,g){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+p>g)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(p,g,k){p=p>>>0,g=g>>>0,k||oe(p,g,this.length);let T=this[p],R=1,$=0;for(;++$<g&&(R*=256);)T+=this[p+$]*R;return T},a.prototype.readUintBE=a.prototype.readUIntBE=function(p,g,k){p=p>>>0,g=g>>>0,k||oe(p,g,this.length);let T=this[p+--g],R=1;for(;g>0&&(R*=256);)T+=this[p+--g]*R;return T},a.prototype.readUint8=a.prototype.readUInt8=function(p,g){return p=p>>>0,g||oe(p,1,this.length),this[p]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(p,g){return p=p>>>0,g||oe(p,2,this.length),this[p]|this[p+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(p,g){return p=p>>>0,g||oe(p,2,this.length),this[p]<<8|this[p+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(p,g){return p=p>>>0,g||oe(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(p,g){return p=p>>>0,g||oe(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},a.prototype.readBigUInt64LE=ht(function(p){p=p>>>0,_n(p,"offset");const g=this[p],k=this[p+7];(g===void 0||k===void 0)&&rr(p,this.length-8);const T=g+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,R=this[++p]+this[++p]*2**8+this[++p]*2**16+k*2**24;return BigInt(T)+(BigInt(R)<<BigInt(32))}),a.prototype.readBigUInt64BE=ht(function(p){p=p>>>0,_n(p,"offset");const g=this[p],k=this[p+7];(g===void 0||k===void 0)&&rr(p,this.length-8);const T=g*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],R=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+k;return(BigInt(T)<<BigInt(32))+BigInt(R)}),a.prototype.readIntLE=function(p,g,k){p=p>>>0,g=g>>>0,k||oe(p,g,this.length);let T=this[p],R=1,$=0;for(;++$<g&&(R*=256);)T+=this[p+$]*R;return R*=128,T>=R&&(T-=Math.pow(2,8*g)),T},a.prototype.readIntBE=function(p,g,k){p=p>>>0,g=g>>>0,k||oe(p,g,this.length);let T=g,R=1,$=this[p+--T];for(;T>0&&(R*=256);)$+=this[p+--T]*R;return R*=128,$>=R&&($-=Math.pow(2,8*g)),$},a.prototype.readInt8=function(p,g){return p=p>>>0,g||oe(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},a.prototype.readInt16LE=function(p,g){p=p>>>0,g||oe(p,2,this.length);const k=this[p]|this[p+1]<<8;return k&32768?k|4294901760:k},a.prototype.readInt16BE=function(p,g){p=p>>>0,g||oe(p,2,this.length);const k=this[p+1]|this[p]<<8;return k&32768?k|4294901760:k},a.prototype.readInt32LE=function(p,g){return p=p>>>0,g||oe(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},a.prototype.readInt32BE=function(p,g){return p=p>>>0,g||oe(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},a.prototype.readBigInt64LE=ht(function(p){p=p>>>0,_n(p,"offset");const g=this[p],k=this[p+7];(g===void 0||k===void 0)&&rr(p,this.length-8);const T=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+(k<<24);return(BigInt(T)<<BigInt(32))+BigInt(g+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),a.prototype.readBigInt64BE=ht(function(p){p=p>>>0,_n(p,"offset");const g=this[p],k=this[p+7];(g===void 0||k===void 0)&&rr(p,this.length-8);const T=(g<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(T)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+k)}),a.prototype.readFloatLE=function(p,g){return p=p>>>0,g||oe(p,4,this.length),n.read(this,p,!0,23,4)},a.prototype.readFloatBE=function(p,g){return p=p>>>0,g||oe(p,4,this.length),n.read(this,p,!1,23,4)},a.prototype.readDoubleLE=function(p,g){return p=p>>>0,g||oe(p,8,this.length),n.read(this,p,!0,52,8)},a.prototype.readDoubleBE=function(p,g){return p=p>>>0,g||oe(p,8,this.length),n.read(this,p,!1,52,8)};function fe(S,p,g,k,T,R){if(!a.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>T||p<R)throw new RangeError('"value" argument is out of bounds');if(g+k>S.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(p,g,k,T){if(p=+p,g=g>>>0,k=k>>>0,!T){const xe=Math.pow(2,8*k)-1;fe(this,p,g,k,xe,0)}let R=1,$=0;for(this[g]=p&255;++$<k&&(R*=256);)this[g+$]=p/R&255;return g+k},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(p,g,k,T){if(p=+p,g=g>>>0,k=k>>>0,!T){const xe=Math.pow(2,8*k)-1;fe(this,p,g,k,xe,0)}let R=k-1,$=1;for(this[g+R]=p&255;--R>=0&&($*=256);)this[g+R]=p/$&255;return g+k},a.prototype.writeUint8=a.prototype.writeUInt8=function(p,g,k){return p=+p,g=g>>>0,k||fe(this,p,g,1,255,0),this[g]=p&255,g+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(p,g,k){return p=+p,g=g>>>0,k||fe(this,p,g,2,65535,0),this[g]=p&255,this[g+1]=p>>>8,g+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(p,g,k){return p=+p,g=g>>>0,k||fe(this,p,g,2,65535,0),this[g]=p>>>8,this[g+1]=p&255,g+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(p,g,k){return p=+p,g=g>>>0,k||fe(this,p,g,4,4294967295,0),this[g+3]=p>>>24,this[g+2]=p>>>16,this[g+1]=p>>>8,this[g]=p&255,g+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(p,g,k){return p=+p,g=g>>>0,k||fe(this,p,g,4,4294967295,0),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4};function Tt(S,p,g,k,T){xr(p,k,T,S,g,7);let R=Number(p&BigInt(4294967295));S[g++]=R,R=R>>8,S[g++]=R,R=R>>8,S[g++]=R,R=R>>8,S[g++]=R;let $=Number(p>>BigInt(32)&BigInt(4294967295));return S[g++]=$,$=$>>8,S[g++]=$,$=$>>8,S[g++]=$,$=$>>8,S[g++]=$,g}function Xe(S,p,g,k,T){xr(p,k,T,S,g,7);let R=Number(p&BigInt(4294967295));S[g+7]=R,R=R>>8,S[g+6]=R,R=R>>8,S[g+5]=R,R=R>>8,S[g+4]=R;let $=Number(p>>BigInt(32)&BigInt(4294967295));return S[g+3]=$,$=$>>8,S[g+2]=$,$=$>>8,S[g+1]=$,$=$>>8,S[g]=$,g+8}a.prototype.writeBigUInt64LE=ht(function(p,g=0){return Tt(this,p,g,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ht(function(p,g=0){return Xe(this,p,g,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(p,g,k,T){if(p=+p,g=g>>>0,!T){const st=Math.pow(2,8*k-1);fe(this,p,g,k,st-1,-st)}let R=0,$=1,xe=0;for(this[g]=p&255;++R<k&&($*=256);)p<0&&xe===0&&this[g+R-1]!==0&&(xe=1),this[g+R]=(p/$>>0)-xe&255;return g+k},a.prototype.writeIntBE=function(p,g,k,T){if(p=+p,g=g>>>0,!T){const st=Math.pow(2,8*k-1);fe(this,p,g,k,st-1,-st)}let R=k-1,$=1,xe=0;for(this[g+R]=p&255;--R>=0&&($*=256);)p<0&&xe===0&&this[g+R+1]!==0&&(xe=1),this[g+R]=(p/$>>0)-xe&255;return g+k},a.prototype.writeInt8=function(p,g,k){return p=+p,g=g>>>0,k||fe(this,p,g,1,127,-128),p<0&&(p=255+p+1),this[g]=p&255,g+1},a.prototype.writeInt16LE=function(p,g,k){return p=+p,g=g>>>0,k||fe(this,p,g,2,32767,-32768),this[g]=p&255,this[g+1]=p>>>8,g+2},a.prototype.writeInt16BE=function(p,g,k){return p=+p,g=g>>>0,k||fe(this,p,g,2,32767,-32768),this[g]=p>>>8,this[g+1]=p&255,g+2},a.prototype.writeInt32LE=function(p,g,k){return p=+p,g=g>>>0,k||fe(this,p,g,4,2147483647,-2147483648),this[g]=p&255,this[g+1]=p>>>8,this[g+2]=p>>>16,this[g+3]=p>>>24,g+4},a.prototype.writeInt32BE=function(p,g,k){return p=+p,g=g>>>0,k||fe(this,p,g,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4},a.prototype.writeBigInt64LE=ht(function(p,g=0){return Tt(this,p,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ht(function(p,g=0){return Xe(this,p,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function yn(S,p,g,k,T,R){if(g+k>S.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function it(S,p,g,k,T){return p=+p,g=g>>>0,T||yn(S,p,g,4),n.write(S,p,g,k,23,4),g+4}a.prototype.writeFloatLE=function(p,g,k){return it(this,p,g,!0,k)},a.prototype.writeFloatBE=function(p,g,k){return it(this,p,g,!1,k)};function St(S,p,g,k,T){return p=+p,g=g>>>0,T||yn(S,p,g,8),n.write(S,p,g,k,52,8),g+8}a.prototype.writeDoubleLE=function(p,g,k){return St(this,p,g,!0,k)},a.prototype.writeDoubleBE=function(p,g,k){return St(this,p,g,!1,k)},a.prototype.copy=function(p,g,k,T){if(!a.isBuffer(p))throw new TypeError("argument should be a Buffer");if(k||(k=0),!T&&T!==0&&(T=this.length),g>=p.length&&(g=p.length),g||(g=0),T>0&&T<k&&(T=k),T===k||p.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),p.length-g<T-k&&(T=p.length-g+k);const R=T-k;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,k,T):Uint8Array.prototype.set.call(p,this.subarray(k,T),g),R},a.prototype.fill=function(p,g,k,T){if(typeof p=="string"){if(typeof g=="string"?(T=g,g=0,k=this.length):typeof k=="string"&&(T=k,k=this.length),T!==void 0&&typeof T!="string")throw new TypeError("encoding must be a string");if(typeof T=="string"&&!a.isEncoding(T))throw new TypeError("Unknown encoding: "+T);if(p.length===1){const $=p.charCodeAt(0);(T==="utf8"&&$<128||T==="latin1")&&(p=$)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(g<0||this.length<g||this.length<k)throw new RangeError("Out of range index");if(k<=g)return this;g=g>>>0,k=k===void 0?this.length:k>>>0,p||(p=0);let R;if(typeof p=="number")for(R=g;R<k;++R)this[R]=p;else{const $=a.isBuffer(p)?p:a.from(p,T),xe=$.length;if(xe===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(R=0;R<k-g;++R)this[R+g]=$[R%xe]}return this};const Yt={};function wr(S,p,g){Yt[S]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(T){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:T,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}wr("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),wr("ERR_INVALID_ARG_TYPE",function(S,p){return`The "${S}" argument must be of type number. Received type ${typeof p}`},TypeError),wr("ERR_OUT_OF_RANGE",function(S,p,g){let k=`The value of "${S}" is out of range.`,T=g;return Number.isInteger(g)&&Math.abs(g)>2**32?T=Sr(String(g)):typeof g=="bigint"&&(T=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(T=Sr(T)),T+="n"),k+=` It must be ${p}. Received ${T}`,k},RangeError);function Sr(S){let p="",g=S.length;const k=S[0]==="-"?1:0;for(;g>=k+4;g-=3)p=`_${S.slice(g-3,g)}${p}`;return`${S.slice(0,g)}${p}`}function Un(S,p,g){_n(p,"offset"),(S[p]===void 0||S[p+g]===void 0)&&rr(p,S.length-(g+1))}function xr(S,p,g,k,T,R){if(S>g||S<p){const $=typeof p=="bigint"?"n":"";let xe;throw R>3?p===0||p===BigInt(0)?xe=`>= 0${$} and < 2${$} ** ${(R+1)*8}${$}`:xe=`>= -(2${$} ** ${(R+1)*8-1}${$}) and < 2 ** ${(R+1)*8-1}${$}`:xe=`>= ${p}${$} and <= ${g}${$}`,new Yt.ERR_OUT_OF_RANGE("value",xe,S)}Un(k,T,R)}function _n(S,p){if(typeof S!="number")throw new Yt.ERR_INVALID_ARG_TYPE(p,"number",S)}function rr(S,p,g){throw Math.floor(S)!==S?(_n(S,g),new Yt.ERR_OUT_OF_RANGE(g||"offset","an integer",S)):p<0?new Yt.ERR_BUFFER_OUT_OF_BOUNDS:new Yt.ERR_OUT_OF_RANGE(g||"offset",`>= ${g?1:0} and <= ${p}`,S)}const ch=/[^+/0-9A-Za-z-_]/g;function A(S){if(S=S.split("=")[0],S=S.trim().replace(ch,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function D(S,p){p=p||1/0;let g;const k=S.length;let T=null;const R=[];for(let $=0;$<k;++$){if(g=S.charCodeAt($),g>55295&&g<57344){if(!T){if(g>56319){(p-=3)>-1&&R.push(239,191,189);continue}else if($+1===k){(p-=3)>-1&&R.push(239,191,189);continue}T=g;continue}if(g<56320){(p-=3)>-1&&R.push(239,191,189),T=g;continue}g=(T-55296<<10|g-56320)+65536}else T&&(p-=3)>-1&&R.push(239,191,189);if(T=null,g<128){if((p-=1)<0)break;R.push(g)}else if(g<2048){if((p-=2)<0)break;R.push(g>>6|192,g&63|128)}else if(g<65536){if((p-=3)<0)break;R.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((p-=4)<0)break;R.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return R}function j(S){const p=[];for(let g=0;g<S.length;++g)p.push(S.charCodeAt(g)&255);return p}function ne(S,p){let g,k,T;const R=[];for(let $=0;$<S.length&&!((p-=2)<0);++$)g=S.charCodeAt($),k=g>>8,T=g%256,R.push(T),R.push(k);return R}function z(S){return e.toByteArray(A(S))}function N(S,p,g,k){let T;for(T=0;T<k&&!(T+g>=p.length||T>=S.length);++T)p[T+g]=S[T];return T}function H(S,p){return S instanceof p||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===p.name}function Se(S){return S!==S}const Ce=function(){const S="0123456789abcdef",p=new Array(256);for(let g=0;g<16;++g){const k=g*16;for(let T=0;T<16;++T)p[k+T]=S[g]+S[T]}return p}();function ht(S){return typeof BigInt>"u"?yi:S}function yi(){throw new Error("BigInt not supported")}})(sO);function Yn(t){return Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(t)}function zj(t,e){if(Yn(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aO(t){var e=zj(t,"string");return Yn(e)==="symbol"?e:String(e)}function Mr(t,e,n){return e=aO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hj(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var Yb={};function G0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&Yb[e[0]]||(typeof e[0]=="string"&&(Yb[e[0]]=new Date),Hj.apply(void 0,e))}function Xb(t,e,n){t.loadNamespaces(e,function(){if(t.isInitialized)n();else{var r=function i(){setTimeout(function(){t.off("initialized",i)},0),n()};t.on("initialized",r)}})}function Wj(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var o=function(l,u){var c=e.services.backendConnector.state["".concat(l,"|").concat(u)];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}function Kj(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return G0("i18n.languages were undefined or empty",e.languages),!0;var r=e.options.ignoreJSONStructure!==void 0;return r?e.hasLoadedNamespace(t,{precheck:function(s,o){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,t))return!1}}):Wj(t,e,n)}var qj=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Gj={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Qj=function(e){return Gj[e]},Yj=function(e){return e.replace(qj,Qj)};function Jb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jb(Object(n),!0).forEach(function(r){Mr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Q0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Yj};function Xj(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Q0=Zb(Zb({},Q0),t)}function Jj(){return Q0}var lO;function Zj(t){lO=t}function eU(){return lO}function Lr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ek(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aO(r.key),r)}}function Br(t,e,n){return e&&ek(t.prototype,e),n&&ek(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var tU={type:"3rdParty",init:function(e){Xj(e.options.react),Zj(e)}},nU=P.createContext(),rU=function(){function t(){Lr(this,t),this.usedNamespaces={}}return Br(t,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function uO(t){if(Array.isArray(t))return t}function iU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cO(t,e){if(t){if(typeof t=="string")return tk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tk(t,e)}}function hO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sU(t,e){return uO(t)||iU(t,e)||cO(t,e)||hO()}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){Mr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var oU=function(e,n){var r=P.useRef();return P.useEffect(function(){r.current=n?r.current:e},[e,n]),r.current};function qi(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.i18n,r=P.useContext(nU)||{},i=r.i18n,s=r.defaultNS,o=n||i||eU();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new rU),!o){G0("You will need to pass in an i18next instance by using initReactI18next");var a=function(L,M){return typeof M=="string"?M:M&&Yn(M)==="object"&&typeof M.defaultValue=="string"?M.defaultValue:Array.isArray(L)?L[L.length-1]:L},l=[a,{},!1];return l.t=a,l.i18n={},l.ready=!1,l}o.options.react&&o.options.react.wait!==void 0&&G0("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=Um(Um(Um({},Jj()),o.options.react),e),c=u.useSuspense,h=u.keyPrefix,f=t||s||o.options&&o.options.defaultNS;f=typeof f=="string"?[f]:f||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(f);var d=(o.isInitialized||o.initializedStoreOnce)&&f.every(function(F){return Kj(F,o,u)});function m(){return o.getFixedT(null,u.nsMode==="fallback"?f:f[0],h)}var w=P.useState(m),x=sU(w,2),v=x[0],y=x[1],b=f.join(),E=oU(b),C=P.useRef(!0);P.useEffect(function(){var F=u.bindI18n,L=u.bindI18nStore;C.current=!0,!d&&!c&&Xb(o,f,function(){C.current&&y(m)}),d&&E&&E!==b&&C.current&&y(m);function M(){C.current&&y(m)}return F&&o&&o.on(F,M),L&&o&&o.store.on(L,M),function(){C.current=!1,F&&o&&F.split(" ").forEach(function(Z){return o.off(Z,M)}),L&&o&&L.split(" ").forEach(function(Z){return o.store.off(Z,M)})}},[o,b]);var O=P.useRef(!0);P.useEffect(function(){C.current&&!O.current&&y(m),O.current=!1},[o,h]);var _=[v,o,d];if(_.t=v,_.i18n=o,_.ready=d,d||!d&&!c)return _;throw new Promise(function(F){Xb(o,f,function(){F()})})}var aU="firebase",lU="9.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(aU,lU,"app");var uU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,Bw=Bw||{},ge=uU||self;function Sd(){}function dg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Vc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function cU(t){return Object.prototype.hasOwnProperty.call(t,Vm)&&t[Vm]||(t[Vm]=++hU)}var Vm="closure_uid_"+(1e9*Math.random()>>>0),hU=0;function fU(t,e,n){return t.call.apply(t.bind,arguments)}function dU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function cn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?cn=fU:cn=dU,cn.apply(null,arguments)}function Oh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Mt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Js(){this.s=this.s,this.o=this.o}var pU=0;Js.prototype.s=!1;Js.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),pU!=0)&&cU(this)};Js.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Fw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function rk(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(dg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function hn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var gU=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ge.addEventListener("test",Sd,e),ge.removeEventListener("test",Sd,e)}catch{}return t}();function xd(t){return/^[\s\xa0]*$/.test(t)}var ik=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function zm(t,e){return t<e?-1:t>e?1:0}function pg(){var t=ge.navigator;return t&&(t=t.userAgent)?t:""}function Qr(t){return pg().indexOf(t)!=-1}function $w(t){return $w[" "](t),t}$w[" "]=Sd;function dO(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var mU=Qr("Opera"),al=Qr("Trident")||Qr("MSIE"),pO=Qr("Edge"),Y0=pO||al,gO=Qr("Gecko")&&!(pg().toLowerCase().indexOf("webkit")!=-1&&!Qr("Edge"))&&!(Qr("Trident")||Qr("MSIE"))&&!Qr("Edge"),yU=pg().toLowerCase().indexOf("webkit")!=-1&&!Qr("Edge");function mO(){var t=ge.document;return t?t.documentMode:void 0}var bd;e:{var Hm="",Wm=function(){var t=pg();if(gO)return/rv:([^\);]+)(\)|;)/.exec(t);if(pO)return/Edge\/([\d\.]+)/.exec(t);if(al)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(yU)return/WebKit\/(\S+)/.exec(t);if(mU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Wm&&(Hm=Wm?Wm[1]:""),al){var Km=mO();if(Km!=null&&Km>parseFloat(Hm)){bd=String(Km);break e}}bd=Hm}var vU={};function wU(){return dO(vU,9,function(){let t=0;const e=ik(String(bd)).split("."),n=ik("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=zm(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||zm(i[2].length==0,s[2].length==0)||zm(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var X0;if(ge.document&&al){var sk=mO();X0=sk||parseInt(bd,10)||void 0}else X0=void 0;var SU=X0;function ic(t,e){if(hn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(gO){e:{try{$w(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:xU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ic.$.h.call(this)}}Mt(ic,hn);var xU={2:"touch",3:"pen",4:"mouse"};ic.prototype.h=function(){ic.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var zc="closure_listenable_"+(1e6*Math.random()|0),bU=0;function kU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++bU,this.fa=this.ia=!1}function gg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function jw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function yO(t){const e={};for(const n in t)e[n]=t[n];return e}const ok="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vO(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ok.length;s++)n=ok[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mg(t){this.src=t,this.g={},this.h=0}mg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Z0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new kU(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function J0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=fO(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(gg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Z0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Uw="closure_lm_"+(1e6*Math.random()|0),qm={};function wO(t,e,n,r,i){if(r&&r.once)return xO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)wO(t,e[s],n,r,i);return null}return n=Hw(n),t&&t[zc]?t.O(e,n,Vc(r)?!!r.capture:!!r,i):SO(t,e,n,!1,r,i)}function SO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Vc(i)?!!i.capture:!!i,a=zw(t);if(a||(t[Uw]=a=new mg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=EU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gU||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(kO(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function EU(){function t(n){return e.call(t.src,t.listener,n)}const e=CU;return t}function xO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)xO(t,e[s],n,r,i);return null}return n=Hw(n),t&&t[zc]?t.P(e,n,Vc(r)?!!r.capture:!!r,i):SO(t,e,n,!0,r,i)}function bO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)bO(t,e[s],n,r,i);else r=Vc(r)?!!r.capture:!!r,n=Hw(n),t&&t[zc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Z0(s,n,r,i),-1<n&&(gg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=zw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Z0(e,n,r,i)),(n=-1<t?e[t]:null)&&Vw(n))}function Vw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[zc])J0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(kO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=zw(e))?(J0(n,t),n.h==0&&(n.src=null,e[Uw]=null)):gg(t)}}}function kO(t){return t in qm?qm[t]:qm[t]="on"+t}function CU(t,e){if(t.fa)t=!0;else{e=new ic(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Vw(t),t=n.call(r,e)}return t}function zw(t){return t=t[Uw],t instanceof mg?t:null}var Gm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hw(t){return typeof t=="function"?t:(t[Gm]||(t[Gm]=function(e){return t.handleEvent(e)}),t[Gm])}function Rt(){Js.call(this),this.i=new mg(this),this.S=this,this.J=null}Mt(Rt,Js);Rt.prototype[zc]=!0;Rt.prototype.removeEventListener=function(t,e,n,r){bO(this,t,e,n,r)};function qt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new hn(e,t);else if(e instanceof hn)e.target=e.target||t;else{var i=e;e=new hn(r,t),vO(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=_h(o,r,!0,e)&&i}if(o=e.g=t,i=_h(o,r,!0,e)&&i,i=_h(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=_h(o,r,!1,e)&&i}Rt.prototype.N=function(){if(Rt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gg(n[r]);delete t.g[e],t.h--}}this.J=null};Rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Rt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function _h(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&J0(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ww=ge.JSON.stringify;function TU(){var t=TO;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class AU{constructor(){this.h=this.g=null}add(e,n){const r=EO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var EO=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new IU,t=>t.reset());class IU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function OU(t){ge.setTimeout(()=>{throw t},0)}function CO(t,e){ev||_U(),tv||(ev(),tv=!0),TO.add(t,e)}var ev;function _U(){var t=ge.Promise.resolve(void 0);ev=function(){t.then(PU)}}var tv=!1,TO=new AU;function PU(){for(var t;t=TU();){try{t.h.call(t.g)}catch(n){OU(n)}var e=EO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}tv=!1}function yg(t,e){Rt.call(this),this.h=t||1,this.g=e||ge,this.j=cn(this.qb,this),this.l=Date.now()}Mt(yg,Rt);J=yg.prototype;J.ga=!1;J.T=null;J.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qt(this,"tick"),this.ga&&(Kw(this),this.start()))}};J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Kw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}J.N=function(){yg.$.N.call(this),Kw(this),delete this.g};function qw(t,e,n){if(typeof t=="function")n&&(t=cn(t,n));else if(t&&typeof t.handleEvent=="function")t=cn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function AO(t){t.g=qw(()=>{t.g=null,t.i&&(t.i=!1,AO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class RU extends Js{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:AO(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sc(t){Js.call(this),this.h=t,this.g={}}Mt(sc,Js);var ak=[];function IO(t,e,n,r){Array.isArray(n)||(n&&(ak[0]=n.toString()),n=ak);for(var i=0;i<n.length;i++){var s=wO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function OO(t){jw(t.g,function(e,n){this.g.hasOwnProperty(n)&&Vw(e)},t),t.g={}}sc.prototype.N=function(){sc.$.N.call(this),OO(this)};sc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function vg(){this.g=!0}vg.prototype.Ea=function(){this.g=!1};function NU(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function DU(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ca(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+LU(t,n)+(r?" "+r:"")})}function MU(t,e){t.info(function(){return"TIMEOUT: "+e})}vg.prototype.info=function(){};function LU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ww(n)}catch{return e}}var Yo={},lk=null;function wg(){return lk=lk||new Rt}Yo.Ta="serverreachability";function _O(t){hn.call(this,Yo.Ta,t)}Mt(_O,hn);function oc(t){const e=wg();qt(e,new _O(e))}Yo.STAT_EVENT="statevent";function PO(t,e){hn.call(this,Yo.STAT_EVENT,t),this.stat=e}Mt(PO,hn);function bn(t){const e=wg();qt(e,new PO(e,t))}Yo.Ua="timingevent";function RO(t,e){hn.call(this,Yo.Ua,t),this.size=e}Mt(RO,hn);function Hc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}var Sg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},NO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gw(){}Gw.prototype.h=null;function uk(t){return t.h||(t.h=t.i())}function DO(){}var Wc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qw(){hn.call(this,"d")}Mt(Qw,hn);function Yw(){hn.call(this,"c")}Mt(Yw,hn);var nv;function xg(){}Mt(xg,Gw);xg.prototype.g=function(){return new XMLHttpRequest};xg.prototype.i=function(){return{}};nv=new xg;function Kc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new sc(this),this.P=BU,t=Y0?125:void 0,this.V=new yg(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new MO}function MO(){this.i=null,this.g="",this.h=!1}var BU=45e3,rv={},kd={};J=Kc.prototype;J.setTimeout=function(t){this.P=t};function iv(t,e,n){t.L=1,t.v=kg($i(e)),t.s=n,t.S=!0,LO(t,null)}function LO(t,e){t.G=Date.now(),qc(t),t.A=$i(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),HO(n.i,"t",r),t.C=0,n=t.l.I,t.h=new MO,t.g=h_(t.l,n?e:null,!t.s),0<t.O&&(t.M=new RU(cn(t.Pa,t,t.g),t.O)),IO(t.U,t.g,"readystatechange",t.nb),e=t.I?yO(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),oc(),NU(t.j,t.u,t.A,t.m,t.W,t.s)}J.nb=function(t){t=t.target;const e=this.M;e&&Ii(t)==3?e.l():this.Pa(t)};J.Pa=function(t){try{if(t==this.g)e:{const c=Ii(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Y0||this.g&&(this.h.h||this.g.ja()||dk(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?oc(3):oc(2)),bg(this);var n=this.g.da();this.aa=n;t:if(BO(this)){var r=dk(this.g);t="";var i=r.length,s=Ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){po(this),Au(this);var o="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,DU(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xd(a)){var u=a;break t}}u=null}if(n=u)Ca(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sv(this,n);else{this.i=!1,this.o=3,bn(12),po(this),Au(this);break e}}this.S?(FO(this,c,o),Y0&&this.i&&c==3&&(IO(this.U,this.V,"tick",this.mb),this.V.start())):(Ca(this.j,this.m,o,null),sv(this,o)),c==4&&po(this),this.i&&!this.J&&(c==4?a_(this.l,this):(this.i=!1,qc(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,bn(12)):(this.o=0,bn(13)),po(this),Au(this)}}}catch{}finally{}};function BO(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function FO(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=FU(t,n),i==kd){e==4&&(t.o=4,bn(14),r=!1),Ca(t.j,t.m,null,"[Incomplete Response]");break}else if(i==rv){t.o=4,bn(15),Ca(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ca(t.j,t.m,i,null),sv(t,i);BO(t)&&i!=kd&&i!=rv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,bn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),rS(e),e.L=!0,bn(11))):(Ca(t.j,t.m,n,"[Invalid Chunked Response]"),po(t),Au(t))}J.mb=function(){if(this.g){var t=Ii(this.g),e=this.g.ja();this.C<e.length&&(bg(this),FO(this,t,e),this.i&&t!=4&&qc(this))}};function FU(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?kd:(n=Number(e.substring(n,r)),isNaN(n)?rv:(r+=1,r+n>e.length?kd:(e=e.substr(r,n),t.C=r+n,e)))}J.cancel=function(){this.J=!0,po(this)};function qc(t){t.Y=Date.now()+t.P,$O(t,t.P)}function $O(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Hc(cn(t.lb,t),e)}function bg(t){t.B&&(ge.clearTimeout(t.B),t.B=null)}J.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(MU(this.j,this.A),this.L!=2&&(oc(),bn(17)),po(this),this.o=2,Au(this)):$O(this,this.Y-t)};function Au(t){t.l.H==0||t.J||a_(t.l,t)}function po(t){bg(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,Kw(t.V),OO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function sv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ov(n.h,t))){if(!t.K&&ov(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Td(n),Tg(n);else break e;nS(n),bn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=Hc(cn(n.ib,n),6e3));if(1>=qO(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else go(n,11)}else if((t.K||n.g==t)&&Td(n),!xd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.J=u[1],n.oa=u[2];const c=u[3];c!=null&&(n.qa=c,n.j.info("VER="+n.qa));const h=u[4];h!=null&&(n.Ga=h,n.j.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const m=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.h;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Xw(s,s.h),s.h=null))}if(r.F){const w=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Qe(r.G,r.F,w))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=c_(r,r.I?r.oa:null,r.Y),o.K){GO(r.h,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(bg(a),qc(a)),r.g=o}else s_(r);0<n.i.length&&Ag(n)}else u[0]!="stop"&&u[0]!="close"||go(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?go(n,7):tS(n):u[0]!="noop"&&n.l&&n.l.Aa(u),n.A=0)}}oc(4)}catch{}}function $U(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(dg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function jU(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(dg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function jO(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(dg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=jU(t),r=$U(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var UO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ko(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ko){this.h=e!==void 0?e:t.h,Ed(this,t.j),this.s=t.s,this.g=t.g,Cd(this,t.m),this.l=t.l,e=t.i;var n=new ac;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ck(this,n),this.o=t.o}else t&&(n=String(t).match(UO))?(this.h=!!e,Ed(this,n[1]||"",!0),this.s=uu(n[2]||""),this.g=uu(n[3]||"",!0),Cd(this,n[4]),this.l=uu(n[5]||"",!0),ck(this,n[6]||"",!0),this.o=uu(n[7]||"")):(this.h=!!e,this.i=new ac(null,this.h))}ko.prototype.toString=function(){var t=[],e=this.j;e&&t.push(cu(e,hk,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(cu(e,hk,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(cu(n,n.charAt(0)=="/"?HU:zU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",cu(n,KU)),t.join("")};function $i(t){return new ko(t)}function Ed(t,e,n){t.j=n?uu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Cd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ck(t,e,n){e instanceof ac?(t.i=e,qU(t.i,t.h)):(n||(e=cu(e,WU)),t.i=new ac(e,t.h))}function Qe(t,e,n){t.i.set(e,n)}function kg(t){return Qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function uu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,VU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function VU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var hk=/[#\/\?@]/g,zU=/[#\?:]/g,HU=/[#\?]/g,WU=/[#\?@]/g,KU=/#/g;function ac(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Zs(t){t.g||(t.g=new Map,t.h=0,t.i&&UU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=ac.prototype;J.add=function(t,e){Zs(this),this.i=null,t=Rl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function VO(t,e){Zs(t),e=Rl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function zO(t,e){return Zs(t),e=Rl(t,e),t.g.has(e)}J.forEach=function(t,e){Zs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};J.sa=function(){Zs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};J.Z=function(t){Zs(this);let e=[];if(typeof t=="string")zO(this,t)&&(e=e.concat(this.g.get(Rl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return Zs(this),this.i=null,t=Rl(this,t),zO(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function HO(t,e,n){VO(t,e),0<n.length&&(t.i=null,t.g.set(Rl(t,e),Fw(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Rl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function qU(t,e){e&&!t.j&&(Zs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(VO(this,r),HO(this,i,n))},t)),t.j=e}var GU=class{constructor(t,e){this.h=t,this.g=e}};function WO(t){this.l=t||QU,ge.PerformanceNavigationTiming?(t=ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var QU=10;function KO(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function qO(t){return t.h?1:t.g?t.g.size:0}function ov(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Xw(t,e){t.g?t.g.add(e):t.h=e}function GO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}WO.prototype.cancel=function(){if(this.i=QO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function QO(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Fw(t.i)}function Jw(){}Jw.prototype.stringify=function(t){return ge.JSON.stringify(t,void 0)};Jw.prototype.parse=function(t){return ge.JSON.parse(t,void 0)};function YU(){this.g=new Jw}function XU(t,e,n){const r=n||"";try{jO(t,function(i,s){let o=i;Vc(i)&&(o=Ww(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function JU(t,e){const n=new vg;if(ge.Image){const r=new Image;r.onload=Oh(Ph,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Oh(Ph,n,r,"TestLoadImage: error",!1,e),r.onabort=Oh(Ph,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Oh(Ph,n,r,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ph(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Gc(t){this.l=t.fc||null,this.j=t.ob||!1}Mt(Gc,Gw);Gc.prototype.g=function(){return new Eg(this.l,this.j)};Gc.prototype.i=function(t){return function(){return t}}({});function Eg(t,e){Rt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Zw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mt(Eg,Rt);var Zw=0;J=Eg.prototype;J.open=function(t,e){if(this.readyState!=Zw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,lc(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qc(this)),this.readyState=Zw};J.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,lc(this)),this.g&&(this.readyState=3,lc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function YO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}J.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Qc(this):lc(this),this.readyState==3&&YO(this)}};J.Za=function(t){this.g&&(this.response=this.responseText=t,Qc(this))};J.Ya=function(t){this.g&&(this.response=t,Qc(this))};J.ka=function(){this.g&&Qc(this)};function Qc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,lc(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function lc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Eg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var ZU=ge.JSON.parse;function ct(t){Rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=XO,this.L=this.M=!1}Mt(ct,Rt);var XO="",eV=/^https?$/i,tV=["POST","PUT"];J=ct.prototype;J.Oa=function(t){this.M=t};J.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nv.g(),this.C=this.u?uk(this.u):uk(nv),this.g.onreadystatechange=cn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){fk(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ge.FormData&&t instanceof ge.FormData,!(0<=fO(tV,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{e_(this),0<this.B&&((this.L=nV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.ua,this)):this.A=qw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){fk(this,s)}};function nV(t){return al&&wU()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.ua=function(){typeof Bw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qt(this,"timeout"),this.abort(8))};function fk(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,JO(t),Cg(t)}function JO(t){t.F||(t.F=!0,qt(t,"complete"),qt(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,qt(this,"complete"),qt(this,"abort"),Cg(this))};J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cg(this,!0)),ct.$.N.call(this)};J.La=function(){this.s||(this.G||this.v||this.l?ZO(this):this.kb())};J.kb=function(){ZO(this)};function ZO(t){if(t.h&&typeof Bw<"u"&&(!t.C[1]||Ii(t)!=4||t.da()!=2)){if(t.v&&Ii(t)==4)qw(t.La,0,t);else if(qt(t,"readystatechange"),Ii(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(UO)[1]||null;if(!i&&ge.self&&ge.self.location){var s=ge.self.location.protocol;i=s.substr(0,s.length-1)}r=!eV.test(i?i.toLowerCase():"")}n=r}if(n)qt(t,"complete"),qt(t,"success");else{t.m=6;try{var o=2<Ii(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",JO(t)}}finally{Cg(t)}}}}function Cg(t,e){if(t.g){e_(t);const n=t.g,r=t.C[0]?Sd:null;t.g=null,t.C=null,e||qt(t,"ready");try{n.onreadystatechange=r}catch{}}}function e_(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}function Ii(t){return t.g?t.g.readyState:0}J.da=function(){try{return 2<Ii(this)?this.g.status:-1}catch{return-1}};J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ZU(e)}};function dk(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case XO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}J.Ia=function(){return this.m};J.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function t_(t){let e="";return jw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function eS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=t_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Qe(t,e,n))}function Gl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function n_(t){this.Ga=0,this.i=[],this.j=new vg,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gl("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gl("baseRetryDelayMs",5e3,t),this.hb=Gl("retryDelaySeedMs",1e4,t),this.eb=Gl("forwardChannelMaxRetries",2,t),this.xa=Gl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new WO(t&&t.concurrentRequestLimit),this.Ja=new YU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}J=n_.prototype;J.qa=8;J.H=1;function tS(t){if(r_(t),t.H==3){var e=t.W++,n=$i(t.G);Qe(n,"SID",t.J),Qe(n,"RID",e),Qe(n,"TYPE","terminate"),Yc(t,n),e=new Kc(t,t.j,e,void 0),e.L=2,e.v=kg($i(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon&&(n=ge.navigator.sendBeacon(e.v.toString(),"")),!n&&ge.Image&&(new Image().src=e.v,n=!0),n||(e.g=h_(e.l,null),e.g.ha(e.v)),e.G=Date.now(),qc(e)}u_(t)}function Tg(t){t.g&&(rS(t),t.g.cancel(),t.g=null)}function r_(t){Tg(t),t.u&&(ge.clearTimeout(t.u),t.u=null),Td(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ge.clearTimeout(t.m),t.m=null)}function Ag(t){KO(t.h)||t.m||(t.m=!0,CO(t.Na,t),t.C=0)}function rV(t,e){return qO(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Hc(cn(t.Na,t,e),l_(t,t.C)),t.C++,!0)}J.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Kc(this,this.j,t,void 0);let s=this.s;if(this.U&&(s?(s=yO(s),vO(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=i_(this,i,e),n=$i(this.G),Qe(n,"RID",t),Qe(n,"CVER",22),this.F&&Qe(n,"X-HTTP-Session-Id",this.F),Yc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(t_(s)))+"&"+e:this.o&&eS(n,this.o,s)),Xw(this.h,i),this.bb&&Qe(n,"TYPE","init"),this.P?(Qe(n,"$req",e),Qe(n,"SID","null"),i.ba=!0,iv(i,n,null)):iv(i,n,e),this.H=2}}else this.H==3&&(t?pk(this,t):this.i.length==0||KO(this.h)||pk(this))};function pk(t,e){var n;e?n=e.m:n=t.W++;const r=$i(t.G);Qe(r,"SID",t.J),Qe(r,"RID",n),Qe(r,"AID",t.V),Yc(t,r),t.o&&t.s&&eS(r,t.o,t.s),n=new Kc(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=i_(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Xw(t.h,n),iv(n,r,e)}function Yc(t,e){t.ma&&jw(t.ma,function(n,r){Qe(e,r,n)}),t.l&&jO({},function(n,r){Qe(e,r,n)})}function i_(t,e,n){n=Math.min(t.i.length,n);var r=t.l?cn(t.l.Va,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{XU(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function s_(t){t.g||t.u||(t.ba=1,CO(t.Ma,t),t.A=0)}function nS(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Hc(cn(t.Ma,t),l_(t,t.A)),t.A++,!0)}J.Ma=function(){if(this.u=null,o_(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=Hc(cn(this.jb,this),t)}};J.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,bn(10),Tg(this),o_(this))};function rS(t){t.B!=null&&(ge.clearTimeout(t.B),t.B=null)}function o_(t){t.g=new Kc(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=$i(t.wa);Qe(e,"RID","rpc"),Qe(e,"SID",t.J),Qe(e,"CI",t.M?"0":"1"),Qe(e,"AID",t.V),Qe(e,"TYPE","xmlhttp"),Yc(t,e),t.o&&t.s&&eS(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=kg($i(e)),n.s=null,n.S=!0,LO(n,t)}J.ib=function(){this.v!=null&&(this.v=null,Tg(this),nS(this),bn(19))};function Td(t){t.v!=null&&(ge.clearTimeout(t.v),t.v=null)}function a_(t,e){var n=null;if(t.g==e){Td(t),rS(t),t.g=null;var r=2}else if(ov(t.h,e))n=e.F,GO(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=wg(),qt(r,new RO(r,n)),Ag(t)}else s_(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&rV(t,e)||r==2&&nS(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:go(t,5);break;case 4:go(t,10);break;case 3:go(t,6);break;default:go(t,2)}}}function l_(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function go(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=cn(t.pb,t);n||(n=new ko("//www.google.com/images/cleardot.gif"),ge.location&&ge.location.protocol=="http"||Ed(n,"https"),kg(n)),JU(n.toString(),r)}else bn(2);t.H=0,t.l&&t.l.za(e),u_(t),r_(t)}J.pb=function(t){t?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function u_(t){if(t.H=0,t.pa=[],t.l){const e=QO(t.h);(e.length!=0||t.i.length!=0)&&(rk(t.pa,e),rk(t.pa,t.i),t.h.i.length=0,Fw(t.i),t.i.length=0),t.l.ya()}}function c_(t,e,n){var r=n instanceof ko?$i(n):new ko(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Cd(r,r.m);else{var i=ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ko(null,void 0);r&&Ed(s,r),e&&(s.g=e),i&&Cd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Qe(r,n,e),Qe(r,"VER",t.qa),Yc(t,r),r}function h_(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ct(new Gc({ob:!0})):new ct(t.va),e.Oa(t.I),e}function f_(){}J=f_.prototype;J.Ba=function(){};J.Aa=function(){};J.za=function(){};J.ya=function(){};J.Va=function(){};function Ad(){if(al&&!(10<=Number(SU)))throw Error("Environmental error: no available transport.")}Ad.prototype.g=function(t,e){return new Jn(t,e)};function Jn(t,e){Rt.call(this),this.g=new n_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!xd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Nl(this)}Mt(Jn,Rt);Jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;bn(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=c_(t,null,t.Y),Ag(t)};Jn.prototype.close=function(){tS(this.g)};Jn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ww(t),t=n);e.i.push(new GU(e.fb++,t)),e.H==3&&Ag(e)};Jn.prototype.N=function(){this.g.l=null,delete this.j,tS(this.g),delete this.g,Jn.$.N.call(this)};function d_(t){Qw.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Mt(d_,Qw);function p_(){Yw.call(this),this.status=1}Mt(p_,Yw);function Nl(t){this.g=t}Mt(Nl,f_);Nl.prototype.Ba=function(){qt(this.g,"a")};Nl.prototype.Aa=function(t){qt(this.g,new d_(t))};Nl.prototype.za=function(t){qt(this.g,new p_)};Nl.prototype.ya=function(){qt(this.g,"b")};function iV(){this.blockSize=-1}function hi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Mt(hi,iV);hi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Qm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}hi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Qm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Qm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Qm(this,r),i=0;break}}this.h=i,this.i+=e};hi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ne(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var sV={};function iS(t){return-128<=t&&128>t?dO(sV,t,function(e){return new Ne([e|0],0>e?-1:0)}):new Ne([t|0],0>t?-1:0)}function Jr(t){if(isNaN(t)||!isFinite(t))return Fa;if(0>t)return Vt(Jr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=av;return new Ne(e,0)}function g_(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Vt(g_(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Jr(Math.pow(e,8)),r=Fa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Jr(Math.pow(e,s)),r=r.R(s).add(Jr(o))):(r=r.R(n),r=r.add(Jr(o)))}return r}var av=4294967296,Fa=iS(0),lv=iS(1),gk=iS(16777216);J=Ne.prototype;J.ea=function(){if(lr(this))return-Vt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:av+r)*e,e*=av}return t};J.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Oi(this))return"0";if(lr(this))return"-"+Vt(this).toString(t);for(var e=Jr(Math.pow(t,6)),n=this,r="";;){var i=Od(n,e).g;n=Id(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Oi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};J.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Oi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function lr(t){return t.h==-1}J.X=function(t){return t=Id(this,t),lr(t)?-1:Oi(t)?0:1};function Vt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ne(n,~t.h).add(lv)}J.abs=function(){return lr(this)?Vt(this):this};J.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ne(n,n[n.length-1]&-2147483648?-1:0)};function Id(t,e){return t.add(Vt(e))}J.R=function(t){if(Oi(this)||Oi(t))return Fa;if(lr(this))return lr(t)?Vt(this).R(Vt(t)):Vt(Vt(this).R(t));if(lr(t))return Vt(this.R(Vt(t)));if(0>this.X(gk)&&0>t.X(gk))return Jr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Rh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Rh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Rh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Rh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ne(n,0)};function Rh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ql(t,e){this.g=t,this.h=e}function Od(t,e){if(Oi(e))throw Error("division by zero");if(Oi(t))return new Ql(Fa,Fa);if(lr(t))return e=Od(Vt(t),e),new Ql(Vt(e.g),Vt(e.h));if(lr(e))return e=Od(t,Vt(e)),new Ql(Vt(e.g),e.h);if(30<t.g.length){if(lr(t)||lr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=lv,r=e;0>=r.X(t);)n=mk(n),r=mk(r);var i=ta(n,1),s=ta(r,1);for(r=ta(r,2),n=ta(n,2);!Oi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ta(r,1),n=ta(n,1)}return e=Id(t,i.R(e)),new Ql(i,e)}for(i=Fa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Jr(n),o=s.R(e);lr(o)||0<o.X(t);)n-=r,s=Jr(n),o=s.R(e);Oi(s)&&(s=lv),i=i.add(s),t=Id(t,o)}return new Ql(i,t)}J.gb=function(t){return Od(this,t).h};J.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ne(n,this.h&t.h)};J.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ne(n,this.h|t.h)};J.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ne(n,this.h^t.h)};function mk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ne(n,t.h)}function ta(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ne(i,t.h)}Ad.prototype.createWebChannel=Ad.prototype.g;Jn.prototype.send=Jn.prototype.u;Jn.prototype.open=Jn.prototype.m;Jn.prototype.close=Jn.prototype.close;Sg.NO_ERROR=0;Sg.TIMEOUT=8;Sg.HTTP_ERROR=6;NO.COMPLETE="complete";DO.EventType=Wc;Wc.OPEN="a";Wc.CLOSE="b";Wc.ERROR="c";Wc.MESSAGE="d";Rt.prototype.listen=Rt.prototype.O;ct.prototype.listenOnce=ct.prototype.P;ct.prototype.getLastError=ct.prototype.Sa;ct.prototype.getLastErrorCode=ct.prototype.Ia;ct.prototype.getStatus=ct.prototype.da;ct.prototype.getResponseJson=ct.prototype.Wa;ct.prototype.getResponseText=ct.prototype.ja;ct.prototype.send=ct.prototype.ha;ct.prototype.setWithCredentials=ct.prototype.Oa;hi.prototype.digest=hi.prototype.l;hi.prototype.reset=hi.prototype.reset;hi.prototype.update=hi.prototype.j;Ne.prototype.add=Ne.prototype.add;Ne.prototype.multiply=Ne.prototype.R;Ne.prototype.modulo=Ne.prototype.gb;Ne.prototype.compare=Ne.prototype.X;Ne.prototype.toNumber=Ne.prototype.ea;Ne.prototype.toString=Ne.prototype.toString;Ne.prototype.getBits=Ne.prototype.D;Ne.fromNumber=Jr;Ne.fromString=g_;var oV=function(){return new Ad},aV=function(){return wg()},Ym=Sg,lV=NO,uV=Yo,yk={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},cV=Gc,Nh=DO,hV=ct,fV=Ne;const vk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl="9.21.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new kw("@firebase/firestore");function wk(){return Lo.logLevel}function ce(t,...e){if(Lo.logLevel<=Oe.DEBUG){const n=e.map(sS);Lo.debug(`Firestore (${Dl}): ${t}`,...n)}}function Bo(t,...e){if(Lo.logLevel<=Oe.ERROR){const n=e.map(sS);Lo.error(`Firestore (${Dl}): ${t}`,...n)}}function _d(t,...e){if(Lo.logLevel<=Oe.WARN){const n=e.map(sS);Lo.warn(`Firestore (${Dl}): ${t}`,...n)}}function sS(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: `+t;throw Bo(e),new Error(e)}function Nt(t,e){t||Ee()}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let ye=class extends Ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m_=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},dV=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}},pV=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},gV=class{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Eo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Eo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt(typeof r.accessToken=="string"),new m_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string"),new nn(e)}},mV=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},yV=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new mV(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}};class vV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wV{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Nt(typeof n.token=="string"),this.T=n.token,new vV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=SV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function ll(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new Pt(0,0))}static max(){return new Ze(new Pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return uc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof uc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends uc{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const xV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends uc{construct(e,n,r){return new ln(e,n,r)}static isValidIdentifier(e){return xV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ln(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ye(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ye(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ye(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ye(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(lt.fromString(e))}static fromName(e){return new ve(lt.fromString(e).popFirst(5))}static empty(){return new ve(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new lt(e.slice()))}}function bV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new $s(i,ve.empty(),e)}function kV(t){return new $s(t.readTime,t.key,-1)}class $s{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $s(Ze.min(),ve.empty(),-1)}static max(){return new $s(Ze.max(),ve.empty(),-1)}}function EV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v_(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==CV)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new K((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ig(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}w_.ct=-1;function oS(t){return t==null}function Pd(t){return t===0&&1/t==-1/0}function AV(t){return typeof t=="number"&&Number.isInteger(t)&&!Pd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function S_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new jn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dh(this.root,e,this.comparator,!0)}}class Dh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(t,e,n,r,i){return this}insert(t,e,n){return new jt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.comparator=e,this.data=new jn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xk(this.data.getIterator())}getIteratorFrom(e){return new xk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tn(this.comparator);return n.data=e,n}}class xk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new _r([])}unionWith(e){let n=new Tn(ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new IV("Invalid base64 string: "+i):i}}(e);return new ji(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ji(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ji.EMPTY_BYTE_STRING=new ji("");const OV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(t){if(Nt(!!t),typeof t=="string"){let e=0;const n=OV.exec(t);if(Nt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cc(t){return typeof t=="string"?ji.fromBase64String(t):ji.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function x_(t){const e=t.mapValue.fields.__previous_value__;return aS(e)?x_(e):e}function Rd(t){const e=Fo(t.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Nd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Nd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aS(t)?4:PV(t)?9007199254740991:10:Ee()}function fi(t,e){if(t===e)return!0;const n=ul(t);if(n!==ul(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rd(t).isEqual(Rd(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Fo(r.timestampValue),o=Fo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return cc(r.bytesValue).isEqual(cc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ut(r.geoPointValue.latitude)===Ut(i.geoPointValue.latitude)&&Ut(r.geoPointValue.longitude)===Ut(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ut(r.integerValue)===Ut(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ut(r.doubleValue),o=Ut(i.doubleValue);return s===o?Pd(s)===Pd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ll(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Sk(s)!==Sk(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!fi(s[a],o[a])))return!1;return!0}(t,e);default:return Ee()}}function hc(t,e){return(t.values||[]).find(n=>fi(n,e))!==void 0}function cl(t,e){if(t===e)return 0;const n=ul(t),r=ul(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ut(i.integerValue||i.doubleValue),a=Ut(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return bk(t.timestampValue,e.timestampValue);case 4:return bk(Rd(t),Rd(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=cc(i),a=cc(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Fe(o[l],a[l]);if(u!==0)return u}return Fe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Fe(Ut(i.latitude),Ut(s.latitude));return o!==0?o:Fe(Ut(i.longitude),Ut(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=cl(o[l],a[l]);if(u)return u}return Fe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Mh.mapValue&&s===Mh.mapValue)return 0;if(i===Mh.mapValue)return 1;if(s===Mh.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=Fe(a[c],u[c]);if(h!==0)return h;const f=cl(o[a[c]],l[u[c]]);if(f!==0)return f}return Fe(a.length,u.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function bk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Fo(t),r=Fo(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function hl(t){return uv(t)}function uv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Fo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?cc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ve.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=uv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${uv(r.fields[a])}`;return s+"}"}(t.mapValue):Ee();var e,n}function cv(t){return!!t&&"integerValue"in t}function lS(t){return!!t&&"arrayValue"in t}function Ef(t){return!!t&&"mapValue"in t}function Iu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Iu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Iu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as=class hv{constructor(e){this.value=e}static empty(){return new hv({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Iu(n)}setAll(e){let n=ln.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Iu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ef(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new hv(Iu(this.value))}};function b_(t){const e=[];return Xc(t.fields,(n,r)=>{const i=new ln([n]);if(Ef(r)){const s=b_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd=class so{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new so(e,0,Ze.min(),Ze.min(),Ze.min(),as.empty(),0)}static newFoundDocument(e,n,r,i){return new so(e,1,n,Ze.min(),r,i,0)}static newNoDocument(e,n){return new so(e,2,n,Ze.min(),Ze.min(),as.empty(),0)}static newUnknownDocument(e,n){return new so(e,3,n,Ze.min(),Ze.min(),as.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof so&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new so(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.position=e,this.inclusive=n}}function kk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ve.comparator(ve.fromName(o.referenceValue),n.key):r=cl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ek(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function RV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{}class Ot extends k_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DV(e,n,r):n==="array-contains"?new BV(e,r):n==="in"?new FV(e,r):n==="not-in"?new $V(e,r):n==="array-contains-any"?new jV(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MV(e,r):new LV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cl(n,this.value)):n!==null&&ul(this.value)===ul(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class js extends k_{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new js(e,n)}matches(e){return E_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function E_(t){return t.op==="and"}function C_(t){return NV(t)&&E_(t)}function NV(t){for(const e of t.filters)if(e instanceof js)return!1;return!0}function fv(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+hl(t.value);if(C_(t))return t.filters.map(e=>fv(e)).join(",");{const e=t.filters.map(n=>fv(n)).join(",");return`${t.op}(${e})`}}function T_(t,e){return t instanceof Ot?function(n,r){return r instanceof Ot&&n.op===r.op&&n.field.isEqual(r.field)&&fi(n.value,r.value)}(t,e):t instanceof js?function(n,r){return r instanceof js&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&T_(s,r.filters[o]),!0):!1}(t,e):void Ee()}function A_(t){return t instanceof Ot?function(e){return`${e.field.canonicalString()} ${e.op} ${hl(e.value)}`}(t):t instanceof js?function(e){return e.op.toString()+" {"+e.getFilters().map(A_).join(" ,")+"}"}(t):"Filter"}class DV extends Ot{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class MV extends Ot{constructor(e,n){super(e,"in",n),this.keys=I_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LV extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=I_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function I_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class BV extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lS(n)&&hc(n.arrayValue,this.value)}}class FV extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hc(this.value.arrayValue,n)}}class $V extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hc(this.value.arrayValue,n)}}class jV extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function Ck(t,e=null,n=[],r=[],i=null,s=null,o=null){return new UV(t,e,n,r,i,s,o)}function uS(t){const e=He(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),oS(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hl(r)).join(",")),e.ft=n}return e.ft}function cS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!T_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ek(t.startAt,e.startAt)&&Ek(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function VV(t,e,n,r,i,s,o,a){return new Og(t,e,n,r,i,s,o,a)}function zV(t){return new Og(t)}function Tk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HV(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function WV(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function KV(t){return t.collectionGroup!==null}function $a(t){const e=He(t);if(e.dt===null){e.dt=[];const n=WV(e),r=HV(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Ou(n)),e.dt.push(new Ou(ln.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ou(ln.keyField(),s))}}}return e.dt}function fl(t){const e=He(t);if(!e._t)if(e.limitType==="F")e._t=Ck(e.path,e.collectionGroup,$a(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of $a(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ou(s.field,o))}const r=e.endAt?new Md(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Md(e.startAt.position,e.startAt.inclusive):null;e._t=Ck(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function dv(t,e,n){return new Og(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function O_(t,e){return cS(fl(t),fl(e))&&t.limitType===e.limitType}function __(t){return`${uS(fl(t))}|lt:${t.limitType}`}function Ak(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>A_(r)).join(", ")}]`),oS(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hl(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hl(r)).join(",")),`Target(${n})`}(fl(t))}; limitType=${t.limitType})`}function hS(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ve.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of $a(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=kk(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,$a(n),r)||n.endAt&&!function(i,s,o){const a=kk(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,$a(n),r))}(t,e)}function qV(t){return(e,n)=>{let r=!1;for(const i of $a(t)){const s=GV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function GV(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?cl(a,l):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return S_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=new jn(ve.comparator);function Ld(){return QV}const P_=new jn(ve.comparator);function Lh(...t){let e=P_;for(const n of t)e=e.insert(n.key,n);return e}function R_(t){let e=P_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mo(){return _u()}function N_(){return _u()}function _u(){return new Ml(t=>t.toString(),(t,e)=>t.isEqual(e))}const YV=new jn(ve.comparator),XV=new Tn(ve.comparator);function on(...t){let e=XV;for(const n of t)e=e.add(n);return e}const JV=new Tn(Fe);function ZV(){return JV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pd(e)?"-0":e}}function M_(t){return{integerValue:""+t}}function e9(t,e){return AV(e)?M_(e):D_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this._=void 0}}function t9(t,e,n){return t instanceof Bd?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&aS(i)&&(i=x_(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof fc?B_(t,e):t instanceof dc?F_(t,e):function(r,i){const s=L_(r,i),o=Ik(s)+Ik(r.wt);return cv(s)&&cv(r.wt)?M_(o):D_(r.serializer,o)}(t,e)}function n9(t,e,n){return t instanceof fc?B_(t,e):t instanceof dc?F_(t,e):n}function L_(t,e){return t instanceof Fd?cv(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Bd extends _g{}class fc extends _g{constructor(e){super(),this.elements=e}}function B_(t,e){const n=$_(e);for(const r of t.elements)n.some(i=>fi(i,r))||n.push(r);return{arrayValue:{values:n}}}class dc extends _g{constructor(e){super(),this.elements=e}}function F_(t,e){let n=$_(e);for(const r of t.elements)n=n.filter(i=>!fi(i,r));return{arrayValue:{values:n}}}class Fd extends _g{constructor(e,n){super(),this.serializer=e,this.wt=n}}function Ik(t){return Ut(t.integerValue||t.doubleValue)}function $_(t){return lS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function r9(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof fc&&r instanceof fc||n instanceof dc&&r instanceof dc?ll(n.elements,r.elements,fi):n instanceof Fd&&r instanceof Fd?fi(n.wt,r.wt):n instanceof Bd&&r instanceof Bd}(t.transform,e.transform)}class i9{constructor(e,n){this.version=e,this.transformResults=n}}class Pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pg{}function j_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new V_(t.key,Pi.none()):new Jc(t.key,t.data,Pi.none());{const n=t.data,r=as.empty();let i=new Tn(ln.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xo(t.key,r,new _r(i.toArray()),Pi.none())}}function s9(t,e,n){t instanceof Jc?function(r,i,s){const o=r.value.clone(),a=_k(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Xo?function(r,i,s){if(!Cf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=_k(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(U_(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Pu(t,e,n,r){return t instanceof Jc?function(i,s,o,a){if(!Cf(i.precondition,s))return o;const l=i.value.clone(),u=Pk(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xo?function(i,s,o,a){if(!Cf(i.precondition,s))return o;const l=Pk(i.fieldTransforms,a,s),u=s.data;return u.setAll(U_(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Cf(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function o9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=L_(r.transform,i||null);s!=null&&(n===null&&(n=as.empty()),n.set(r.field,s))}return n||null}function Ok(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ll(n,r,(i,s)=>r9(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jc extends Pg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xo extends Pg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function U_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _k(t,e,n){const r=new Map;Nt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,n9(o,a,n[i]))}return r}function Pk(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,t9(s,o,e))}return r}class V_ extends Pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a9 extends Pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&s9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=N_();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=j_(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),on())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(n,r)=>Ok(n,r))&&ll(this.baseMutations,e.baseMutations,(n,r)=>Ok(n,r))}}class fS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Nt(e.mutations.length===r.length);let i=YV;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new fS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Te;function c9(t){switch(t){default:return Ee();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function h9(t){if(t===void 0)return Bo("GRPC error has no .code"),q.UNKNOWN;switch(t){case pt.OK:return q.OK;case pt.CANCELLED:return q.CANCELLED;case pt.UNKNOWN:return q.UNKNOWN;case pt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case pt.INTERNAL:return q.INTERNAL;case pt.UNAVAILABLE:return q.UNAVAILABLE;case pt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case pt.NOT_FOUND:return q.NOT_FOUND;case pt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case pt.ABORTED:return q.ABORTED;case pt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case pt.DATA_LOSS:return q.DATA_LOSS;default:return Ee()}}(Te=pt||(pt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new fV([4294967295,4294967295],0);class f9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p9(t,e){return pv(t,e.toTimestamp())}function ja(t){return Nt(!!t),Ze.fromTimestamp(function(e){const n=Fo(e);return new Pt(n.seconds,n.nanos)}(t))}function z_(t,e){return function(n){return new lt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function g9(t){const e=lt.fromString(t);return Nt(k9(e)),e}function gv(t,e){return z_(t.databaseId,e.path)}function m9(t){const e=g9(t);return e.length===4?lt.emptyPath():v9(e)}function y9(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function v9(t){return Nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rk(t,e,n){return{name:gv(t,e),fields:n.value.mapValue.fields}}function w9(t,e){let n;if(e instanceof Jc)n={update:Rk(t,e.key,e.value)};else if(e instanceof V_)n={delete:gv(t,e.key)};else if(e instanceof Xo)n={update:Rk(t,e.key,e.data),updateMask:b9(e.fieldMask)};else{if(!(e instanceof a9))return Ee();n={verify:gv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Bd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof fc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof dc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Fd)return{fieldPath:s.field.canonicalString(),increment:o.wt};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:p9(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ee()}(t,e.precondition)),n}function S9(t,e){return t&&t.length>0?(Nt(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?ja(r.updateTime):ja(i);return s.isEqual(Ze.min())&&(s=ja(i)),new i9(s,r.transformResults||[])}(n,e))):[]}function x9(t){let e=m9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Nt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=H_(c);return h instanceof js&&C_(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new Ou(la(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,oS(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,f=c.values||[];return new Md(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,f=c.values||[];return new Md(f,h)}(n.endAt)),VV(e,i,o,s,a,"F",l,u)}function H_(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=la(e.unaryFilter.field);return Ot.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=la(e.unaryFilter.field);return Ot.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=la(e.unaryFilter.field);return Ot.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=la(e.unaryFilter.field);return Ot.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(e){return Ot.create(la(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return js.create(e.compositeFilter.filters.map(n=>H_(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ee()}}(e.compositeFilter.op))}(t):Ee()}function la(t){return ln.fromServerFormat(t.fieldPath)}function b9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function k9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.le=e}}function C9(t){const e=x9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.sn=new A9}addToCollectionParentIndex(e,n){return this.sn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve($s.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve($s.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class A9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tn(lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tn(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new dl(0)}static kn(){return new dl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(){this.changes=new Ml(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dd.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Pu(r.mutation,i,_r.empty(),Pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,on()).next(()=>r))}getLocalViewOfDocuments(e,n,r=on()){const i=mo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Lh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,on()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ld();const o=_u(),a=_u();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Xo)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Pu(c.mutation,u,c.mutation.getFieldMask(),Pt.now())):o.set(u.key,_r.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new O9(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=_u();let i=new jn((o,a)=>o-a),s=on();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||_r.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||on()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=N_();c.forEach(f=>{if(!s.has(f)){const d=j_(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):K.resolve(mo());let a=-1,l=s;return o.next(u=>K.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?K.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,on())).next(c=>({batchId:a,changes:R_(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=Lh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Lh();return this.indexManager.getCollectionParents(e,i).next(o=>K.forEach(o,a=>{const l=function(u,c){return new Og(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Dd.newInvalidDocument(u)))});let o=Lh();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Pu(u.mutation,l,_r.empty(),Pt.now()),hS(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,n){return K.resolve(this.us.get(n))}saveBundleMetadata(e,n){var r;return this.us.set(n.id,{id:(r=n).id,version:r.version,createTime:ja(r.createTime)}),K.resolve()}getNamedQuery(e,n){return K.resolve(this.cs.get(n))}saveNamedQuery(e,n){return this.cs.set(n.name,function(r){return{name:r.name,query:C9(r.bundledQuery),readTime:ja(r.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(){this.overlays=new jn(ve.comparator),this.hs=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mo();return K.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.de(e,n,s)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hs.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hs.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=mo(),s=n.length+1,o=new ve(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new jn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=mo(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=mo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return K.resolve(a)}de(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new u9(n,r));let s=this.hs.get(n);s===void 0&&(s=on(),this.hs.set(n,s)),this.hs.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.ls=new Tn(At.fs),this.ds=new Tn(At._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,n){const r=new At(e,n);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gs(new At(e,n))}ys(e,n){e.forEach(r=>this.removeReference(r,n))}ps(e){const n=new ve(new lt([])),r=new At(n,e),i=new At(n,e+1),s=[];return this.ds.forEachInRange([r,i],o=>{this.gs(o),s.push(o.key)}),s}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const n=new ve(new lt([])),r=new At(n,e),i=new At(n,e+1);let s=on();return this.ds.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new At(e,0),r=this.ls.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this.Es=n}static fs(e,n){return ve.comparator(e.key,n.key)||Fe(e.Es,n.Es)}static _s(e,n){return Fe(e.Es,n.Es)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new Tn(At.fs)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new l9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new At(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.vs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ps(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.As-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.vs(o.Es);s.push(a)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tn(Fe);return n.forEach(i=>{const s=new At(i,0),o=new At(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.Es)})}),K.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const o=new At(new ve(s),0);let a=new Tn(Fe);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Es)),!0)},o),K.resolve(this.bs(a))}bs(e){const n=[];return e.forEach(r=>{const i=this.vs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Nt(this.Vs(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return K.forEach(n.mutations,i=>{const s=new At(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,n){const r=new At(n,0),i=this.Rs.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Vs(e,n){return this.Ps(e)}Ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}vs(e){const n=this.Ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.Ss=e,this.docs=new jn(ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ss(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Dd.newInvalidDocument(n))}getEntries(e,n){let r=Ld();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dd.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ld();const o=n.path,a=new ve(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||EV(kV(c),r)<=0||(i.has(c.key)||hS(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ee()}Ds(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new M9(this)}getSize(e){return K.resolve(this.size)}}class M9 extends I9{constructor(e){super(),this.rs=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.rs.getEntry(e,n)}getAllFromCache(e,n){return this.rs.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.persistence=e,this.Cs=new Ml(n=>uS(n),cS),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.xs=0,this.Ns=new dS,this.targetCount=0,this.ks=dl.Nn()}forEachTarget(e,n){return this.Cs.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.xs&&(this.xs=n),K.resolve()}$n(e){this.Cs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ks=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,n){return this.$n(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.$n(n),K.resolve()}removeTargetData(e,n){return this.Cs.delete(n.target),this.Ns.ps(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cs.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Ns.ws(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Ns.ys(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ns.ps(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ns.Ts(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Ns.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n){this.Ms={},this.overlays={},this.Os=new w_(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new L9(this),this.indexManager=new T9,this.remoteDocumentCache=function(r){return new D9(r)}(r=>this.referenceDelegate.Bs(r)),this.serializer=new E9(n),this.Ls=new P9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ms[e.toKey()];return r||(r=new N9(n,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new F9(this.Os.next());return this.referenceDelegate.qs(),r(i).next(s=>this.referenceDelegate.Us(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ks(e,n){return K.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,n)))}}class F9 extends TV{constructor(e){super(),this.currentSequenceNumber=e}}class pS{constructor(e){this.persistence=e,this.Gs=new dS,this.Qs=null}static js(e){return new pS(e)}get zs(){if(this.Qs)return this.Qs;throw Ee()}addReference(e,n,r){return this.Gs.addReference(r,n),this.zs.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Gs.removeReference(r,n),this.zs.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.zs.add(n.toString()),K.resolve()}removeTarget(e,n){this.Gs.ps(n.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.zs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}qs(){this.Qs=new Set}Us(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.zs,r=>{const i=ve.fromPath(r);return this.Ws(e,i).next(s=>{s||n.removeEntry(i,Ze.min())})}).next(()=>(this.Qs=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ws(e,n).next(r=>{r?this.zs.delete(n.toString()):this.zs.add(n.toString())})}Bs(e){return 0}Ws(e,n){return K.or([()=>K.resolve(this.Gs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ks(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Fi=i}static Bi(e,n){let r=on(),i=on();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(){this.Li=!1}initialize(e,n){this.qi=e,this.indexManager=n,this.Li=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ui(e,n).next(s=>s||this.Ki(e,n,i,r)).next(s=>s||this.Gi(e,n))}Ui(e,n){if(Tk(n))return K.resolve(null);let r=fl(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dv(n,null,"F"),r=fl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=on(...s);return this.qi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Qi(n,a);return this.ji(n,u,o,l.readTime)?this.Ui(e,dv(n,null,"F")):this.zi(e,u,n,l)}))})))}Ki(e,n,r,i){return Tk(n)||i.isEqual(Ze.min())?this.Gi(e,n):this.qi.getDocuments(e,r).next(s=>{const o=this.Qi(n,s);return this.ji(n,o,r,i)?this.Gi(e,n):(wk()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ak(n)),this.zi(e,o,n,bV(i,-1)))})}Qi(e,n){let r=new Tn(qV(e));return n.forEach((i,s)=>{hS(e,s)&&(r=r.add(s))}),r}ji(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Gi(e,n){return wk()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ak(n)),this.qi.getDocumentsMatchingQuery(e,n,$s.min())}zi(e,n,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n,r,i){this.persistence=e,this.Wi=n,this.serializer=i,this.Hi=new jn(Fe),this.Ji=new Ml(s=>uS(s),cS),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _9(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Hi))}}function U9(t,e,n,r){return new j9(t,e,n,r)}async function W_(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Zi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=on();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({tr:u,removedBatchIds:o,addedBatchIds:a}))})})}function V9(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let f=K.resolve();return h.forEach(d=>{f=f.next(()=>u.getEntry(a,d)).next(m=>{const w=l.docVersions.get(d);Nt(w!==null),m.version.compareTo(w)<0&&(c.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=on();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function z9(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Fs.getLastRemoteSnapshotVersion(n))}function H9(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class Nk{constructor(){this.activeTargetIds=ZV()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W9{constructor(){this.Wr=new Nk,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,n,r){this.Hr[e]=n}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new Nk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{Jr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh=null;function Xm(){return Bh===null?Bh=268435456+Math.round(2147483648*Math.random()):Bh++,"0x"+Bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class Q9 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.wo=n+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,n,r,i,s){const o=Xm(),a=this.Io(e,n);ce("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.To(l,i,s),this.Eo(e,a,l,r).then(u=>(ce("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw _d("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Ao(e,n,r,i,s,o){return this.po(e,n,r,i,s)}To(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Dl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Io(e,n){const r=q9[e];return`${this.wo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,n,r,i){const s=Xm();return new Promise((o,a)=>{const l=new hV;l.setWithCredentials(!0),l.listenOnce(lV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ym.NO_ERROR:const c=l.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ym.TIMEOUT:ce(Zt,`RPC '${e}' ${s} timed out`),a(new ye(q.DEADLINE_EXCEEDED,"Request time out"));break;case Ym.HTTP_ERROR:const h=l.getStatus();if(ce(Zt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const m=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(x)>=0?x:q.UNKNOWN}(d.status);a(new ye(m,d.message))}else a(new ye(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ye(q.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ce(Zt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ce(Zt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=Xm(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oV(),a=aV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new cV({})),this.To(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ce(Zt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let h=!1,f=!1;const d=new G9({io:w=>{f?ce(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(ce(Zt,`Opening RPC '${e}' stream ${i} transport.`),c.open(),h=!0),ce(Zt,`RPC '${e}' stream ${i} sending:`,w),c.send(w))},ro:()=>c.close()}),m=(w,x,v)=>{w.listen(x,y=>{try{v(y)}catch(b){setTimeout(()=>{throw b},0)}})};return m(c,Nh.EventType.OPEN,()=>{f||ce(Zt,`RPC '${e}' stream ${i} transport opened.`)}),m(c,Nh.EventType.CLOSE,()=>{f||(f=!0,ce(Zt,`RPC '${e}' stream ${i} transport closed`),d.fo())}),m(c,Nh.EventType.ERROR,w=>{f||(f=!0,_d(Zt,`RPC '${e}' stream ${i} transport errored:`,w),d.fo(new ye(q.UNAVAILABLE,"The operation could not be completed")))}),m(c,Nh.EventType.MESSAGE,w=>{var x;if(!f){const v=w.data[0];Nt(!!v);const y=v,b=y.error||((x=y[0])===null||x===void 0?void 0:x.error);if(b){ce(Zt,`RPC '${e}' stream ${i} received error:`,b);const E=b.status;let C=function(_){const F=pt[_];if(F!==void 0)return h9(F)}(E),O=b.message;C===void 0&&(C=q.INTERNAL,O="Unknown error status: "+E+" with message "+b.message),f=!0,d.fo(new ye(C,O)),c.close()}else ce(Zt,`RPC '${e}' stream ${i} received:`,v),d._o(v)}}),m(a,uV.STAT_EVENT,w=>{w.stat===yk.PROXY?ce(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===yk.NOPROXY&&ce(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{d.lo()},0),d}}function Jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){return new f9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.vo=r,this.Po=i,this.bo=s,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){this.So!==null&&(this.So.skipDelay(),this.So=null)}cancel(){this.So!==null&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Mo=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new K_(e,n)}qo(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Ko()}async stop(){this.qo()&&await this.close(0)}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&this.Fo===null&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}async close(e,n){this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,e!==4?this.Lo.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Bo(n.toString()),Bo("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Jo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===n&&this.Xo(r,i)},r=>{e(()=>{const i=new ye(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,n){const r=this.Yo(this.$o);this.stream=this.tu(e,n),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){this.state=5,this.Lo.xo(async()=>{this.state=0,this.start()})}Zo(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return n=>{this.si.enqueueAndForget(()=>this.$o===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X9 extends Y9{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const n=S9(e.writeResults,e.commitTime),r=ja(e.commitTime);return this.listener.uu(r,n)}return Nt(!e.writeResults||e.writeResults.length===0),this.iu=!0,this.listener.cu()}au(){const e={};e.database=y9(this.serializer),this.zo(e)}ou(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>w9(this.serializer,r))};this.zo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new ye(q.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,n,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.po(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ye(q.UNKNOWN,i.toString())})}Ao(e,n,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ao(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye(q.UNKNOWN,s.toString())})}terminate(){this.hu=!0}}class Z9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){this.du===0&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){this.state==="Online"?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,e==="Online"&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Bo(n),this.wu=!1):ce("OnlineStateTracker",n)}Iu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=s,this.vu.Jr(o=>{r.enqueueAndForget(async()=>{eh(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=He(a);l.Au.add(4),await Zc(l),l.Pu.set("Unknown"),l.Au.delete(4),await Ng(l)}(this))})}),this.Pu=new Z9(r,i)}}async function Ng(t){if(eh(t))for(const e of t.Ru)await e(!0)}async function Zc(t){for(const e of t.Ru)await e(!1)}function eh(t){return He(t).Au.size===0}async function q_(t,e,n){if(!Ig(e))throw e;t.Au.add(1),await Zc(t),t.Pu.set("Offline"),n||(n=()=>z9(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.Au.delete(1),await Ng(t)})}function G_(t,e){return e().catch(n=>q_(t,n,e))}async function Dg(t){const e=He(t),n=Us(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;t6(e);)try{const i=await H9(e.localStore,r);if(i===null){e.Tu.length===0&&n.Qo();break}r=i.batchId,n6(e,i)}catch(i){await q_(e,i)}Q_(e)&&Y_(e)}function t6(t){return eh(t)&&t.Tu.length<10}function n6(t,e){t.Tu.push(e);const n=Us(t);n.Uo()&&n.ru&&n.ou(e.mutations)}function Q_(t){return eh(t)&&!Us(t).qo()&&t.Tu.length>0}function Y_(t){Us(t).start()}async function r6(t){Us(t).au()}async function i6(t){const e=Us(t);for(const n of t.Tu)e.ou(n.mutations)}async function s6(t,e,n){const r=t.Tu.shift(),i=fS.from(r,e,n);await G_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Dg(t)}async function o6(t,e){e&&Us(t).ru&&await async function(n,r){if(i=r.code,c9(i)&&i!==q.ABORTED){const s=n.Tu.shift();Us(n).Go(),await G_(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Dg(n)}var i}(t,e),Q_(t)&&Y_(t)}async function Mk(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=eh(n);n.Au.add(3),await Zc(n),r&&n.Pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Au.delete(3),await Ng(n)}async function a6(t,e){const n=He(t);e?(n.Au.delete(2),await Ng(n)):e||(n.Au.add(2),await Zc(n),n.Pu.set("Unknown"))}function Us(t){return t.Su||(t.Su=function(e,n,r){const i=He(e);return i.lu(),new X9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:r6.bind(null,t),co:o6.bind(null,t),cu:i6.bind(null,t),uu:s6.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Go(),await Dg(t)):(await t.Su.stop(),t.Tu.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.Tu.length} pending writes`),t.Tu=[]))})),t.Su}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new mS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X_(t,e){if(Bo("AsyncQueue",`${e}: ${t}`),Ig(t))return new ye(q.UNAVAILABLE,`${e}: ${t}`);throw t}class l6{constructor(){this.queries=new Ml(e=>__(e),O_),this.onlineState="Unknown",this.Nu=new Set}}function u6(t){t.Nu.forEach(e=>{e.next()})}class c6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new Ml(a=>__(a),O_),this._c=new Map,this.wc=new Set,this.mc=new jn(ve.comparator),this.gc=new Map,this.yc=new dS,this.Ic={},this.Tc=new Map,this.Ec=dl.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return this.Ac===!0}}async function h6(t,e,n){const r=g6(t);try{const i=await function(s,o){const a=He(s),l=Pt.now(),u=o.reduce((f,d)=>f.add(d.key),on());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let d=Ld(),m=on();return a.Xi.getEntries(f,u).next(w=>{d=w,d.forEach((x,v)=>{v.isValidDocument()||(m=m.add(x))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,d)).next(w=>{c=w;const x=[];for(const v of o){const y=o9(v,c.get(v.key).overlayedDocument);y!=null&&x.push(new Xo(v.key,y,b_(y.value.mapValue),Pi.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,x,o)}).next(w=>{h=w;const x=w.applyToLocalDocumentSet(c,m);return a.documentOverlayCache.saveOverlays(f,w.batchId,x)})}).then(()=>({batchId:h.batchId,changes:R_(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Ic[s.currentUser.toKey()];l||(l=new jn(Fe)),l=l.insert(o,a),s.Ic[s.currentUser.toKey()]=l}(r,i.batchId,n),await Mg(r,i.changes),await Dg(r.remoteStore)}catch(i){const s=X_(i,"Failed to persist write");n.reject(s)}}function Lk(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.dc.forEach((s,o)=>{const a=o.view.ku(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=He(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.ku(o)&&(l=!0)}),l&&u6(a)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function f6(t,e){const n=He(t),r=e.batch.batchId;try{const i=await V9(n.localStore,e);Z_(n,r,null),J_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mg(n,i)}catch(i){await v_(i)}}async function d6(t,e,n){const r=He(t);try{const i=await function(s,o){const a=He(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Nt(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Z_(r,e,n),J_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mg(r,i)}catch(i){await v_(i)}}function J_(t,e){(t.Tc.get(e)||[]).forEach(n=>{n.resolve()}),t.Tc.delete(e)}function Z_(t,e,n){const r=He(t);let i=r.Ic[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}async function Mg(t,e,n){const r=He(t),i=[],s=[],o=[];r.dc.isEmpty()||(r.dc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=gS.Bi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fc.eu(i),await async function(a,l){const u=He(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>K.forEach(l,h=>K.forEach(h.$i,f=>u.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>K.forEach(h.Fi,f=>u.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!Ig(c))throw c;ce("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const f=u.Hi.get(h),d=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(d);u.Hi=u.Hi.insert(h,m)}}}(r.localStore,s))}async function p6(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await W_(n.localStore,e);n.currentUser=e,function(i,s){i.Tc.forEach(o=>{o.forEach(a=>{a.reject(new ye(q.CANCELLED,s))})}),i.Tc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mg(n,r.tr)}}function g6(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d6.bind(null,e),e}class Bk{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Rg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return U9(this.persistence,new $9,e.initialUser,this.serializer)}createPersistence(e){return new B9(pS.js,this.serializer)}createSharedClientState(e){return new W9}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class m6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=p6.bind(null,this.syncEngine),await a6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new l6}createDatastore(e){const n=Rg(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new Q9(i));var i;return function(s,o,a,l){return new J9(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Lk(this.syncEngine,a,0),o=Dk.D()?new Dk:new K9,new e6(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new c6(r,i,s,o,a,l);return u&&(c.Ac=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=He(e);ce("RemoteStore","RemoteStore shutting down."),n.Au.add(5),await Zc(n),n.vu.shutdown(),n.Pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=y_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ce("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ye(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=X_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zm(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await W_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Fk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await w6(t);ce("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Mk(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Mk(e.remoteStore,s)),t._onlineComponents=e}function v6(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function w6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!v6(n))throw n;_d("Error using user provided cache. Falling back to memory cache: "+n),await Zm(t,new Bk)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Zm(t,new Bk);return t._offlineComponents}async function S6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await Fk(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await Fk(t,new m6))),t._onlineComponents}function x6(t){return S6(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t,e,n){if(!n)throw new ye(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b6(t,e,n,r){if(e===!0&&r===!0)throw new ye(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jk(t){if(!ve.isDocumentKey(t))throw new ye(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Uk(t){if(ve.isDocumentKey(t))throw new ye(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function tP(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yS(t);throw new ye(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ye(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ye(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vk(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new dV;switch(n.type){case"firstParty":return new yV(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ye(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=$k.get(e);n&&(ce("ComponentProvider","Removing Datastore"),$k.delete(e),n.terminate())}(this),Promise.resolve()}}function k6(t,e,n,r={}){var i;const s=(t=tP(t,Lg))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&_d("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=nn.MOCK_USER;else{o=rF(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ye(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new nn(l)}t._authCredentials=new pV(new m_(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ri(this.firestore,e,this._key)}}class vS{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vS(this.firestore,e,this._query)}}class _s extends vS{constructor(e,n,r){super(e,n,zV(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ri(this.firestore,null,new ve(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function E6(t,e,...n){if(t=$n(t),eP("collection","path",e),t instanceof Lg){const r=lt.fromString(e,...n);return Uk(r),new _s(t,null,r)}{if(!(t instanceof Ri||t instanceof _s))throw new ye(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return Uk(r),new _s(t.firestore,null,r)}}function C6(t,e,...n){if(t=$n(t),arguments.length===1&&(e=y_.A()),eP("doc","path",e),t instanceof Lg){const r=lt.fromString(e,...n);return jk(r),new Ri(t,null,new ve(r))}{if(!(t instanceof Ri||t instanceof _s))throw new ye(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return jk(r),new Ri(t.firestore,t instanceof _s?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new K_(this,"async_queue_retry"),this.Yc=()=>{const n=Jm();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Lo.ko()};const e=Jm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const n=Jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const n=new Eo;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}async ta(){if(this.Gc.length!==0){try{await this.Gc[0](),this.Gc.shift(),this.Lo.reset()}catch(e){if(!Ig(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Gc.length>0&&this.Lo.xo(()=>this.ta())}}Zc(e){const n=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{this.zc=r,this.Wc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Bo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Wc=!1,r))));return this.Kc=n,n}enqueueAfterDelay(e,n,r){this.Xc(),this.Jc.indexOf(e)>-1&&(n=0);const i=mS.createAndSchedule(this,e,n,r,s=>this.ea(s));return this.jc.push(i),i}Xc(){this.zc&&Ee()}verifyOperationInProgress(){}async na(){let e;do e=this.Kc,await e;while(e!==this.Kc)}sa(e){for(const n of this.jc)if(n.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.jc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const n=this.jc.indexOf(e);this.jc.splice(n,1)}}class nP extends Lg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new T6,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rP(this),this._firestoreClient.terminate()}}function A6(t,e){const n=typeof t=="object"?t:bI(),r=typeof t=="string"?t:e||"(default)",i=Cw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=eF("firestore");s&&k6(i,...s)}return i}function I6(t){return t._firestoreClient||rP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rP(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new _V(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new y6(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pc(ji.fromBase64String(e))}catch(n){throw new ye(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pc(ji.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=/^__.*__$/;class _6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jc(e,this.data,n,this.fieldTransforms)}}function aP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class wS{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.oa(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new wS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return $d(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(e.length===0)throw this._a("Document fields must not be empty");if(aP(this.ua)&&O6.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class P6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rg(e)}ga(e,n,r,i=!1){return new wS({ua:e,methodName:n,ma:r,path:ln.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R6(t){const e=t._freezeSettings(),n=Rg(t._databaseId);return new P6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N6(t,e,n,r,i,s={}){const o=t.ga(s.merge||s.mergeFields?2:0,e,n,i);hP("Data must be an object, but it was:",o,r);const a=uP(r,o);let l,u;if(s.merge)l=new _r(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=D6(e,h,n);if(!o.contains(f))throw new ye(q.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);B6(c,f)||c.push(f)}l=new _r(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new _6(new as(a),l,u)}function lP(t,e){if(cP(t=$n(t)))return hP("Unsupported field value:",e,t),uP(t,e);if(t instanceof sP)return function(n,r){if(!aP(r.ua))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ha&&e.ua!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=lP(o,r.da(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=$n(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return e9(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Pt.fromDate(n);return{timestampValue:pv(r.serializer,i)}}if(n instanceof Pt){const i=new Pt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:pv(r.serializer,i)}}if(n instanceof oP)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof pc)return{bytesValue:d9(r.serializer,n._byteString)};if(n instanceof Ri){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:z_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${yS(n)}`)}(t,e)}function uP(t,e){const n={};return S_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xc(t,(r,i)=>{const s=lP(i,e.aa(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function cP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof oP||t instanceof pc||t instanceof Ri||t instanceof sP)}function hP(t,e,n){if(!cP(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=yS(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function D6(t,e,n){if((e=$n(e))instanceof iP)return e._internalPath;if(typeof e=="string")return L6(t,e);throw $d("Field path arguments must be of type string or ",t,!1,void 0,n)}const M6=new RegExp("[~\\*/\\[\\]]");function L6(t,e,n){if(e.search(M6)>=0)throw $d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iP(...e.split("."))._internalPath}catch{throw $d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $d(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ye(q.INVALID_ARGUMENT,a+t+l)}function B6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function $6(t,e){const n=tP(t.firestore,nP),r=C6(t),i=F6(t.converter,e);return j6(n,[N6(R6(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pi.exists(!1))]).then(()=>r)}function j6(t,e){return function(n,r){const i=new Eo;return n.asyncQueue.enqueueAndForget(async()=>h6(await x6(n),r,i)),i.promise}(I6(t),e)}(function(t,e=!0){(function(n){Dl=n})(_l),sl(new Ro("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new nP(new gV(n.getProvider("auth-internal")),new wV(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ye(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nd(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Os(vk,"3.11.0",t),Os(vk,"3.11.0","esm2017")})();const U6={apiKey:"AIzaSyD-PbFyTOYmUpkPYifBV3mItE975SNsDF8",authDomain:"graphiql-app-d188e.firebaseapp.com",projectId:"graphiql-app-d188e",storageBucket:"graphiql-app-d188e.appspot.com",messagingSenderId:"56444109273",appId:"1:56444109273:web:513d495126c672bb0459c8",measurementId:"G-ZCTZS2KMTP"},fP=xI(U6),Ui=_j(fP),V6=A6(fP),mv=()=>{v3(Ui)};function z6(){const{t}=qi(),e=Ol(),n=()=>{mv(),e("/")};return I.jsxs("ul",{className:"navigation__list",children:[I.jsx("li",{className:"navigation__item",children:I.jsx(hd,{to:"/",className:"navigation__link",children:t("homeLink")})}),I.jsx("li",{className:"navigation__item",children:I.jsx(hd,{to:"/workspace",className:"navigation__link",children:t("workLink")})}),I.jsx("li",{className:"navigation__item",children:I.jsx("button",{type:"button",className:"navigation__link navigation__link-button",onClick:n,children:t("signoutLink")})})]})}function H6(){const{t}=qi();return I.jsxs("ul",{className:"navigation__list",children:[I.jsx("li",{className:"navigation__item",children:I.jsx(hd,{to:"/",className:"navigation__link",children:t("homeLink")})}),I.jsx("li",{className:"navigation__item",children:I.jsx(hd,{to:"/auth",className:"navigation__link",children:`${t("loginLink")} / ${t("signupLink")}`})})]})}function W6(t=0){const[e,n]=P.useState(!1);function r(){n(window.scrollY>t)}return P.useLayoutEffect(()=>(window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)})),e}function K6(){var u;const[t]=Mw(Ui),[e,n]=P.useState(!1),r=P.useRef(null),i=P.useRef(null),s=(u=i==null?void 0:i.current)==null?void 0:u.clientHeight,a=`header ${W6(s)?"sticky":""}`;function l(){var c,h;if(e){(c=r.current)==null||c.classList.remove("opened"),n(!1);return}(h=r.current)==null||h.classList.add("opened"),n(!0)}return I.jsx("header",{className:a,ref:i,children:I.jsx("div",{className:"wrapper",children:I.jsxs("div",{className:"header__container",children:[I.jsxs("h1",{className:"logo",children:[I.jsx("span",{className:"logo__text",children:"GraphiQL"}),I.jsx("span",{className:"logo__text",children:"Countries"})]}),I.jsxs("nav",{className:"header__nav navigation",ref:r,children:[I.jsx("button",{type:"button",className:"cross","aria-label":"Close",onClick:l,children:"×"}),t?I.jsx(z6,{}):I.jsx(H6,{})]}),I.jsx("button",{type:"button","aria-label":"Open",className:"burger",onClick:l,children:I.jsx("div",{className:"burger__content",children:I.jsx("span",{className:"burger__line"})})})]})})})}const q6="/assets/rs-d9d7ab84.svg";function G6(){return I.jsx("footer",{className:"footer",children:I.jsx("div",{className:"wrapper",children:I.jsxs("div",{className:"footer__container",children:[I.jsx("p",{className:"footer__date",children:"2023"}),I.jsxs("div",{className:"footer__authors",children:[I.jsx("a",{href:"https://github.com/sch-aa-vk",children:"sch-aa-vk"}),I.jsx("a",{href:"https://github.com/redcliphaloe",children:"redcliphaloe"}),I.jsx("a",{href:"https://github.com/EvgeniaM6",children:"EvgeniaM6"})]}),I.jsx("a",{href:"https://rs.school",className:"footer__logo",children:I.jsx("img",{src:q6,alt:"rsschool",className:"footer__logo-img"})})]})})})}function Ua({type:t="text",placeholder:e,register:n,onKeyUp:r,message:i}){return I.jsxs("div",{className:"authorization-input",children:[I.jsx("input",{type:t,className:`authorization-input__input ${i?"authorization-input__input-error":""}`,placeholder:e,autoComplete:"off",...n,onKeyUp:r}),i&&I.jsx("small",{className:"authorization-input__error",children:i})]})}function SS({message:t,setMessage:e}){const n=setTimeout(()=>{e("")},5e3),r=()=>{e(""),clearTimeout(n)};return aB.createPortal(I.jsxs("div",{className:"error-modal",children:[I.jsx("button",{className:"error-modal__button",type:"button",onClick:r,children:"×"}),I.jsx("p",{className:"error-modal__text",children:t})]}),document.body)}const Q6="/assets/github-12794390.svg";function ey(t){const{ghLink:e,ghName:n,devName:r,ghAvatarLink:i,children:s}=t;return I.jsxs("div",{className:"project-info__container dev-info",children:[I.jsxs("div",{className:"dev-info__content",children:[I.jsx("h3",{className:"dev-info__name",children:r}),I.jsx("p",{className:"dev-info__gh dev-github",children:I.jsxs("a",{href:e,className:"dev-github__link",children:[I.jsx("img",{src:Q6,alt:"github-icon",className:"dev-github__link-icon"}),I.jsx("span",{className:"dev-github__link-name",children:n})]})}),I.jsx("p",{className:"dev-info__about",children:s})]}),I.jsx("div",{className:"dev-info__photo",children:I.jsx("img",{src:i,alt:`${n}-avatar`,className:"dev-info__photo-img"})})]})}function Y6(){const{t}=qi(),e=Ol(),n=()=>{e("/auth")};return I.jsx("div",{className:"auth-block",children:I.jsx("button",{type:"button",className:"auth-block__btn",onClick:n,children:`${t("loginLink")} / ${t("signupLink")}`})})}function X6(){const{t}=qi();return I.jsx("div",{className:"auth-block",children:I.jsx("button",{type:"button",className:"auth-block__btn",children:t("mainLink")})})}function Ir(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Vs(t){return!!t&&!!t[qe]}function Vi(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===o8}(t)||Array.isArray(t)||!!t[Qk]||!!(!((e=t.constructor)===null||e===void 0)&&e[Qk])||xS(t)||bS(t))}function $o(t,e,n){n===void 0&&(n=!1),Ll(t)===0?(n?Object.keys:za)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Ll(t){var e=t[qe];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:xS(t)?2:bS(t)?3:0}function Va(t,e){return Ll(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function J6(t,e){return Ll(t)===2?t.get(e):t[e]}function dP(t,e,n){var r=Ll(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function pP(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function xS(t){return i8&&t instanceof Map}function bS(t){return s8&&t instanceof Set}function oo(t){return t.o||t.t}function kS(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=mP(t);delete e[qe];for(var n=za(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function ES(t,e){return e===void 0&&(e=!1),CS(t)||Vs(t)||!Vi(t)||(Ll(t)>1&&(t.set=t.add=t.clear=t.delete=Z6),Object.freeze(t),e&&$o(t,function(n,r){return ES(r,!0)},!0)),t}function Z6(){Ir(2)}function CS(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function li(t){var e=Sv[t];return e||Ir(18,t),e}function e8(t,e){Sv[t]||(Sv[t]=e)}function yv(){return gc}function ty(t,e){e&&(li("Patches"),t.u=[],t.s=[],t.v=e)}function jd(t){vv(t),t.p.forEach(t8),t.p=null}function vv(t){t===gc&&(gc=t.l)}function zk(t){return gc={p:[],l:gc,h:t,m:!0,_:0}}function t8(t){var e=t[qe];e.i===0||e.i===1?e.j():e.g=!0}function ny(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||li("ES5").S(e,t,r),r?(n[qe].P&&(jd(e),Ir(4)),Vi(t)&&(t=Ud(e,t),e.l||Vd(e,t)),e.u&&li("Patches").M(n[qe].t,t,e.u,e.s)):t=Ud(e,n,[]),jd(e),e.u&&e.v(e.u,e.s),t!==gP?t:void 0}function Ud(t,e,n){if(CS(e))return e;var r=e[qe];if(!r)return $o(e,function(a,l){return Hk(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Vd(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=kS(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),$o(s,function(a,l){return Hk(t,r,i,a,l,n,o)}),Vd(t,i,!1),n&&t.u&&li("Patches").N(r,n,t.u,t.s)}return r.o}function Hk(t,e,n,r,i,s,o){if(Vs(i)){var a=Ud(t,i,s&&e&&e.i!==3&&!Va(e.R,r)?s.concat(r):void 0);if(dP(n,r,a),!Vs(a))return;t.m=!1}else o&&n.add(i);if(Vi(i)&&!CS(i)){if(!t.h.D&&t._<1)return;Ud(t,i),e&&e.A.l||Vd(t,i)}}function Vd(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&ES(e,n)}function ry(t,e){var n=t[qe];return(n?oo(n):t)[e]}function Wk(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ls(t){t.P||(t.P=!0,t.l&&ls(t.l))}function iy(t){t.o||(t.o=kS(t.t))}function wv(t,e,n){var r=xS(e)?li("MapSet").F(e,n):bS(e)?li("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:yv(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=mc;o&&(l=[a],u=hu);var c=Proxy.revocable(l,u),h=c.revoke,f=c.proxy;return a.k=f,a.j=h,f}(e,n):li("ES5").J(e,n);return(n?n.A:yv()).p.push(r),r}function n8(t){return Vs(t)||Ir(22,t),function e(n){if(!Vi(n))return n;var r,i=n[qe],s=Ll(n);if(i){if(!i.P&&(i.i<4||!li("ES5").K(i)))return i.t;i.I=!0,r=Kk(n,s),i.I=!1}else r=Kk(n,s);return $o(r,function(o,a){i&&J6(i.t,o)===a||dP(r,o,e(a))}),s===3?new Set(r):r}(t)}function Kk(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return kS(t)}function r8(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[qe];return mc.get(l,s)},set:function(l){var u=this[qe];mc.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][qe];if(!a.P)switch(a.i){case 5:r(a)&&ls(a);break;case 4:n(a)&&ls(a)}}}function n(s){for(var o=s.t,a=s.k,l=za(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==qe){var h=o[c];if(h===void 0&&!Va(o,c))return!0;var f=a[c],d=f&&f[qe];if(d?d.t!==h:!pP(f,h))return!0}}var m=!!o[qe];return l.length!==za(o).length+(m?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};e8("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,h){if(c){for(var f=Array(h.length),d=0;d<h.length;d++)Object.defineProperty(f,""+d,t(d,!0));return f}var m=mP(h);delete m[qe];for(var w=za(m),x=0;x<w.length;x++){var v=w[x];m[v]=t(v,c||!!m[v].enumerable)}return Object.create(Object.getPrototypeOf(h),m)}(a,s),u={i:a?5:4,A:o?o.A:yv(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,qe,{value:u,writable:!0}),l},S:function(s,o,a){a?Vs(o)&&o[qe].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[qe];if(c){var h=c.t,f=c.k,d=c.R,m=c.i;if(m===4)$o(f,function(b){b!==qe&&(h[b]!==void 0||Va(h,b)?d[b]||l(f[b]):(d[b]=!0,ls(c)))}),$o(h,function(b){f[b]!==void 0||Va(f,b)||(d[b]=!1,ls(c))});else if(m===5){if(r(c)&&(ls(c),d.length=!0),f.length<h.length)for(var w=f.length;w<h.length;w++)d[w]=!1;else for(var x=h.length;x<f.length;x++)d[x]=!0;for(var v=Math.min(f.length,h.length),y=0;y<v;y++)f.hasOwnProperty(y)||(d[y]=!0),d[y]===void 0&&l(f[y])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var qk,gc,TS=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",i8=typeof Map<"u",s8=typeof Set<"u",Gk=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",gP=TS?Symbol.for("immer-nothing"):((qk={})["immer-nothing"]=!0,qk),Qk=TS?Symbol.for("immer-draftable"):"__$immer_draftable",qe=TS?Symbol.for("immer-state"):"__$immer_state",o8=""+Object.prototype.constructor,za=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,mP=Object.getOwnPropertyDescriptors||function(t){var e={};return za(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Sv={},mc={get:function(t,e){if(e===qe)return t;var n=oo(t);if(!Va(n,e))return function(i,s,o){var a,l=Wk(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Vi(r)?r:r===ry(t.t,e)?(iy(t),t.o[e]=wv(t.A.h,r,t)):r},has:function(t,e){return e in oo(t)},ownKeys:function(t){return Reflect.ownKeys(oo(t))},set:function(t,e,n){var r=Wk(oo(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=ry(oo(t),e),s=i==null?void 0:i[qe];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(pP(n,i)&&(n!==void 0||Va(t.t,e)))return!0;iy(t),ls(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return ry(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,iy(t),ls(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=oo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Ir(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Ir(12)}},hu={};$o(mc,function(t,e){hu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),hu.deleteProperty=function(t,e){return hu.set.call(this,t,e,void 0)},hu.set=function(t,e,n){return mc.set.call(this,t[0],e,n,t[0])};var a8=function(){function t(n){var r=this;this.O=Gk,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(w){var x=this;w===void 0&&(w=a);for(var v=arguments.length,y=Array(v>1?v-1:0),b=1;b<v;b++)y[b-1]=arguments[b];return l.produce(w,function(E){var C;return(C=s).call.apply(C,[x,E].concat(y))})}}var u;if(typeof s!="function"&&Ir(6),o!==void 0&&typeof o!="function"&&Ir(7),Vi(i)){var c=zk(r),h=wv(r,i,void 0),f=!0;try{u=s(h),f=!1}finally{f?jd(c):vv(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(w){return ty(c,o),ny(w,c)},function(w){throw jd(c),w}):(ty(c,o),ny(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===gP&&(u=void 0),r.D&&ES(u,!0),o){var d=[],m=[];li("Patches").M(i,u,d,m),o(d,m)}return u}Ir(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,h=Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];return r.produceWithPatches(u,function(d){return i.apply(void 0,[d].concat(h))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Vi(n)||Ir(8),Vs(n)&&(n=n8(n));var r=zk(this),i=wv(this,n,void 0);return i[qe].C=!0,vv(r),i},e.finishDraft=function(n,r){var i=n&&n[qe],s=i.A;return ty(s,r),ny(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Gk&&Ir(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=li("Patches").$;return Vs(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Zn=new a8,yP=Zn.produce;Zn.produceWithPatches.bind(Zn);Zn.setAutoFreeze.bind(Zn);Zn.setUseProxies.bind(Zn);Zn.applyPatches.bind(Zn);Zn.createDraft.bind(Zn);Zn.finishDraft.bind(Zn);function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){Mr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Jk=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),sy=function(){return Math.random().toString(36).substring(7).split("").join(".")},zd={INIT:"@@redux/INIT"+sy(),REPLACE:"@@redux/REPLACE"+sy(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+sy()}};function l8(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function vP(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(tn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(tn(1));return n(vP)(t,e)}if(typeof t!="function")throw new Error(tn(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(tn(3));return s}function h(w){if(typeof w!="function")throw new Error(tn(4));if(l)throw new Error(tn(5));var x=!0;return u(),a.push(w),function(){if(x){if(l)throw new Error(tn(6));x=!1,u();var y=a.indexOf(w);a.splice(y,1),o=null}}}function f(w){if(!l8(w))throw new Error(tn(7));if(typeof w.type>"u")throw new Error(tn(8));if(l)throw new Error(tn(9));try{l=!0,s=i(s,w)}finally{l=!1}for(var x=o=a,v=0;v<x.length;v++){var y=x[v];y()}return w}function d(w){if(typeof w!="function")throw new Error(tn(10));i=w,f({type:zd.REPLACE})}function m(){var w,x=h;return w={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(tn(11));function b(){y.next&&y.next(c())}b();var E=x(b);return{unsubscribe:E}}},w[Jk]=function(){return this},w}return f({type:zd.INIT}),r={dispatch:f,subscribe:h,getState:c,replaceReducer:d},r[Jk]=m,r}function u8(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:zd.INIT});if(typeof r>"u")throw new Error(tn(12));if(typeof n(void 0,{type:zd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tn(13))})}function wP(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{u8(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,h={},f=0;f<s.length;f++){var d=s[f],m=n[d],w=l[d],x=m(w,u);if(typeof x>"u")throw u&&u.type,new Error(tn(14));h[d]=x,c=c||x!==w}return c=c||s.length!==Object.keys(l).length,c?h:l}}function Hd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function c8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(tn(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Hd.apply(void 0,a)(i.dispatch),Xk(Xk({},i),{},{dispatch:s})}}}function SP(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var xP=SP();xP.withExtraArgument=SP;const Zk=xP;var bP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),h8=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},pl=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},f8=Object.defineProperty,d8=Object.defineProperties,p8=Object.getOwnPropertyDescriptors,eE=Object.getOwnPropertySymbols,g8=Object.prototype.hasOwnProperty,m8=Object.prototype.propertyIsEnumerable,tE=function(t,e,n){return e in t?f8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ps=function(t,e){for(var n in e||(e={}))g8.call(e,n)&&tE(t,n,e[n]);if(eE)for(var r=0,i=eE(e);r<i.length;r++){var n=i[r];m8.call(e,n)&&tE(t,n,e[n])}return t},oy=function(t,e){return d8(t,p8(e))},y8=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},v8=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hd:Hd.apply(null,arguments)};function w8(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var S8=function(t){bP(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,pl([void 0],n[0].concat(this)))):new(e.bind.apply(e,pl([void 0],n.concat(this))))},e}(Array),x8=function(t){bP(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,pl([void 0],n[0].concat(this)))):new(e.bind.apply(e,pl([void 0],n.concat(this))))},e}(Array);function xv(t){return Vi(t)?yP(t,function(){}):t}function b8(t){return typeof t=="boolean"}function k8(){return function(e){return E8(e)}}function E8(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new S8;return n&&(b8(n)?r.push(Zk):r.push(Zk.withExtraArgument(n.extraArgument))),r}var C8=!0;function T8(t){var e=k8(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,h=n.enhancers,f=h===void 0?void 0:h,d;if(typeof i=="function")d=i;else if(w8(i))d=wP(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var m=o;typeof m=="function"&&(m=m(e));var w=c8.apply(void 0,m),x=Hd;l&&(x=v8(Ps({trace:!C8},typeof l=="object"&&l)));var v=new x8(w),y=v;Array.isArray(f)?y=pl([w],f):typeof f=="function"&&(y=f(v));var b=x.apply(void 0,y);return vP(d,c,b)}function Rs(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Ps(Ps({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function kP(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function A8(t){return typeof t=="function"}function I8(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?kP(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(A8(t))l=function(){return xv(t())};else{var u=xv(t);l=function(){return u}}function c(h,f){h===void 0&&(h=l());var d=pl([s[f.type]],o.filter(function(m){var w=m.matcher;return w(f)}).map(function(m){var w=m.reducer;return w}));return d.filter(function(m){return!!m}).length===0&&(d=[a]),d.reduce(function(m,w){if(w)if(Vs(m)){var x=m,v=w(x,f);return v===void 0?m:v}else{if(Vi(m))return yP(m,function(y){return w(y,f)});var v=w(m,f);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return m},h)}return c.getInitialState=l,c}function O8(t,e){return t+"/"+e}function EP(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:xv(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var h=r[c],f=O8(e,c),d,m;"reducer"in h?(d=h.reducer,m=h.prepare):d=h,s[c]=d,o[f]=d,a[c]=m?Rs(f,m):Rs(f)});function l(){var c=typeof t.extraReducers=="function"?kP(t.extraReducers):[t.extraReducers],h=c[0],f=h===void 0?{}:h,d=c[1],m=d===void 0?[]:d,w=c[2],x=w===void 0?void 0:w,v=Ps(Ps({},f),o);return I8(n,function(y){for(var b in v)y.addCase(b,v[b]);for(var E=0,C=m;E<C.length;E++){var O=C[E];y.addMatcher(O.matcher,O.reducer)}x&&y.addDefaultCase(x)})}var u;return{name:e,reducer:function(c,h){return u||(u=l()),u(c,h)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var _8="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",P8=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=_8[Math.random()*64|0];return e},R8=["name","message","stack","code"],ay=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),nE=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),N8=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=R8;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=Rs(e+"/fulfilled",function(u,c,h,f){return{payload:u,meta:oy(Ps({},f||{}),{arg:h,requestId:c,requestStatus:"fulfilled"})}}),s=Rs(e+"/pending",function(u,c,h){return{payload:void 0,meta:oy(Ps({},h||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Rs(e+"/rejected",function(u,c,h,f,d){return{payload:f,error:(r&&r.serializeError||N8)(u||"Rejected"),meta:oy(Ps({},d||{}),{arg:h,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,h,f){var d=r!=null&&r.idGenerator?r.idGenerator(u):P8(),m=new a,w;function x(y){w=y,m.abort()}var v=function(){return y8(this,null,function(){var y,b,E,C,O,_,F;return h8(this,function(L){switch(L.label){case 0:return L.trys.push([0,4,,5]),C=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,u,{getState:h,extra:f}),M8(C)?[4,C]:[3,2];case 1:C=L.sent(),L.label=2;case 2:if(C===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return O=new Promise(function(M,Z){return m.signal.addEventListener("abort",function(){return Z({name:"AbortError",message:w||"Aborted"})})}),c(s(d,u,(b=r==null?void 0:r.getPendingMeta)==null?void 0:b.call(r,{requestId:d,arg:u},{getState:h,extra:f}))),[4,Promise.race([O,Promise.resolve(n(u,{dispatch:c,getState:h,extra:f,requestId:d,signal:m.signal,abort:x,rejectWithValue:function(M,Z){return new ay(M,Z)},fulfillWithValue:function(M,Z){return new nE(M,Z)}})).then(function(M){if(M instanceof ay)throw M;return M instanceof nE?i(M.payload,d,u,M.meta):i(M,d,u)})])];case 3:return E=L.sent(),[3,5];case 4:return _=L.sent(),E=_ instanceof ay?o(null,d,u,_.payload,_.meta):o(_,d,u),[3,5];case 5:return F=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,F||c(E),[2,E]}})})}();return Object.assign(v,{abort:x,requestId:d,arg:u,unwrap:function(){return v.then(D8)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function D8(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function M8(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var AS="listenerMiddleware";Rs(AS+"/add");Rs(AS+"/removeAll");Rs(AS+"/remove");var rE;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);r8();const ly=1,L8="# console.log('hello world!');",B8={variablesActive:!0,headersActive:!1,variablesEditorText:"",headersEditorText:"",toolsCodemirrorVisible:!1,newEditorTabId:ly,currentEditorTabId:ly,editorTabs:[{editorTabId:ly,editorTabText:L8}]},CP=EP({name:"workspaceEditor",initialState:B8,reducers:{variablesClick:t=>{t.variablesActive=!0,t.headersActive=!1},headersClick:t=>{t.variablesActive=!1,t.headersActive=!0},togglerClick:t=>{t.toolsCodemirrorVisible=!t.toolsCodemirrorVisible},toolsCodemirrorChange:(t,e)=>{t.variablesActive&&(t.variablesEditorText=e.payload),t.headersActive&&(t.headersEditorText=e.payload)},addClick:t=>{t.newEditorTabId+=1,t.currentEditorTabId=t.newEditorTabId,t.editorTabs=[{editorTabId:t.newEditorTabId,editorTabText:""},...t.editorTabs]},editorTabSelect:(t,e)=>{t.currentEditorTabId=e.payload},editorTabClose:(t,e)=>{if(t.editorTabs.length===1)return;const n=t.editorTabs.findIndex(r=>r.editorTabId===e.payload);t.currentEditorTabId===t.editorTabs[n].editorTabId&&(n===0?t.currentEditorTabId=t.editorTabs[n+1].editorTabId:t.currentEditorTabId=t.editorTabs[n-1].editorTabId),t.editorTabs.splice(n,1)},editorCodemirrorChange:(t,e)=>{const n=t.editorTabs.findIndex(r=>r.editorTabId===t.currentEditorTabId);t.editorTabs[n].editorTabText=e.payload}}}),{variablesClick:F8,headersClick:$8,togglerClick:j8,toolsCodemirrorChange:U8,addClick:V8,editorTabSelect:z8,editorTabClose:H8,editorCodemirrorChange:W8}=CP.actions,K8=t=>t.workspaceEditor.variablesActive,q8=t=>t.workspaceEditor.headersActive,iE=t=>t.workspaceEditor.toolsCodemirrorVisible,G8=t=>t.workspaceEditor.variablesActive?t.workspaceEditor.variablesEditorText:t.workspaceEditor.headersActive?t.workspaceEditor.headersEditorText:"",Q8=t=>t.workspaceEditor.currentEditorTabId,Y8=t=>t.workspaceEditor.editorTabs,X8=t=>{var e;return(e=t.workspaceEditor.editorTabs.find(n=>n.editorTabId===t.workspaceEditor.currentEditorTabId))==null?void 0:e.editorTabText},J8=CP.reducer;function bi(t){const{text:e,className:n,active:r,handleClick:i,disabled:s}=t;return I.jsx("button",{className:`${n} ${r?"active":""}`,type:"button",onClick:i,disabled:s,children:e})}bi.defaultProps={text:"",className:"",active:!1,handleClick:()=>{},disabled:!1};class _e{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Yr.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){let r=[];return this.decompose(e,n,r,0),Yr.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Ru(this),s=new Ru(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new Ru(this,e)}iterRange(e,n=this.length){return new TP(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new AP(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?_e.empty:e.length<=32?new ft(e):Yr.from(ft.split(e,[]))}}class ft extends _e{constructor(e,n=Z8(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new e5(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new ft(sE(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=Tf(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new ft(a,o.length+s.length));else{let l=a.length>>1;r.push(new ft(a.slice(0,l)),new ft(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof ft))return super.replace(e,n,r);let i=Tf(this.text,Tf(r.text,sE(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new ft(i,s):Yr.from(ft.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new ft(r,i)),r=[],i=-1);return i>-1&&n.push(new ft(r,i)),n}}class Yr extends _e{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let u=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!u?r.push(a):a.decompose(e-o,n-o,r,u)}o=l+1}}replace(e,n,r){if(r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),u=this.lines-o.lines+l.lines;if(l.lines<u>>5-1&&l.lines>u>>5+1){let c=this.children.slice();return c[i]=l,new Yr(c,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Yr))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],u=e.children[s];if(l!=u)return r+l.scanIdentical(u,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let d of e)r+=d.lines;if(r<32){let d=[];for(let m of e)m.flatten(d);return new ft(d,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,u=-1,c=[];function h(d){let m;if(d.lines>s&&d instanceof Yr)for(let w of d.children)h(w);else d.lines>o&&(l>o||!l)?(f(),a.push(d)):d instanceof ft&&l&&(m=c[c.length-1])instanceof ft&&d.lines+m.lines<=32?(l+=d.lines,u+=d.length+1,c[c.length-1]=new ft(m.text.concat(d.text),m.length+1+d.length)):(l+d.lines>i&&f(),l+=d.lines,u+=d.length+1,c.push(d))}function f(){l!=0&&(a.push(c.length==1?c[0]:Yr.from(c,u)),u=-1,l=c.length=0)}for(let d of e)h(d);return f(),a.length==1?a[0]:new Yr(a,n)}}_e.empty=new ft([""],0);function Z8(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Tf(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function sE(t,e,n){return Tf(t,[""],e,n)}class Ru{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof ft?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof ft?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof ft){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof ft?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class TP{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Ru(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class AP{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(_e.prototype[Symbol.iterator]=function(){return this.iter()},Ru.prototype[Symbol.iterator]=TP.prototype[Symbol.iterator]=AP.prototype[Symbol.iterator]=function(){return this});class e5{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}let Ha="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Ha.length;t++)Ha[t]+=Ha[t-1];function t5(t){for(let e=1;e<Ha.length;e+=2)if(Ha[e]>t)return Ha[e-1]<=t;return!1}function oE(t){return t>=127462&&t<=127487}const aE=8205;function kn(t,e,n=!0,r=!0){return(n?IP:n5)(t,e,r)}function IP(t,e,n){if(e==t.length)return e;e&&OP(t.charCodeAt(e))&&_P(t.charCodeAt(e-1))&&e--;let r=zt(t,e);for(e+=ur(r);e<t.length;){let i=zt(t,e);if(r==aE||i==aE||n&&t5(i))e+=ur(i),r=i;else if(oE(i)){let s=0,o=e-2;for(;o>=0&&oE(zt(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function n5(t,e,n){for(;e>0;){let r=IP(t,e-2,n);if(r<e)return r;e--}return 0}function OP(t){return t>=56320&&t<57344}function _P(t){return t>=55296&&t<56320}function zt(t,e){let n=t.charCodeAt(e);if(!_P(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return OP(r)?(n-55296<<10)+(r-56320)+65536:n}function IS(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function ur(t){return t<65536?1:2}const bv=/\r\n?|\n/;var xn=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(xn||(xn={}));class ui{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){kv(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new ui(e)}composeDesc(e){return this.empty?e:e.empty?this:PP(this,e)}mapDesc(e,n=!1){return e.empty?this:Ev(this,e,n)}mapPos(e,n=-1,r=xn.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],u=i+a;if(l<0){if(u>e)return s+(e-i);s+=a}else{if(r!=xn.Simple&&u>=e&&(r==xn.TrackDel&&i<e&&u>e||r==xn.TrackBefore&&i<e||r==xn.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ui(e)}static create(e){return new ui(e)}}class bt extends ui{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return kv(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return Ev(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(_e.empty);r.push(o?e.slice(s,s+o):_e.empty)}s+=o}return new bt(n,r)}compose(e){return this.empty?e:e.empty?this:PP(this,e,!0)}map(e,n=!1){return e.empty?this:Ev(this,e,n,!0)}iterChanges(e,n=!1){kv(this,e,n)}get desc(){return ui.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new yc(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-a);rn(i,c,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;rn(n,c,h),h>0&&ps(r,n,s.text),s.forward(c),a+=c}let u=e[o++];for(;a<u;){if(s.done)break e;let c=Math.min(s.len,u-a);rn(n,c,-1),rn(i,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),a+=c}}return{changes:new bt(n,r),filtered:ui.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(c=!1){if(!c&&!i.length)return;o<n&&rn(i,n-o,-1);let h=new bt(i,s);a=a?a.compose(h.map(a)):h,i=[],s=[],o=0}function u(c){if(Array.isArray(c))for(let h of c)u(h);else if(c instanceof bt){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:h,to:f=h,insert:d}=c;if(h>f||h<0||f>n)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${n})`);let m=d?typeof d=="string"?_e.of(d.split(r||bv)):d:_e.empty,w=m.length;if(h==f&&w==0)return;h<o&&l(),h>o&&rn(i,h-o,-1),rn(i,f-h,w),ps(s,i,m),o=f}}return u(e),l(!a),a}static empty(e){return new bt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(_e.empty);r[i]=_e.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new bt(n,r)}static createSet(e,n){return new bt(e,n)}}function rn(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function ps(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(_e.empty);t.push(n)}}function kv(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let u=i,c=s,h=_e.empty;for(;u+=a,c+=l,l&&r&&(h=h.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,u,s,c,h),i=u,s=c}}}function Ev(t,e,n,r=!1){let i=[],s=r?[]:null,o=new yc(t),a=new yc(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let u=Math.min(o.len,a.len);rn(i,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let u=a.len;for(rn(i,a.ins,-1);u;){let c=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=c&&(rn(i,0,o.ins),s&&ps(s,i,o.text),l=o.i),o.forward(c),u-=c}a.next()}else if(o.ins>=0){let u=0,c=o.len;for(;c;)if(a.ins==-1){let h=Math.min(c,a.len);u+=h,c-=h,a.forward(h)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;rn(i,u,l<o.i?o.ins:0),s&&l<o.i&&ps(s,i,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return s?bt.createSet(i,s):ui.create(i);throw new Error("Mismatched change set lengths")}}function PP(t,e,n=!1){let r=[],i=n?[]:null,s=new yc(t),o=new yc(e);for(let a=!1;;){if(s.done&&o.done)return i?bt.createSet(r,i):ui.create(r);if(s.ins==0)rn(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)rn(r,0,o.ins,a),i&&ps(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),u=r.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;rn(r,l,c,a),i&&c&&ps(i,r,o.text)}else o.ins==-1?(rn(r,s.off?0:s.len,l,a),i&&ps(i,r,s.textBit(l))):(rn(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&ps(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>u),s.forward2(l),o.forward(l)}}}}class yc{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?_e.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?_e.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class yo{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new yo(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return U.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return U.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return U.range(e.anchor,e.head)}static create(e,n,r){return new yo(e,n,r)}}class U{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:U.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new U([this.main],0)}addRange(e,n=!0){return U.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,U.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new U(e.ranges.map(n=>yo.fromJSON(n)),e.main)}static single(e,n=e){return new U([U.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return U.normalized(e.slice(),n);r=s.to}return new U(e,n)}static cursor(e,n=0,r,i){return yo.create(e,e,(n==0?0:n<0?4:8)|(r==null?3:Math.min(2,r))|(i??33554431)<<5)}static range(e,n,r,i){let s=(r??33554431)<<5|(i==null?3:Math.min(2,i));return n<e?yo.create(n,e,24|s):yo.create(e,n,(n>e?4:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?U.range(l,a):U.range(a,l))}}return new U(e,n)}}function RP(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let OS=0;class se{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=OS++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new se(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:_S),!!e.static,e.enables)}of(e){return new Af([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Af(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Af(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function _S(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Af{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=OS++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,u=!1,c=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?u=!0:((n=e[h.id])!==null&&n!==void 0?n:1)&1||c.push(e[h.id]);return{create(h){return h.values[o]=r(h),1},update(h,f){if(l&&f.docChanged||u&&(f.docChanged||f.selection)||Cv(h,c)){let d=r(h);if(a?!lE(d,h.values[o],i):!i(d,h.values[o]))return h.values[o]=d,1}return 0},reconfigure:(h,f)=>{let d,m=f.config.address[s];if(m!=null){let w=Kd(f,m);if(this.dependencies.every(x=>x instanceof se?f.facet(x)===h.facet(x):x instanceof Qt?f.field(x,!1)==h.field(x,!1):!0)||(a?lE(d=r(h),w,i):i(d=r(h),w)))return h.values[o]=w,0}else d=r(h);return h.values[o]=d,1}}}}function lE(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function Cv(t,e){let n=!1;for(let r of e)Nu(t,r)&1&&(n=!0);return n}function r5(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let u=[];for(let c=0;c<r.length;c++){let h=Kd(l,r[c]);if(i[c]==2)for(let f of h)u.push(f);else u.push(h)}return e.combine(u)}return{create(l){for(let u of r)Nu(l,u);return l.values[o]=a(l),1},update(l,u){if(!Cv(l,s))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,u){let c=Cv(l,r),h=u.config.facets[e.id],f=u.facet(e);if(h&&!c&&_S(n,h))return l.values[o]=f,0;let d=a(l);return e.compare(d,f)?(l.values[o]=f,0):(l.values[o]=d,1)}}}const uE=se.define({static:!0});class Qt{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new Qt(OS++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(uE).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,uE.of({field:this,create:e})]}get extension(){return this}}const lo={lowest:4,low:3,default:2,high:1,highest:0};function Yl(t){return e=>new NP(e,t)}const Bl={highest:Yl(lo.highest),high:Yl(lo.high),default:Yl(lo.default),low:Yl(lo.low),lowest:Yl(lo.lowest)};class NP{constructor(e,n){this.inner=e,this.prec=n}}class Bg{of(e){return new Tv(this,e)}reconfigure(e){return Bg.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Tv{constructor(e,n){this.compartment=e,this.inner=n}}class Wd{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let f of i5(e,n,o))f instanceof Qt?i.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],u=[];for(let f of i)a[f.id]=u.length<<1,u.push(d=>f.slot(d));let c=r==null?void 0:r.config.facets;for(let f in s){let d=s[f],m=d[0].facet,w=c&&c[f]||[];if(d.every(x=>x.type==0))if(a[m.id]=l.length<<1|1,_S(w,d))l.push(r.facet(m));else{let x=m.combine(d.map(v=>v.value));l.push(r&&m.compare(x,r.facet(m))?r.facet(m):x)}else{for(let x of d)x.type==0?(a[x.id]=l.length<<1|1,l.push(x.value)):(a[x.id]=u.length<<1,u.push(v=>x.dynamicSlot(v)));a[m.id]=u.length<<1,u.push(x=>r5(x,m,d))}}let h=u.map(f=>f(a));return new Wd(e,o,h,a,l,s)}}function i5(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let u=r[l].indexOf(o);u>-1&&r[l].splice(u,1),o instanceof Tv&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let u of o)s(u,a);else if(o instanceof Tv){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;n.set(o.compartment,u),s(u,a)}else if(o instanceof NP)s(o.inner,o.prec);else if(o instanceof Qt)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Af)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,lo.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,a)}}return s(t,lo.default),r.reduce((o,a)=>o.concat(a))}function Nu(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Kd(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const DP=se.define(),MP=se.define({combine:t=>t.some(e=>e),static:!0}),LP=se.define({combine:t=>t.length?t[0]:void 0,static:!0}),BP=se.define(),FP=se.define(),$P=se.define(),jP=se.define({combine:t=>t.length?t[0]:!1});class pi{constructor(e,n){this.type=e,this.value=n}static define(){return new s5}}class s5{of(e){return new pi(this,e)}}class o5{constructor(e){this.map=e}of(e){return new we(this,e)}}class we{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new we(this.type,n)}is(e){return this.type==e}static define(e={}){return new o5(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}we.reconfigure=we.define();we.appendConfig=we.define();class Et{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&RP(r,n.newLength),s.some(a=>a.type==Et.time)||(this.annotations=s.concat(Et.time.of(Date.now())))}static create(e,n,r,i,s,o){return new Et(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Et.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Et.time=pi.define();Et.userEvent=pi.define();Et.addToHistory=pi.define();Et.remote=pi.define();function a5(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function UP(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=bt.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:we.mapEffects(t.effects,i).concat(we.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Av(t,e,n){let r=e.selection,i=Wa(e.annotations);return e.userEvent&&(i=i.concat(Et.userEvent.of(e.userEvent))),{changes:e.changes instanceof bt?e.changes:bt.of(e.changes||[],n,t.facet(LP)),selection:r&&(r instanceof U?r:U.single(r.anchor,r.head)),effects:Wa(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function VP(t,e,n){let r=Av(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=UP(r,Av(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=Et.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return u5(n?l5(i):i)}function l5(t){let e=t.startState,n=!0;for(let i of e.facet(BP)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:a5(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=bt.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=Et.create(e,i,t.selection&&t.selection.map(s),we.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(FP);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof Et?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Et?t=s[0]:t=VP(e,Wa(s),!1)}return t}function u5(t){let e=t.startState,n=e.facet($P),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=UP(r,Av(e,s,t.changes.newLength),!0))}return r==t?t:Et.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const c5=[];function Wa(t){return t==null?c5:Array.isArray(t)?t:[t]}var Ye=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Ye||(Ye={}));const h5=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Iv;try{Iv=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function f5(t){if(Iv)return Iv.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||h5.test(n)))return!0}return!1}function d5(t){return e=>{if(!/\S/.test(e))return Ye.Space;if(f5(e))return Ye.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Ye.Word;return Ye.Other}}class ke{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Nu(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Nu(this,r),Kd(this,r)}update(...e){return VP(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let o of e.effects)o.is(Bg.reconfigure)?(n&&(i=new Map,n.compartments.forEach((a,l)=>i.set(l,a)),n=null),i.set(o.value.compartment,o.value.extension)):o.is(we.reconfigure)?(n=null,r=o.value):o.is(we.appendConfig)&&(n=null,r=Wa(r).concat(o.value));let s;n?s=e.startState.values.slice():(n=Wd.resolve(r,i,this),s=new ke(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(a,l)=>l.reconfigure(a,this),null).values),new ke(n,e.newDoc,e.newSelection,s,(o,a)=>a.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:U.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=Wa(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),u=this.changes(l.changes),c=u.map(i);for(let f=0;f<a;f++)s[f]=s[f].map(c);let h=i.mapDesc(u,!0);s.push(l.range.map(h)),i=i.compose(c),o=we.mapEffects(o,c).concat(we.mapEffects(Wa(l.effects),h))}return{changes:i,selection:U.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof bt?e:bt.of(e,this.doc.length,this.facet(ke.lineSeparator))}toText(e){return _e.of(e.split(this.facet(ke.lineSeparator)||bv))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Nu(this,n),Kd(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Qt&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return ke.create({doc:e.doc,selection:U.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Wd.resolve(e.extensions||[],new Map),r=e.doc instanceof _e?e.doc:_e.of((e.doc||"").split(n.staticFacet(ke.lineSeparator)||bv)),i=e.selection?e.selection instanceof U?e.selection:U.single(e.selection.anchor,e.selection.head):U.single(0);return RP(i,r.length),n.staticFacet(MP)||(i=i.asSingle()),new ke(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(ke.tabSize)}get lineBreak(){return this.facet(ke.lineSeparator)||`
`}get readOnly(){return this.facet(jP)}phrase(e,...n){for(let r of this.facet(ke.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(DP))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return d5(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=kn(n,o,!1);if(s(n.slice(l,o))!=Ye.Word)break;o=l}for(;a<i;){let l=kn(n,a);if(s(n.slice(a,l))!=Ye.Word)break;a=l}return o==a?null:U.range(o+r,a+r)}}ke.allowMultipleSelections=MP;ke.tabSize=se.define({combine:t=>t.length?t[0]:4});ke.lineSeparator=LP;ke.readOnly=jP;ke.phrases=se.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});ke.languageData=DP;ke.changeFilter=BP;ke.transactionFilter=FP;ke.transactionExtender=$P;Bg.reconfigure=we.define();function gi(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class jo{eq(e){return this==e}range(e,n=e){return Ov.create(e,n,this)}}jo.prototype.startSide=jo.prototype.endSide=0;jo.prototype.point=!1;jo.prototype.mapMode=xn.TrackDel;let Ov=class zP{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new zP(e,n,r)}};function _v(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class PS{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,u=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return u>=0?o:a;u>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,h=this.to[l]+e,f,d;if(c==h){let m=n.mapPos(c,u.startSide,u.mapMode);if(m==null||(f=d=m,u.startSide!=u.endSide&&(d=n.mapPos(c,u.endSide),d<f)))continue}else if(f=n.mapPos(c,u.startSide),d=n.mapPos(h,u.endSide),f>d||f==d&&u.startSide>0&&u.endSide<=0)continue;(d-f||u.endSide-u.startSide)<0||(o<0&&(o=f),u.point&&(a=Math.max(a,d-f)),r.push(u),i.push(f-o),s.push(d-o))}return{mapped:r.length?new PS(i,s,r,a):null,pos:o}}}class Pe{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new Pe(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(_v)),this.isEmpty)return n.length?Pe.of(n):this;let a=new HP(this,null,-1).goto(0),l=0,u=[],c=new zs;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let h=n[l++];c.addInner(h.from,h.to,h.value)||u.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||u.push(Ov.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?Pe.empty:this.nextLayer.update({add:u,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(a,a+l.length);if(u===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(u===!0){let{mapped:c,pos:h}=l.map(a,e);c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(h))}}let s=this.nextLayer.map(e);return n.length==0?s:new Pe(r,n,s||Pe.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return vc.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return vc.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=n.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=cE(o,a,r),u=new Xl(o,l,s),c=new Xl(a,l,s);r.iterGaps((h,f,d)=>hE(u,h,c,f,d,i)),r.empty&&r.length==0&&hE(u,0,c,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=1e9-1);let s=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),o=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=cE(s,o),l=new Xl(s,a,0).goto(r),u=new Xl(o,a,0).goto(r);for(;;){if(l.to!=u.to||!Pv(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,n,r,i,s=-1){let o=new Xl(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let u=Math.min(o.to,r);if(o.point){let c=o.activeForPoint(o.to),h=o.pointFrom<n?c.length+1:Math.min(c.length,l);i.point(a,u,o.point,c,h,o.pointRank),l=Math.min(o.openEnd(u),c.length)}else u>a&&(i.span(a,u,o.active,l),l=o.openEnd(u));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new zs;for(let i of e instanceof Ov?[e]:n?p5(e):e)r.add(i.from,i.to,i.value);return r.finish()}}Pe.empty=new Pe([],[],null,-1);function p5(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(_v(e,r)>0)return t.slice().sort(_v);e=r}return t}Pe.empty.nextLayer=Pe.empty;class zs{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new PS(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new zs)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(Pe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Pe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function cE(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class HP{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class vc{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new HP(o,n,r,s));return i.length==1?i[0]:new vc(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)uy(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)uy(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),uy(this.heap,0)}}}function uy(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Xl{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=vc.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Fh(this.active,e),Fh(this.activeTo,e),Fh(this.activeRank,e),this.minActive=fE(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=s;)n++;$h(this.active,n,r),$h(this.activeTo,n,i),$h(this.activeRank,n,s),e&&$h(e,n,this.cursor.from),this.minActive=fE(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Fh(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function hE(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e;for(;;){let u=t.to+l-n.to||t.endSide-n.endSide,c=u<0?t.to+l:n.to,h=Math.min(c,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Pv(t.activeForPoint(t.to+l),n.activeForPoint(n.to))||s.comparePoint(a,h,t.point,n.point):h>a&&!Pv(t.active,n.active)&&s.compareRange(a,h,t.active,n.active),c>o)break;a=c,u<=0&&t.next(),u>=0&&n.next()}}function Pv(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Fh(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function $h(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function fE(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function th(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=kn(t,i));return r}function Rv(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=kn(t,i)}return r===!0?-1:t.length}const Nv="ͼ",dE=typeof Symbol>"u"?"__"+Nv:Symbol.for(Nv),Dv=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),pE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Hs{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,u){let c=[],h=/^@(\w+)\b/.exec(o[0]),f=h&&h[1]=="keyframes";if(h&&a==null)return l.push(o[0]+";");for(let d in a){let m=a[d];if(/&/.test(d))s(d.split(/,\s*/).map(w=>o.map(x=>w.replace(/&/,x))).reduce((w,x)=>w.concat(x)),m,l);else if(m&&typeof m=="object"){if(!h)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(i(d),m,c,f)}else m!=null&&c.push(d.replace(/_.*/,"").replace(/[A-Z]/g,w=>"-"+w.toLowerCase())+": "+m+";")}(c.length||f)&&l.push((r&&!h&&!u?o.map(r):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=pE[dE]||1;return pE[dE]=e+1,Nv+e.toString(36)}static mount(e,n){(e[Dv]||new g5(e)).mount(Array.isArray(n)?n:[n])}}let gE=new Map;class g5{constructor(e){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let i=gE.get(n);if(i)return e.adoptedStyleSheets=[i.sheet,...e.adoptedStyleSheets],e[Dv]=i;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],gE.set(n,this)}else{this.styleTag=n.createElement("style");let i=e.head||e;i.insertBefore(this.styleTag,i.firstChild)}this.modules=[],e[Dv]=this}mount(e){let n=this.sheet,r=0,i=0;for(let s=0;s<e.length;s++){let o=e[s],a=this.modules.indexOf(o);if(a<i&&a>-1&&(this.modules.splice(a,1),i--,a=-1),a==-1){if(this.modules.splice(i++,0,o),n)for(let l=0;l<o.rules.length;l++)n.insertRule(o.rules[l],r++)}else{for(;i<a;)r+=this.modules[i++].rules.length;r+=o.rules.length,i++}}if(!n){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}}var Ws={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},wc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mE=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),m5=typeof navigator<"u"&&/Mac/.test(navigator.platform),y5=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),v5=m5||mE&&+mE[1]<57;for(var Ht=0;Ht<10;Ht++)Ws[48+Ht]=Ws[96+Ht]=String(Ht);for(var Ht=1;Ht<=24;Ht++)Ws[Ht+111]="F"+Ht;for(var Ht=65;Ht<=90;Ht++)Ws[Ht]=String.fromCharCode(Ht+32),wc[Ht]=String.fromCharCode(Ht);for(var cy in Ws)wc.hasOwnProperty(cy)||(wc[cy]=Ws[cy]);function w5(t){var e=v5&&(t.ctrlKey||t.altKey||t.metaKey)||y5&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?wc:Ws)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function qd(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function gl(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function S5(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function If(t,e){if(!e.anchorNode)return!1;try{return gl(t,e.anchorNode)}catch{return!1}}function ml(t){return t.nodeType==3?yl(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Gd(t,e,n,r){return n?yE(t,e,n,r,-1)||yE(t,e,n,r,1):!1}function Qd(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function yE(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ks(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=Qd(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Ks(t):0}else return!1}}function Ks(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Fg(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function x5(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function b5(t,e,n,r,i,s,o,a){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t;c;)if(c.nodeType==1){let h,f=c==l.body;if(f)h=x5(u);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let w=c.getBoundingClientRect();h={left:w.left,right:w.left+c.clientWidth,top:w.top,bottom:w.top+c.clientHeight}}let d=0,m=0;if(i=="nearest")e.top<h.top?(m=-(h.top-e.top+o),n>0&&e.bottom>h.bottom+m&&(m=e.bottom-h.bottom+m+o)):e.bottom>h.bottom&&(m=e.bottom-h.bottom+o,n<0&&e.top-m<h.top&&(m=-(h.top+m-e.top+o)));else{let w=e.bottom-e.top,x=h.bottom-h.top;m=(i=="center"&&w<=x?e.top+w/2-x/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-x+o)-h.top}if(r=="nearest"?e.left<h.left?(d=-(h.left-e.left+s),n>0&&e.right>h.right+d&&(d=e.right-h.right+d+s)):e.right>h.right&&(d=e.right-h.right+s,n<0&&e.left<h.left+d&&(d=-(h.left+d-e.left+s))):d=(r=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:r=="start"==a?e.left-s:e.right-(h.right-h.left)+s)-h.left,d||m)if(f)u.scrollBy(d,m);else{let w=0,x=0;if(m){let v=c.scrollTop;c.scrollTop+=m,x=c.scrollTop-v}if(d){let v=c.scrollLeft;c.scrollLeft+=d,w=c.scrollLeft-v}e={left:e.left-w,top:e.top-x,right:e.right-w,bottom:e.bottom-x},w&&Math.abs(w-d)<1&&(r="nearest"),x&&Math.abs(x-m)<1&&(i="nearest")}if(f)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function k5(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class E5{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Ks(n):0),r,Math.min(e.focusOffset,r?Ks(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let na=null;function WP(t){if(t.setActive)return t.setActive();if(na)return t.focus(na);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(na==null?{get preventScroll(){return na={preventScroll:!0},!0}}:void 0),!na){na=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let vE;function yl(t,e,n=e){let r=vE||(vE=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Ka(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,t.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function C5(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function KP(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function T5(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Ks(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Ks(n))}else{if(n==t)return!0;r=Qd(n),n=n.parentNode}}class Wt{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Wt(e.parentNode,Qd(e),n)}static after(e,n){return new Wt(e.parentNode,Qd(e)+1,n)}}const RS=[];class je{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.dirty&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.dirty){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=je.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.dirty=0}if(s=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=o.dom&&(n.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=wE(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=wE(s)}else if(this.dirty&1)for(let r of this.children)r.dirty&&(r.sync(e,n),r.dirty=0)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=Ks(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!je.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,u=r,c=r;l<this.children.length;l++){let h=this.children[l],f=u+h.length;if(u<e&&f>n)return h.domBoundsAround(e,n,u);if(f>=e&&i==-1&&(i=l,s=u),u>n&&h.dom.parentNode==this.dom){o=l,a=c;break}c=f,u=f+h.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.dirty|=2),n.dirty&1)return;n.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=RS){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&s.destroy()}this.children.splice(e,n-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new qP(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}je.prototype.breakAfter=0;function wE(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class qP{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function GP(t,e,n,r,i,s,o,a,l){let{children:u}=t,c=u.length?u[e]:null,h=s.length?s[s.length-1]:null,f=h?h.breakAfter:o;if(!(e==r&&c&&!o&&!f&&s.length<2&&c.merge(n,i,s.length?h:null,n==0,a,l))){if(r<u.length){let d=u[r];d&&i<d.length?(e==r&&(d=d.split(i),i=0),!f&&h&&d.merge(0,i,h,!0,0,l)?s[s.length-1]=d:(i&&d.merge(0,i,null,!1,0,l),s.push(d))):d!=null&&d.breakAfter&&(h?h.breakAfter=1:o=1),r++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,a,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(u[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,a,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function QP(t,e,n,r,i,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:u,off:c}=o.findPos(e,-1),h=e-n;for(let f of r)h+=f.length;t.length+=h,GP(t,u,c,a,l,r,0,i,s)}let Kn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Mv=typeof document<"u"?document:{documentElement:{style:{}}};const Lv=/Edge\/(\d+)/.exec(Kn.userAgent),YP=/MSIE \d/.test(Kn.userAgent),Bv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Kn.userAgent),$g=!!(YP||Bv||Lv),SE=!$g&&/gecko\/(\d+)/i.test(Kn.userAgent),hy=!$g&&/Chrome\/(\d+)/.exec(Kn.userAgent),xE="webkitFontSmoothing"in Mv.documentElement.style,XP=!$g&&/Apple Computer/.test(Kn.vendor),bE=XP&&(/Mobile\/\w+/.test(Kn.userAgent)||Kn.maxTouchPoints>2);var ie={mac:bE||/Mac/.test(Kn.platform),windows:/Win/.test(Kn.platform),linux:/Linux|X11/.test(Kn.platform),ie:$g,ie_version:YP?Mv.documentMode||6:Bv?+Bv[1]:Lv?+Lv[1]:0,gecko:SE,gecko_version:SE?+(/Firefox\/(\d+)/.exec(Kn.userAgent)||[0,0])[1]:0,chrome:!!hy,chrome_version:hy?+hy[1]:0,ios:bE,android:/Android\b/.test(Kn.userAgent),webkit:xE,safari:XP,webkit_version:xE?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Mv.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const A5=256;class Uo extends je{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return r&&(!(r instanceof Uo)||this.length-(n-e)+r.length>A5)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new Uo(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Wt(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Fv(this.dom,e,n)}}class zi extends je{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(KP(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,n){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,s,o){return r&&(!(r instanceof zi&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(QP(this,e,n,r?r.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new zi(this.mark,n,o)}domAtPos(e){return nR(this,e)}coordsAt(e,n){return iR(this,e,n)}}function Fv(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?ie.chrome||ie.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=yl(t,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return ie.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),o?Fg(l,o<0):l||null}class gs extends je{constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}static create(e,n,r){return new(e.customView||gs)(e,n,r)}split(e){let n=gs.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,n,r,i,s,o){return r&&(!(r instanceof gs)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof gs&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return _e.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):_e.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Wt.before(this.dom):Wt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;for(let o=e>0?i.length-1:0;s=i[o],!(e>0?o==0:o==i.length-1||s.top<s.bottom);o+=e>0?-1:1);return this.length?s:Fg(s,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class JP extends gs{domAtPos(e){let{topView:n,text:r}=this.widget;return n?$v(e,0,n,r,this.length-n.length,(i,s)=>i.domAtPos(s),(i,s)=>new Wt(i,Math.min(s,i.nodeValue.length))):new Wt(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,n){let{topView:r,text:i}=this.widget;return r?eR(e,n,r,i,this.length-r.length):Math.min(n,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,n){let{topView:r,text:i}=this.widget;return r?$v(e,n,r,i,this.length-r.length,(s,o,a)=>s.coordsAt(o,a),(s,o,a)=>Fv(s,o,a)):Fv(i,e,n)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function $v(t,e,n,r,i,s,o){if(n instanceof zi){for(let a=n.dom.firstChild;a;a=a.nextSibling){let l=je.get(a);if(l){let u=gl(a,r),c=l.length+(u?i:0);if(t<c||t==c&&l.getSide()<=0)return u?$v(t,e,l,r,i,s,o):s(l,t,e);t-=c}else{let u=ZP(t,e,a,o);if(typeof u!="number")return u;t=u}}return s(n,n.length,-1)}else return n.dom==r?o(r,t,e):s(n,t,e)}function ZP(t,e,n,r){if(n.nodeType==3){let i=n.nodeValue.length;if(t<=i)return r(n,t,e);t-=i}else if(n.nodeType==1&&n.contentEditable!="false")for(let i=n.firstChild;i;i=i.nextSibling){let s=ZP(t,e,i,r);if(typeof s!="number")return s;t=s}return t}function eR(t,e,n,r,i){if(n instanceof zi){let s=0;for(let o=n.dom.firstChild;o;o=o.nextSibling){let a=je.get(o);if(a){let l=gl(o,r);if(gl(o,t))return s+(l?eR(t,e,a,r,i):a.localPosFromDOM(t,e));s+=a.length+(l?i:0)}else{let l=tR(t,e,o);if(l.result!=null)return s+l.result;s+=l.size}}}else if(n.dom==r)return Math.min(e,r.nodeValue.length);return n.localPosFromDOM(t,e)}function tR(t,e,n){if(n.nodeType==3)return t==n?{result:e}:{size:n.nodeValue.length};if(n.nodeType==1&&n.contentEditable!="false"){let r=0;for(let i=n.firstChild,s=0;;i=i.nextSibling,s++){if(t==n&&s==e)return{result:r};if(!i)return{size:r};let o=tR(t,e,i);if(o.result!=null)return{result:e+o.result};r+=o.size}}else return n.contains(t)?{result:0}:{size:0}}class vl extends je{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof vl&&e.side==this.side}split(){return new vl(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Wt.before(this.dom):Wt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return _e.empty}get isHidden(){return!0}}Uo.prototype.children=gs.prototype.children=vl.prototype.children=RS;function nR(t,e){let n=t.dom,{children:r}=t,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new Wt(n,0)}function rR(t,e,n){let r,{children:i}=t;n>0&&e instanceof zi&&i.length&&(r=i[i.length-1])instanceof zi&&r.mark.eq(e.mark)?rR(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function iR(t,e,n){let r=null,i=-1,s=null,o=-1;function a(u,c){for(let h=0,f=0;h<u.children.length&&f<=c;h++){let d=u.children[h],m=f+d.length;m>=c&&(d.children.length?a(d,c-f):(!s||s.isHidden&&n>0)&&(m>c||f==m&&d.getSide()>0)?(s=d,o=c-f):(f<c||f==m&&d.getSide()<0&&!d.isHidden)&&(r=d,i=c-f)),f=m}}a(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):I5(t)}function I5(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=ml(e);return n[n.length-1]||null}function jv(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function NS(t,e){if(t==e)return!0;if(!t||!e)return!1;let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i of n)if(r.indexOf(i)==-1||t[i]!==e[i])return!1;return!0}function Uv(t,e,n){let r=null;if(e)for(let i in e)n&&i in n||t.removeAttribute(r=i);if(n)for(let i in n)e&&e[i]==n[i]||t.setAttribute(r=i,n[i]);return!!r}class Gi{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get customView(){return null}get isHidden(){return!1}destroy(e){}}var ut=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(ut||(ut={}));class ue extends jo{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new jg(e)}static widget(e){let n=e.side||0,r=!!e.block;return n+=r?n>0?3e8:-4e8:n>0?1e8:-1e8,new Vo(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=sR(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new Vo(e,r,i,n,e.widget||null,!0)}static line(e){return new nh(e)}static set(e,n=!1){return Pe.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ue.none=Pe.empty;class jg extends ue{constructor(e){let{start:n,end:r}=sR(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof jg&&this.tagName==e.tagName&&this.class==e.class&&NS(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}jg.prototype.point=!1;class nh extends ue{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof nh&&this.spec.class==e.spec.class&&NS(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}nh.prototype.mapMode=xn.TrackBefore;nh.prototype.point=!0;class Vo extends ue{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?xn.TrackBefore:xn.TrackAfter:xn.TrackDel}get type(){return this.startSide<this.endSide?ut.WidgetRange:this.startSide<=0?ut.WidgetBefore:ut.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Vo&&O5(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Vo.prototype.point=!0;function sR(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function O5(t,e){return t==e||!!(t&&e&&t.compare(e))}function Vv(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class En extends je{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,o){if(r){if(!(r instanceof En))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),QP(this,e,n,r?r.children:[],s,o),!0}split(e){let n=new En;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){NS(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){rR(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=jv(n,this.attrs||{})),r&&(this.attrs=jv({class:r},this.attrs||{}))}domAtPos(e){return nR(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,n){var r;this.dom?this.dirty&4&&(KP(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Uv(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&je.get(i)instanceof zi;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=je.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!ie.ios||!this.children.some(s=>s instanceof Uo))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof Uo)||/[^ -~]/.test(r.text))return null;let i=ml(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=iR(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return!1}get type(){return ut.Text}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=n){if(s instanceof En)return s;if(o>n)break}i=o+s.breakAfter}return null}}class Co extends je{constructor(e,n,r){super(),this.widget=e,this.length=n,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,o){return r&&(!(r instanceof Co)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Wt.before(this.dom):Wt.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new Co(this.widget,n,this.type);return r.breakAfter=this.breakAfter,r}get children(){return RS}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):_e.empty}domBoundsAround(){return null}become(e){return e instanceof Co&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){return this.widget.coordsAt(this.dom,e,n)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class DS{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Co&&e.type==ut.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new En),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(jh(new vl(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(jh(new Uo(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof Vo){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof Vo)if(r.block){let{type:l}=r;l==ut.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Co(r.widget||new kE("div"),a,l))}else{let l=gs.create(r.widget||new kE("span"),a,a?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<n||r.startSide>0),c=!l.isEditable&&(e<n||s>i.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(h.append(jh(new vl(1),i),s),s=i.length+Math.max(0,s-i.length)),h.append(jh(l,i),s),this.atCursorPos=c,this.pendingBuffer=c?e<n||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let o=new DS(e,n,r,s);return o.openEnd=Pe.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function jh(t,e){for(let n of e)t=new zi(n,[t],t.length);return t}class kE extends Gi{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const oR=se.define(),aR=se.define(),lR=se.define(),uR=se.define(),zv=se.define(),cR=se.define(),hR=se.define(),fR=se.define({combine:t=>t.some(e=>e)}),dR=se.define({combine:t=>t.some(e=>e)});class Yd{constructor(e,n="nearest",r="nearest",i=5,s=5){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s}map(e){return e.empty?this:new Yd(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const EE=we.define({map:(t,e)=>t.map(e)});function dr(t,e,n){let r=t.facet(uR);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Ug=se.define({combine:t=>t.length?t[0]:!0});let _5=0;const fu=se.define();class wt{constructor(e,n,r,i){this.id=e,this.create=n,this.domEventHandlers=r,this.extension=i(this)}static define(e,n){const{eventHandlers:r,provide:i,decorations:s}=n||{};return new wt(_5++,e,r,o=>{let a=[fu.of(o)];return s&&a.push(Sc.of(l=>{let u=l.plugin(o);return u?s(u):ue.none})),i&&a.push(i(o)),a})}static fromClass(e,n){return wt.define(r=>new e(r),n)}}class fy{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(dr(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){dr(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){dr(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const pR=se.define(),MS=se.define(),Sc=se.define(),gR=se.define(),mR=se.define();function yR(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(mR)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const du=se.define();class ci{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new ci(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],u=o-a,c=l?l.fromB:1e9;for(;s<n.length&&n[s]<c;){let h=n[s],f=n[s+1],d=Math.max(a,h),m=Math.min(c,f);if(d<=m&&new ci(d+u,m+u,d,m).addToSet(r),f>c)break;s+=2}if(!l)return r;new ci(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class Xd{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=bt.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new ci(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new Xd(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var tt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(tt||(tt={}));const Hv=tt.LTR,P5=tt.RTL;function vR(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const R5=vR("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),N5=vR("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Wv=Object.create(null),jr=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Wv[e]=n,Wv[n]=-e}function D5(t){return t<=247?R5[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?N5[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const M5=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class qa{constructor(e,n,r){this.from=e,this.to=n,this.level=r}get dir(){return this.level%2?P5:Hv}side(e,n){return this.dir==n==e?this.to:this.from}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}const Je=[];function L5(t,e){let n=t.length,r=e==Hv?1:2,i=e==Hv?2:1;if(!t||r==1&&!M5.test(t))return wR(n);for(let o=0,a=r,l=r;o<n;o++){let u=D5(t.charCodeAt(o));u==512?u=a:u==8&&l==4&&(u=16),Je[o]=u==4?2:u,u&7&&(l=u),a=u}for(let o=0,a=r,l=r;o<n;o++){let u=Je[o];if(u==128)o<n-1&&a==Je[o+1]&&a&24?u=Je[o]=a:Je[o]=256;else if(u==64){let c=o+1;for(;c<n&&Je[c]==64;)c++;let h=o&&a==8||c<n&&Je[c]==8?l==1?1:8:256;for(let f=o;f<c;f++)Je[f]=h;o=c-1}else u==8&&l==1&&(Je[o]=1);a=u,u&7&&(l=u)}for(let o=0,a=0,l=0,u,c,h;o<n;o++)if(c=Wv[u=t.charCodeAt(o)])if(c<0){for(let f=a-3;f>=0;f-=3)if(jr[f+1]==-c){let d=jr[f+2],m=d&2?r:d&4?d&1?i:r:0;m&&(Je[o]=Je[jr[f]]=m),a=f;break}}else{if(jr.length==189)break;jr[a++]=o,jr[a++]=u,jr[a++]=l}else if((h=Je[o])==2||h==1){let f=h==r;l=f?0:1;for(let d=a-3;d>=0;d-=3){let m=jr[d+2];if(m&2)break;if(f)jr[d+2]|=2;else{if(m&4)break;jr[d+2]|=4}}}for(let o=0;o<n;o++)if(Je[o]==256){let a=o+1;for(;a<n&&Je[a]==256;)a++;let l=(o?Je[o-1]:r)==1,u=(a<n?Je[a]:r)==1,c=l==u?l?1:2:r;for(let h=o;h<a;h++)Je[h]=c;o=a-1}let s=[];if(r==1)for(let o=0;o<n;){let a=o,l=Je[o++]!=1;for(;o<n&&l==(Je[o]!=1);)o++;if(l)for(let u=o;u>a;){let c=u,h=Je[--u]!=2;for(;u>a&&h==(Je[u-1]!=2);)u--;s.push(new qa(u,c,h?2:1))}else s.push(new qa(a,o,0))}else for(let o=0;o<n;){let a=o,l=Je[o++]==2;for(;o<n&&l==(Je[o]==2);)o++;s.push(new qa(a,o,l?1:2))}return s}function wR(t){return[new qa(0,t,0)]}let SR="";function B5(t,e,n,r,i){var s;let o=r.head-t.from,a=-1;if(o==0){if(!i||!t.length)return null;e[0].level!=n&&(o=e[0].side(!1,n),a=0)}else if(o==t.length){if(i)return null;let f=e[e.length-1];f.level!=n&&(o=f.side(!0,n),a=e.length-1)}a<0&&(a=qa.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc));let l=e[a];o==l.side(i,n)&&(l=e[a+=i?1:-1],o=l.side(!i,n));let u=i==(l.dir==n),c=kn(t.text,o,u);if(SR=t.text.slice(Math.min(o,c),Math.max(o,c)),c!=l.side(i,n))return U.cursor(c+t.from,u?-1:1,l.level);let h=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return!h&&l.level!=n?U.cursor(i?t.to:t.from,i?-1:1,n):h&&h.level<l.level?U.cursor(h.side(!i,n)+t.from,i?1:-1,h.level):U.cursor(c+t.from,i?-1:1,l.level)}const Ta="￿";class xR{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(ke.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ta}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i),this.readNode(i);let s=i.nextSibling;if(s==n)break;let o=je.get(i),a=je.get(s);(o&&a?o.breakAfter:(o?o.breakAfter:CE(i))||CE(s)&&(i.nodeName!="BR"||i.cmIgnore))&&this.lineBreak(),i=s}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let n=je.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(n,r.offset))}}function CE(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class TE{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class AE extends je{constructor(e){super(),this.view=e,this.compositionDeco=ue.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new En],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ci(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:o,toA:a})=>a<this.minWidthFrom||o>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=ue.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=$5(this.view,e.changes)),(ie.ie||ie.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=this.decorations,i=this.updateDeco(),s=z5(r,i,e.changes);return n=ci.extendWithRanges(n,s),this.dirty==0&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ie.chrome||ie.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.dirty=0,s&&(s.written||r.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Co&&s.widget instanceof IE&&i.push(s.dom);r.updateGaps(i)}updateChildren(e,n){let r=this.childCursor(n);for(let i=e.length-1;;i--){let s=i>=0?e[i]:null;if(!s)break;let{fromA:o,toA:a,fromB:l,toB:u}=s,{content:c,breakAtStart:h,openStart:f,openEnd:d}=DS.build(this.view.state.doc,l,u,this.decorations,this.dynamicDecorationMap),{i:m,off:w}=r.findPos(a,1),{i:x,off:v}=r.findPos(o,-1);GP(this,x,v,m,w,c,h,f,d)}}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&If(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.domAtPos(a.anchor),u=a.empty?l:this.domAtPos(a.head);if(ie.gecko&&a.empty&&!this.compositionDeco.size&&F5(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=u=new Wt(h,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||!Gd(l.node,l.offset,c.anchorNode,c.anchorOffset)||!Gd(u.node,u.offset,c.focusNode,c.focusOffset))&&(this.view.observer.ignore(()=>{ie.android&&ie.chrome&&this.dom.contains(c.focusNode)&&H5(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=qd(this.view.root);if(h)if(a.empty){if(ie.gecko){let f=U5(l.node,l.offset);if(f&&f!=3){let d=kR(l.node,l.offset,f==1?1:-1);d&&(l=new Wt(d,f==1?0:d.nodeValue.length))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&c.cursorBidiLevel!=null&&(c.cursorBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(u.node,u.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),f.setEnd(u.node,u.offset),f.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(f)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new Wt(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new Wt(c.focusNode,c.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,n=e.state.selection.main,r=qd(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=En.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(n.head+n.assoc);r.collapse(c.node,c.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=n.from&&r.collapse(i,s)}nearest(e){for(let n=e;n;){let r=je.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof En)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){for(let r=this.length,i=this.children.length-1;;i--){let s=this.children[i],o=r-s.breakAfter-s.length;if(e>o||e==o&&s.type!=ut.WidgetBefore&&s.type!=ut.WidgetAfter&&(!i||n==2||this.children[i-1].breakAfter||this.children[i-1].type==ut.WidgetBefore&&n>-2))return s.coordsAt(e-o,n);r=o}}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==tt.LTR;for(let u=0,c=0;c<this.children.length;c++){let h=this.children[c],f=u+h.length;if(f>i)break;if(u>=r){let d=h.dom.getBoundingClientRect();if(n.push(d.height),o){let m=h.dom.lastChild,w=m?ml(m):[];if(w.length){let x=w[w.length-1],v=l?x.right-d.left:d.right-x.left;v>a&&(a=v,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=f)}}}u=f+h.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?tt.RTL:tt.LTR}measureTextSize(){for(let s of this.children)if(s instanceof En){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=ml(e.firstChild)[0];n=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new qP(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=n.lineBlockAt(o).bottom-n.lineBlockAt(r).top;e.push(ue.replace({widget:new IE(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return ue.set(e)}updateDeco(){let e=this.view.state.facet(Sc).map((n,r)=>(this.dynamicDecorationMap[r]=typeof n=="function")?n(this.view):n);for(let n=e.length;n<e.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=yR(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom};b5(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==tt.LTR)}}function F5(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class IE extends Gi{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function bR(t){let e=t.observer.selectionRange,n=e.focusNode&&kR(e.focusNode,e.focusOffset,0);if(!n)return null;let r=t.docView.nearest(n);if(!r)return null;if(r instanceof En){let i=n;for(;i.parentNode!=r.dom;)i=i.parentNode;let s=i.previousSibling;for(;s&&!je.get(s);)s=s.previousSibling;let o=s?je.get(s).posAtEnd:r.posAtStart;return{from:o,to:o,node:i,text:n}}else{for(;;){let{parent:s}=r;if(!s)return null;if(s instanceof En)break;r=s}let i=r.posAtStart;return{from:i,to:i+r.length,node:r.dom,text:n}}}function $5(t,e){let n=bR(t);if(!n)return ue.none;let{from:r,to:i,node:s,text:o}=n,a=e.mapPos(r,1),l=Math.max(a,e.mapPos(i,-1)),{state:u}=t,c=s.nodeType==3?s.nodeValue:new xR([],u).readRange(s.firstChild,null).text;if(c.indexOf(Ta)>-1)return ue.none;if(l-a<c.length)if(u.doc.sliceString(a,Math.min(u.doc.length,a+c.length))==c)l=a+c.length;else if(u.doc.sliceString(Math.max(0,l-c.length),l)==c)a=l-c.length;else return ue.none;else if(u.doc.sliceString(a,l)!=c)return ue.none;let h=je.get(s);return h instanceof JP?h=h.widget.topView:h&&(h.parent=null),ue.set(ue.replace({widget:new j5(s,o,h),inclusive:!0}).range(a,l))}class j5 extends Gi{constructor(e,n,r){super(),this.top=e,this.text=n,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return JP}}function kR(t,e,n){if(n<=0)for(let r=t,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i>0)r=r.childNodes[i-1],i=Ks(r);else break}if(n>=0)for(let r=t,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i<r.childNodes.length&&n>=0)r=r.childNodes[i],i=0;else break}return null}function U5(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}class V5{constructor(){this.changes=[]}compareRange(e,n){Vv(e,n,this.changes)}comparePoint(e,n){Vv(e,n,this.changes)}}function z5(t,e,n){let r=new V5;return Pe.compare(t,e,n,r),r.changes}function H5(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function W5(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return U.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=kn(i.text,s,!1):a=kn(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let u=kn(i.text,o,!1);if(r(i.text.slice(u,o))!=l)break;o=u}for(;a<i.length;){let u=kn(i.text,a);if(r(i.text.slice(a,u))!=l)break;a=u}return U.range(o+i.from,a+i.from)}function K5(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function q5(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function dy(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function OE(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function _E(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Kv(t,e,n){let r,i,s,o,a=!1,l,u,c,h;for(let m=t.firstChild;m;m=m.nextSibling){let w=ml(m);for(let x=0;x<w.length;x++){let v=w[x];i&&dy(i,v)&&(v=OE(_E(v,i.bottom),i.top));let y=K5(e,v),b=q5(n,v);if(y==0&&b==0)return m.nodeType==3?PE(m,e,n):Kv(m,e,n);if(!r||o>b||o==b&&s>y){r=m,i=v,s=y,o=b;let E=b?n<v.top?-1:1:y?e<v.left?-1:1:0;a=!E||(E>0?x<w.length-1:x>0)}y==0?n>v.bottom&&(!c||c.bottom<v.bottom)?(l=m,c=v):n<v.top&&(!h||h.top>v.top)&&(u=m,h=v):c&&dy(c,v)?c=_E(c,v.bottom):h&&dy(h,v)&&(h=OE(h,v.top))}}if(c&&c.bottom>=n?(r=l,i=c):h&&h.top<=n&&(r=u,i=h),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return PE(r,f,n);if(a&&r.contentEditable!="false")return Kv(r,f,n);let d=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:d}}function PE(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=yl(t,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;o||(o=e-c.left);let h=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&h<s){let f=e>=(c.left+c.right)/2,d=f;if((ie.chrome||ie.gecko)&&yl(t,a).getBoundingClientRect().left==c.right&&(d=!f),h<=0)return{node:t,offset:a+(d?1:0)};i=a+(d?1:0),s=h}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function ER(t,e,n,r=-1){var i,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:h}=e,f=h-a;if(f<0)return 0;if(f>u)return t.state.doc.length;for(let E=t.defaultLineHeight/2,C=!1;l=t.elementAtHeight(f),l.type!=ut.Text;)for(;f=r>0?l.bottom+E:l.top-E,!(f>=0&&f<=u);){if(C)return n?null:0;C=!0,r=-r}h=a+f;let d=l.from;if(d<t.viewport.from)return t.viewport.from==0?0:n?null:RE(t,o,l,c,h);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:RE(t,o,l,c,h);let m=t.dom.ownerDocument,w=t.root.elementFromPoint?t.root:m,x=w.elementFromPoint(c,h);x&&!t.contentDOM.contains(x)&&(x=null),x||(c=Math.max(o.left+1,Math.min(o.right-1,c)),x=w.elementFromPoint(c,h),x&&!t.contentDOM.contains(x)&&(x=null));let v,y=-1;if(x&&((i=t.docView.nearest(x))===null||i===void 0?void 0:i.isEditable)!=!1){if(m.caretPositionFromPoint){let E=m.caretPositionFromPoint(c,h);E&&({offsetNode:v,offset:y}=E)}else if(m.caretRangeFromPoint){let E=m.caretRangeFromPoint(c,h);E&&({startContainer:v,startOffset:y}=E,(!t.contentDOM.contains(v)||ie.safari&&G5(v,y,c)||ie.chrome&&Q5(v,y,c))&&(v=void 0))}}if(!v||!t.docView.dom.contains(v)){let E=En.find(t.docView,d);if(!E)return f>l.top+l.height/2?l.to:l.from;({node:v,offset:y}=Kv(E.dom,c,h))}let b=t.docView.nearest(v);if(!b)return null;if(b.isWidget&&((s=b.dom)===null||s===void 0?void 0:s.nodeType)==1){let E=b.dom.getBoundingClientRect();return e.y<E.top||e.y<=E.bottom&&e.x<=(E.left+E.right)/2?b.posAtStart:b.posAtEnd}else return b.localPosFromDOM(v,y)+b.posAtStart}function RE(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=Math.floor((i-n.top)/t.defaultLineHeight);s+=a*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+Rv(o,s,t.state.tabSize)}function G5(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return yl(t,r-1,r).getBoundingClientRect().left>n}function Q5(t,e,n){if(e!=0)return!1;for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=t.nodeType==1?t.getBoundingClientRect():yl(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function Y5(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=!r||!t.lineWrapping?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let l=t.dom.getBoundingClientRect(),u=t.textDirectionAt(i.from),c=t.posAtCoords({x:n==(u==tt.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(c!=null)return U.cursor(c,n?-1:1)}let o=En.find(t.docView,e.head),a=o?n?o.posAtEnd:o.posAtStart:n?i.to:i.from;return U.cursor(a,n?-1:1)}function NE(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let u=B5(i,s,o,a,n),c=SR;if(!u){if(i.number==(n?t.state.doc.lines:1))return a;c=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),u=U.cursor(n?i.from:i.to)}if(l){if(!l(c))return a}else{if(!r)return u;l=r(c)}a=u}}function X5(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==Ye.Space&&(i=o),i==o}}function J5(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return U.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i),c=t.documentTop;if(u)o==null&&(o=u.left-l.left),a=s<0?u.top:u.bottom;else{let d=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-d.from))),a=(s<0?d.top:d.bottom)+c}let h=l.left+o,f=r??t.defaultLineHeight>>1;for(let d=0;;d+=10){let m=a+(f+d)*s,w=ER(t,{x:h,y:m},!1,s);if(m<l.top||m>l.bottom||(s<0?w<i:w>i))return U.cursor(w,e.assoc,void 0,o)}}function py(t,e,n){let r=t.state.facet(gR).map(i=>i(t));for(;;){let i=!1;for(let s of r)s.between(n.from-1,n.from+1,(o,a,l)=>{n.from>o&&n.from<a&&(n=e.head>n.from?U.cursor(o,1):U.cursor(a,-1),i=!0)});if(!i)return n}}class Z5{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let n=(r,i)=>{this.ignoreDuringComposition(i)||i.type=="keydown"&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(i.type,e,i)?i.preventDefault():r(e,i))};for(let r in yt){let i=yt[r];e.contentDOM.addEventListener(r,s=>{DE(e,s)&&n(i,s)},qv[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{if(r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&(n(yt.mousedown,r),!r.defaultPrevented&&r.button==2)){let i=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=i,200)}}),e.scrollDOM.addEventListener("drop",r=>{r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&n(yt.drop,r)}),ie.chrome&&ie.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,ie.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,n){var r;let i;this.customHandlers=[];for(let s of n)if(i=(r=s.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:i});for(let o in i)this.registeredEvents.indexOf(o)<0&&o!="scroll"&&(this.registeredEvents.push(o),e.contentDOM.addEventListener(o,a=>{DE(e,a)&&this.runCustomHandlers(o,e,a)&&a.preventDefault()}))}}runCustomHandlers(e,n,r){for(let i of this.customHandlers){let s=i.handlers[e];if(s)try{if(s.call(i.plugin,r,n)||r.defaultPrevented)return!0}catch(o){dr(n.state,o)}}return!1}runScrollHandlers(e,n){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,n,e)}catch(s){dr(e.state,s)}}}keydown(e,n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(n.keyCode!=27&&TR.indexOf(n.keyCode)<0&&(e.inputState.lastEscPress=0),ie.android&&ie.chrome&&!n.synthetic&&(n.keyCode==13||n.keyCode==8))return e.observer.delayAndroidKey(n.key,n.keyCode),!0;let r;return ie.ios&&!n.synthetic&&!n.altKey&&!n.metaKey&&((r=CR.find(i=>i.keyCode==n.keyCode))&&!n.ctrlKey||ez.indexOf(n.key)>-1&&n.ctrlKey&&!n.shiftKey)?(this.pendingIOSKey=r||n,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let n=this.pendingIOSKey;return n?(this.pendingIOSKey=void 0,Ka(e.contentDOM,n.key,n.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ie.safari&&!ie.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const CR=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],ez="dthko",TR=[16,17,18,20,91,92,224,225],Uh=6;function Vh(t){return Math.max(0,t)*.7+8}class tz{constructor(e,n,r,i){this.view=e,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=k5(e.contentDOM);let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(ke.allowMultipleSelections)&&nz(e,n),this.dragMove=rz(e,n),this.dragging=iz(e,n)&&_R(n)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let r=0,i=0,s=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=yR(this.view);e.clientX-o.left<=s.left+Uh?r=-Vh(s.left-e.clientX):e.clientX+o.right>=s.right-Uh&&(r=Vh(e.clientX-s.right)),e.clientY-o.top<=s.top+Uh?i=-Vh(s.top-e.clientY):e.clientY+o.bottom>=s.bottom-Uh&&(i=Vh(e.clientY-s.bottom)),this.setScrollSpeed(r,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(e){let n=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!n.eq(this.view.state.selection)||n.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function nz(t,e){let n=t.state.facet(oR);return n.length?n[0](e):ie.mac?e.metaKey:e.ctrlKey}function rz(t,e){let n=t.state.facet(aR);return n.length?n[0](e):ie.mac?!e.altKey:!e.ctrlKey}function iz(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=qd(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function DE(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=je.get(n))&&r.ignoreEvent(e))return!1;return!0}const yt=Object.create(null),qv=Object.create(null),AR=ie.ie&&ie.ie_version<15||ie.ios&&ie.webkit_version<604;function sz(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),IR(t,n.value)},50)}function IR(t,e){let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(Gv!=null&&n.selection.ranges.every(l=>l.empty)&&Gv==s.toString()){let l=-1;r=n.changeByRange(u=>{let c=n.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let h=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:h},range:U.cursor(u.from+h.length)}})}else o?r=n.changeByRange(l=>{let u=s.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:U.cursor(l.from+u.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}yt.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now())};yt.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};yt.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};qv.touchstart=qv.touchmove={passive:!0};yt.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return;let n=null;for(let r of t.state.facet(lR))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=lz(t,e)),n){let r=t.root.activeElement!=t.contentDOM;t.inputState.startMouseSelection(new tz(t,e,n,r)),r&&t.observer.ignore(()=>WP(t.contentDOM)),t.inputState.mouseSelection&&t.inputState.mouseSelection.start(e)}};function ME(t,e,n,r){if(r==1)return U.cursor(e,n);if(r==2)return W5(t.state,e,n);{let i=En.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,U.range(o,a)}}let OR=(t,e)=>t>=e.top&&t<=e.bottom,LE=(t,e,n)=>OR(e,n)&&t>=n.left&&t<=n.right;function oz(t,e,n,r){let i=En.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&LE(n,r,o))return-1;let a=i.coordsAt(s,1);return a&&LE(n,r,a)?1:o&&OR(r,o)?-1:1}function BE(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:oz(t,n,e.clientX,e.clientY)}}const az=ie.ie&&ie.ie_version<=11;let FE=null,$E=0,jE=0;function _R(t){if(!az)return t.detail;let e=FE,n=jE;return FE=t,jE=Date.now(),$E=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?($E+1)%3:1}function lz(t,e){let n=BE(t,e),r=_R(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=BE(t,s),u,c=ME(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){let h=ME(t,n.pos,n.bias,r),f=Math.min(h.from,c.from),d=Math.max(h.to,c.to);c=f<c.from?U.range(f,d):U.range(d,f)}return o?i.replaceRange(i.main.extend(c.from,c.to)):a&&r==1&&i.ranges.length>1&&(u=uz(i,l.pos))?u:a?i.addRange(c):U.create([c])}}}function uz(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return U.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}yt.dragstart=(t,e)=>{let{selection:{main:n}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")};function UE(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=t.inputState,o=r&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"})}yt.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let r=Array(n.length),i=0,s=()=>{++i==n.length&&UE(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}}else UE(t,e,e.dataTransfer.getData("Text"),!0)};yt.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let n=AR?null:e.clipboardData;n?(IR(t,n.getData("text/plain")||n.getData("text/uri-text")),e.preventDefault()):sz(t)};function cz(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function hz(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}let Gv=null;yt.copy=yt.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=hz(t.state);if(!n&&!i)return;Gv=i?n:null;let s=AR?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",n)):cz(t,n),e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const PR=pi.define();function RR(t,e){let n=[];for(let r of t.facet(hR)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:PR.of(!0)}):null}function NR(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=RR(t.state,e);n?t.dispatch(n):t.update([])}},10)}yt.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),NR(t)};yt.blur=t=>{t.observer.clearSelectionRange(),NR(t)};yt.compositionstart=yt.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};yt.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,ie.chrome&&ie.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.compositionDeco.size&&t.update([])},50)};yt.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};yt.beforeinput=(t,e)=>{var n;let r;if(ie.chrome&&ie.android&&(r=CR.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};const VE=["pre-wrap","normal","pre-line","break-spaces"];class fz{constructor(e){this.lineWrapping=e,this.doc=_e.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return VE.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,o){let a=VE.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<o.length;u++){let c=o[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class dz{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class ki{constructor(e,n,r,i,s,o){this.from=e,this.length=n,this.top=r,this.height=i,this.children=s,this.deco=o}get type(){var e,n,r;return(r=(e=this.children)!==null&&e!==void 0?e:(n=this.deco)===null||n===void 0?void 0:n.type)!==null&&r!==void 0?r:ut.Text}get widget(){return this.deco&&this.deco.widget}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let n=(this.children||[this]).concat(e.children||[e]);return new ki(this.from,this.length+e.length,this.top,this.height+e.height,n,null)}}var Ve=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Ve||(Ve={}));const Of=.001;class An{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>Of&&(e.heightChanged=!0),this.height=n)}replace(e,n,r){return An.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:c,toB:h}=i[a],f=s.lineAt(l,Ve.ByPosNoHeight,r.setDoc(n),0,0),d=f.to>=u?f:s.lineAt(u,Ve.ByPosNoHeight,r,0,0);for(h+=d.to-u,u=d.to;a>0&&f.from<=i[a-1].toA;)l=i[a-1].fromA,c=i[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,Ve.ByPosNoHeight,r,0,0));c+=f.from-l,l=f.from;let m=LS.build(r.setDoc(o),e,c,h);s=s.replace(l,u,m)}return s.updateHeight(r,0)}static empty(){return new Hn(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new pz(An.of(e.slice(0,n)),o,An.of(e.slice(r)))}}An.prototype.size=1;class DR extends An{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new ki(i,this.length,r,this.height,null,this.deco)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Hn extends DR{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof Hn||i instanceof $t&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof $t?i=new Hn(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):An.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class $t extends An{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),c=n.doc.lineAt(u),h=a+c.length*l,f=Math.max(r,e-h/2);return new ki(c.from,c.length,f,h,null,null)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:c,length:h}=n.doc.line(s+u);return new ki(c,h,r+a*u,a,null,null)}}lineAt(e,n,r,i,s){if(n==Ve.ByHeight)return this.blockAt(e,r,i,s);if(n==Ve.ByPosNoHeight){let{from:d,to:m}=r.doc.lineAt(e);return new ki(d,m-d,0,0,null,null)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),u=r.doc.lineAt(e),c=a+u.length*l,h=u.number-o,f=i+a*h+l*(u.from-s-h);return new ki(u.from,u.length,Math.max(i,Math.min(f,i+this.height-c)),c,null,null)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(r,s);for(let c=e,h=i;c<=n;){let f=r.doc.lineAt(c);if(c==e){let m=f.number-a;h+=l*m+u*(e-s-m)}let d=l+u*f.length;o(new ki(f.from,f.length,h,d,null,null)),h+=d,c=f.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof $t?r[r.length-1]=new $t(s.length+i):r.push(null,new $t(i-1))}if(e>0){let s=r[0];s instanceof $t?r[0]=new $t(e+s.length):r.unshift(new $t(e-1),null)}return An.of(r)}decomposeLeft(e,n){n.push(new $t(e-1),null)}decomposeRight(e,n){n.push(null,new $t(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new $t(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let c=e.doc.lineAt(a).length;o.length&&o.push(null);let h=i.heights[i.index++];l==-1?l=h:Math.abs(h-l)>=Of&&(l=-2);let f=new Hn(c,h);f.outdated=!1,o.push(f),a+=c+1}a<=s&&o.push(null,new $t(s-a).updateHeight(e,a));let u=An.of(o);return(l<0||Math.abs(u.height-this.height)>=Of||Math.abs(l-this.heightMetrics(e,n).perLine)>=Of)&&(e.heightChanged=!0),u}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class pz extends An{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==Ve.ByHeight?e<o:e<a,u=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?u.to<a:u.from>a))return u;let c=n==Ve.ByPosNoHeight?Ve.ByPosNoHeight:Ve.ByPos;return l?u.join(this.right.lineAt(a,c,r,o,a)):this.left.lineAt(a,c,r,i,s).join(u)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let u=this.lineAt(l,Ve.ByPos,r,i,s);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,s,o),u.to>=e&&u.from<=n&&o(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&zE(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),zE(s,a)}return An.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?An.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function zE(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof $t&&(r=t[e+1])instanceof $t&&t.splice(e-1,3,new $t(n.length+1+r.length))}const gz=5;class LS{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Hn?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Hn(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new DR(s,i,r)):(s||i>=gz)&&this.addLineDeco(i,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Hn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new $t(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Hn)return e;let n=new Hn(0,-1);return this.nodes.push(n),n}addBlock(e){var n;this.enterLine();let r=(n=e.deco)===null||n===void 0?void 0:n.type;r==ut.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r!=ut.WidgetBefore&&(this.covering=e)}addLineDeco(e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+n}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Hn)&&!this.isCovered?this.nodes.push(new Hn(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Hn&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new LS(r,e);return Pe.spans(n,r,i,s,0),s.finish(r)}}function mz(t,e,n){let r=new yz;return Pe.compare(t,e,n,r,0),r.changes}class yz{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Vv(e,n,this.changes,5)}}function vz(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let c=u,h=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&h.overflow!="visible"){let f=c.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=u==t.parentNode?f.bottom:Math.min(l,f.bottom)}u=h.position=="absolute"||h.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function wz(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class gy{constructor(e,n,r){this.from=e,this.to=n,this.size=r}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e){return ue.replace({widget:new Sz(this.size,e)}).range(this.from,this.to)}}class Sz extends Gi{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class HE{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=WE,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=tt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(MS).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new fz(n),this.stateDeco=e.facet(Sc).filter(r=>typeof r!="function"),this.heightMap=An.empty().applyChanges(this.stateDeco,_e.empty,this.heightOracle.setDoc(e.doc),[new ci(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ue.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new zh(s,o))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?WE:new kz(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:pu(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Sc).filter(u=>typeof u!="function");let i=e.changedRanges,s=ci.extendWithRanges(i,mz(r,this.stateDeco,e?e.changes:bt.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2);let a=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<a.from||n.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,n));let l=!e.changes.empty||e.flags&2||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(dR)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?tt.RTL:tt.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,c=0,h=parseInt(r.paddingTop)||0,f=parseInt(r.paddingBottom)||0;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);let d=(this.printing?wz:vz)(n,this.paddingTop),m=d.top-this.pixelViewport.top,w=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let x=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(x!=this.inView&&(this.inView=x,x&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let v=a.width;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),l){let b=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(b)&&(o=!0),o||i.lineWrapping&&Math.abs(v-this.contentDOMWidth)>i.charWidth){let{lineHeight:E,charWidth:C,textHeight:O}=e.docView.measureTextSize();o=E>0&&i.refresh(s,E,C,O,v/C,b),o&&(e.docView.minWidth=0,u|=8)}m>0&&w>0?c=Math.max(m,w):m<0&&w<0&&(c=Math.min(m,w)),i.heightChanged=!1;for(let E of this.viewports){let C=E.from==this.viewport.from?b:e.docView.measureVisibleLineHeights(E);this.heightMap=(o?An.empty().applyChanges(this.stateDeco,_e.empty,this.heightOracle,[new ci(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new dz(E.from,C))}i.heightChanged&&(u|=2)}let y=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return y&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(u&2||y)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new zh(i.lineAt(o-r*1e3,Ve.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,Ve.ByHeight,s,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(u,Ve.ByPos,s,0,0),f;n.y=="center"?f=(h.top+h.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&u<l.from?f=h.top:f=h.bottom-c,l=new zh(i.lineAt(f-1e3/2,Ve.ByHeight,s,0,0).from,i.lineAt(f+c+1e3/2,Ve.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new zh(this.heightMap.lineAt(r,Ve.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Ve.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Ve.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,Ve.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new gy(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=tt.LTR&&!r)return[];let a=[],l=(u,c,h,f)=>{if(c-u<s)return;let d=this.state.selection.main,m=[d.from];d.empty||m.push(d.to);for(let x of m)if(x>u&&x<c){l(u,x-10,h,f),l(x+10,c,h,f);return}let w=bz(e,x=>x.from>=h.from&&x.to<=h.to&&Math.abs(x.from-u)<s&&Math.abs(x.to-c)<s&&!m.some(v=>x.from<v&&x.to>v));if(!w){if(c<h.to&&n&&r&&n.visibleRanges.some(x=>x.from<=c&&x.to>=c)){let x=n.moveToLineBoundary(U.cursor(c),!1,!0).head;x>u&&(c=x)}w=new gy(u,c,this.gapSize(h,u,c,f))}a.push(w)};for(let u of this.viewportLines){if(u.length<o)continue;let c=xz(u.from,u.to,this.stateDeco);if(c.total<o)continue;let h=this.scrollTarget?this.scrollTarget.range.head:null,f,d;if(r){let m=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,x;if(h!=null){let v=Wh(c,h),y=((this.visibleBottom-this.visibleTop)/2+m)/u.height;w=v-y,x=v+y}else w=(this.visibleTop-u.top-m)/u.height,x=(this.visibleBottom-u.top+m)/u.height;f=Hh(c,w),d=Hh(c,x)}else{let m=c.total*this.heightOracle.charWidth,w=i*this.heightOracle.charWidth,x,v;if(h!=null){let y=Wh(c,h),b=((this.pixelViewport.right-this.pixelViewport.left)/2+w)/m;x=y-b,v=y+b}else x=(this.pixelViewport.left-w)/m,v=(this.pixelViewport.right+w)/m;f=Hh(c,x),d=Hh(c,v)}f>u.from&&l(u.from,f,u,c),d<u.to&&l(d,u.to,u,c)}return a}gapSize(e,n,r,i){let s=Wh(i,r)-Wh(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){gy.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ue.set(e.map(n=>n.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];Pe.spans(e,this.viewport.from,this.viewport.to,{span(i,s){n.push({from:i,to:s})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,s)=>i.from!=n[s].from||i.to!=n[s].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||pu(this.heightMap.lineAt(e,Ve.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return pu(this.heightMap.lineAt(this.scaler.fromDOM(e),Ve.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return pu(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class zh{constructor(e,n){this.from=e,this.to=n}}function xz(t,e,n){let r=[],i=t,s=0;return Pe.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function Hh({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function Wh(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function bz(t,e){for(let n of t)if(e(n))return n}const WE={toDOM(t){return t},fromDOM(t){return t},scale:1};class kz{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let u=n.lineAt(a,Ve.ByPos,e,0,0).top,c=n.lineAt(l,Ve.ByPos,e,0,0).bottom;return i+=c-u,{from:a,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}}function pu(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new ki(t.from,t.length,n,r-n,t.children&&t.children.map(i=>pu(i,e)),t.deco)}const Kh=se.define({combine:t=>t.join(" ")}),Qv=se.define({combine:t=>t.indexOf(!0)>-1}),Yv=Hs.newName(),MR=Hs.newName(),LR=Hs.newName(),BR={"&light":"."+MR,"&dark":"."+LR};function Xv(t,e,n){return new Hs(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const Ez=Xv("."+Yv,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},BR);class Cz{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=s||o?[]:Az(e),l=new xR(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Iz(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!gl(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!gl(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset);this.newSel=U.single(u,l)}}}function FR(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,u=null;(s===8||ie.android&&e.text.length<a-o)&&(l=i.to,u="end");let c=Tz(t.state.doc.sliceString(o,a,Ta),e.text,l-o,u);c&&(ie.chrome&&s==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Ta+Ta&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:_e.of(e.text.slice(c.from,c.toB).split(Ta))})}else r&&(!t.hasFocus&&t.state.facet(Ug)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:(ie.mac||ie.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=U.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:_e.of([" "])}):ie.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=U.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:_e.of([" "])}),n){let o=t.state;if(ie.ios&&t.inputState.flushIOSKey(t)||ie.android&&(n.from==i.from&&n.to==i.to&&n.insert.length==1&&n.insert.lines==2&&Ka(t.contentDOM,"Enter",13)||(n.from==i.from-1&&n.to==i.to&&n.insert.length==0||s==8&&n.insert.length<n.to-n.from)&&Ka(t.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&n.insert.length==0&&Ka(t.contentDOM,"Delete",46)))return!0;let a=n.insert.toString();if(t.state.facet(cR).some(c=>c(t,n.from,n.to,a)))return!0;t.inputState.composing>=0&&t.inputState.composing++;let l;if(n.from>=i.from&&n.to<=i.to&&n.to-n.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==n.from+n.insert.length)&&t.inputState.composing<0){let c=i.from<n.from?o.sliceDoc(i.from,n.from):"",h=i.to>n.to?o.sliceDoc(n.to,i.to):"";l=o.replaceSelection(t.state.toText(c+n.insert.sliceString(0,void 0,t.state.lineBreak)+h))}else{let c=o.changes(n),h=r&&r.main.to<=c.newLength?r.main:void 0;if(o.selection.ranges.length>1&&t.inputState.composing>=0&&n.to<=i.to&&n.to>=i.to-10){let f=t.state.sliceDoc(n.from,n.to),d=bR(t)||t.state.doc.lineAt(i.head),m=i.to-n.to,w=i.to-i.from;l=o.changeByRange(x=>{if(x.from==i.from&&x.to==i.to)return{changes:c,range:h||x.map(c)};let v=x.to-m,y=v-f.length;if(x.to-x.from!=w||t.state.sliceDoc(y,v)!=f||d&&x.to>=d.from&&x.from<=d.to)return{range:x};let b=o.changes({from:y,to:v,insert:n.insert}),E=x.to-i.to;return{changes:b,range:h?U.range(Math.max(0,h.anchor+E),Math.max(0,h.head+E)):x.map(b)}})}else l={changes:c,selection:h&&o.selection.replaceRange(h)}}let u="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,u+=".compose",t.inputState.compositionFirstChange&&(u+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(l,{scrollIntoView:!0,userEvent:u}),!0}else if(r&&!r.main.eq(i)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function Tz(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function Az(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new TE(n,r)),(i!=n||s!=r)&&e.push(new TE(i,s))),e}function Iz(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?U.single(n+e,r+e):null}const Oz={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},my=ie.ie&&ie.ie_version<=11;class _z{constructor(e){this.view=e,this.active=!1,this.selectionRange=new E5,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(ie.ie&&ie.ie_version<=11||ie.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),my&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Ug)?r.root.activeElement!=this.dom:!If(r.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(ie.ie&&ie.ie_version<=11||ie.android&&ie.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Gd(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=ie.safari&&e.root.nodeType==11&&S5(this.dom.ownerDocument)==this.dom&&Pz(this.view)||qd(e.root);if(!n||this.selectionRange.eq(n))return!1;let r=If(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&T5(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Oz),my&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),my&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Ka(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&If(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new Cz(this.view,e,n,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return!1;let r=this.view.state,i=FR(this.view,n);return this.view.state==r&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.dirty|=4),e.type=="childList"){let r=KE(n,e.previousSibling||e.target.previousSibling,-1),i=KE(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,r,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect(),(i=this.resizeContent)===null||i===void 0||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function KE(t,e,n){for(;e;){let r=je.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function Pz(t){let e=null;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let r=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor);return Gd(a.node,a.offset,s,o)&&([r,i,s,o]=[s,o,r,i]),{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}}class re{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(n=>this.update([n])),this.dispatch=this.dispatch.bind(this),this._root=e.root||C5(e.parent)||document,this.viewState=new HE(e.state||ke.create(e)),this.plugins=this.state.facet(fu).map(n=>new fy(n));for(let n of this.plugins)n.update(this);this.observer=new _z(this),this.inputState=new Z5(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new AE(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Et?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(PR))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=RR(s,o),l||(a=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(ke.phrases)!=this.state.facet(ke.phrases))return this.setState(s);i=Xd.create(this,s,e),i.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:d}=f.state.selection;h=new Yd(d.empty?d:U.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of f.effects)d.is(EE)&&(h=d.value)}this.viewState.update(i,h),this.bidiCache=Jd.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(du)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Kh)!=i.state.facet(Kh)&&(this.viewState.mustMeasureContent=!0),(n||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let f of this.state.facet(zv))f(i);(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!FR(this,c)&&u.force&&Ka(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new HE(e),this.plugins=e.facet(fu).map(r=>new fy(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new AE(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(fu),r=e.state.facet(fu);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new fy(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,{scrollHeight:r,scrollTop:i,clientHeight:s}=this.scrollDOM,o=i>r-s-4?r:i;try{for(let a=0;;a++){this.updateState=1;let l=this.viewport,u=this.viewState.lineBlockAtHeight(o),c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];c&4||([this.measureRequests,h]=[h,this.measureRequests]);let f=h.map(x=>{try{return x.read(this)}catch(v){return dr(this.state,v),qE}}),d=Xd.create(this,this.state,[]),m=!1,w=!1;d.flags|=c,n?n.flags|=c:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),m=this.docView.update(d));for(let x=0;x<h.length;x++)if(f[x]!=qE)try{let v=h[x];v.write&&v.write(f[x],this)}catch(v){dr(this.state,v)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,w=!0;else{let x=this.viewState.lineBlockAt(u.from).top-u.top;(x>1||x<-1)&&(this.scrollDOM.scrollTop+=x,w=!0)}if(m&&this.docView.updateSelection(!0),this.viewport.from==l.from&&this.viewport.to==l.to&&!w&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(zv))a(n)}get themeClasses(){return Yv+" "+(this.state.facet(Qv)?LR:MR)+" "+this.state.facet(Kh)}updateAttrs(){let e=GE(this,pR,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ug)?"true":"false",class:"cm-content",style:`${ie.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),GE(this,MS,n);let r=this.observer.ignore(()=>{let i=Uv(this.contentDOM,this.contentAttrs,n),s=Uv(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(re.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(du),Hs.mount(this.root,this.styleModules.concat(Ez).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return py(this,e,NE(this,e,n,r))}moveByGroup(e,n){return py(this,e,NE(this,e,n,r=>X5(this,e.head,r)))}moveToLineBoundary(e,n,r=!0){return Y5(this,e,n,r)}moveVertically(e,n,r){return py(this,e,J5(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),ER(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[qa.find(s,e-i.from,-1,n)];return Fg(r,o.dir==tt.LTR==n>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(fR)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Rz)return wR(e.length);let n=this.textDirectionAt(e.from);for(let i of this.bidiCache)if(i.from==e.from&&i.dir==n)return i.order;let r=L5(e.text,n);return this.bidiCache.push(new Jd(e.from,e.to,n,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ie.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{WP(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return EE.of(new Yd(typeof e=="number"?U.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}static domEventHandlers(e){return wt.define(()=>({}),{eventHandlers:e})}static theme(e,n){let r=Hs.newName(),i=[Kh.of(r),du.of(Xv(`.${r}`,e))];return n&&n.dark&&i.push(Qv.of(!0)),i}static baseTheme(e){return Bl.lowest(du.of(Xv("."+Yv,e,BR)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&je.get(r)||je.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}re.styleModule=du;re.inputHandler=cR;re.focusChangeEffect=hR;re.perLineTextDirection=fR;re.exceptionSink=uR;re.updateListener=zv;re.editable=Ug;re.mouseSelectionStyle=lR;re.dragMovesSelection=aR;re.clickAddsSelectionRange=oR;re.decorations=Sc;re.atomicRanges=gR;re.scrollMargins=mR;re.darkTheme=Qv;re.contentAttributes=MS;re.editorAttributes=pR;re.lineWrapping=re.contentAttributes.of({class:"cm-lineWrapping"});re.announce=we.define();const Rz=4096,qE={};class Jd{constructor(e,n,r,i){this.from=e,this.to=n,this.dir=r,this.order=i}static update(e,n){if(n.empty)return e;let r=[],i=e.length?e[e.length-1].dir:tt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new Jd(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.order))}return r}}function GE(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&jv(o,n)}return n}const Nz=ie.mac?"mac":ie.windows?"win":ie.linux?"linux":"key";function Dz(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const u=n[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function qh(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Mz=Bl.default(re.domEventHandlers({keydown(t,e){return jR($R(e.state),t,e,"editor")}})),Vg=se.define({enables:Mz}),QE=new WeakMap;function $R(t){let e=t.facet(Vg),n=QE.get(e);return n||QE.set(e,n=Fz(e.reduce((r,i)=>r.concat(i),[]))),n}function Lz(t,e,n){return jR($R(t.state),e,t,n)}let us=null;const Bz=4e3;function Fz(t,e=Nz){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,u)=>{var c,h;let f=n[o]||(n[o]=Object.create(null)),d=a.split(/ (?!$)/).map(x=>Dz(x,e));for(let x=1;x<d.length;x++){let v=d.slice(0,x).join(" ");i(v,!0),f[v]||(f[v]={preventDefault:!0,run:[y=>{let b=us={view:y,prefix:v,scope:o};return setTimeout(()=>{us==b&&(us=null)},Bz),!0}]})}let m=d.join(" ");i(m,!1);let w=f[m]||(f[m]={preventDefault:!1,run:((h=(c=f._any)===null||c===void 0?void 0:c.run)===null||h===void 0?void 0:h.slice())||[]});l&&w.run.push(l),u&&(w.preventDefault=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of a){let c=n[u]||(n[u]=Object.create(null));c._any||(c._any={preventDefault:!1,run:[]});for(let h in c)c[h].run.push(o.any)}let l=o[e]||o.key;if(l)for(let u of a)s(u,l,o.run,o.preventDefault),o.shift&&s(u,"Shift-"+l,o.shift,o.preventDefault)}return n}function jR(t,e,n,r){let i=w5(e),s=zt(i,0),o=ur(s)==i.length&&i!=" ",a="",l=!1;us&&us.view==n&&us.scope==r&&(a=us.prefix+" ",(l=TR.indexOf(e.keyCode)<0)&&(us=null));let u=new Set,c=m=>{if(m){for(let w of m.run)if(!u.has(w)&&(u.add(w),w(n,e)))return!0;m.preventDefault&&(l=!0)}return!1},h=t[r],f,d;if(h){if(c(h[a+qh(i,e,!o)]))return!0;if(o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ie.windows&&e.ctrlKey&&e.altKey)&&(f=Ws[e.keyCode])&&f!=i){if(c(h[a+qh(f,e,!0)]))return!0;if(e.shiftKey&&(d=wc[e.keyCode])!=i&&d!=f&&c(h[a+qh(d,e,!1)]))return!0}else if(o&&e.shiftKey&&c(h[a+qh(i,e,!0)]))return!0;if(c(h._any))return!0}return l}class rh{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=UR(e);return[new rh(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return $z(e,n,r)}}function UR(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==tt.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function YE(t,e,n){let r=U.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:ut.Text}}function XE(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==ut.Text))return r}return n}function $z(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==tt.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=UR(t),u=o.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),h=a.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),f=a.right-(c?parseInt(c.paddingRight):0),d=XE(t,r),m=XE(t,i),w=d.type==ut.Text?d:null,x=m.type==ut.Text?m:null;if(t.lineWrapping&&(w&&(w=YE(t,r,w)),x&&(x=YE(t,i,x))),w&&x&&w.from==x.from)return y(b(n.from,n.to,w));{let C=w?b(n.from,null,w):E(d,!1),O=x?b(null,n.to,x):E(m,!0),_=[];return(w||d).to<(x||m).from-1?_.push(v(h,C.bottom,f,O.top)):C.bottom<O.top&&t.elementAtHeight((C.bottom+O.top)/2).type==ut.Text&&(C.bottom=O.top=(C.bottom+O.top)/2),y(C).concat(_).concat(y(O))}function v(C,O,_,F){return new rh(e,C-l.left,O-l.top-.01,_-C,F-O+.01)}function y({top:C,bottom:O,horizontal:_}){let F=[];for(let L=0;L<_.length;L+=2)F.push(v(_[L],C,_[L+1],O));return F}function b(C,O,_){let F=1e9,L=-1e9,M=[];function Z(le,me,de,pe,V){let G=t.coordsAtPos(le,le==_.to?-2:2),X=t.coordsAtPos(de,de==_.from?2:-2);!G||!X||(F=Math.min(G.top,X.top,F),L=Math.max(G.bottom,X.bottom,L),V==tt.LTR?M.push(s&&me?h:G.left,s&&pe?f:X.right):M.push(!s&&pe?h:X.left,!s&&me?f:G.right))}let Y=C??_.from,ee=O??_.to;for(let le of t.visibleRanges)if(le.to>Y&&le.from<ee)for(let me=Math.max(le.from,Y),de=Math.min(le.to,ee);;){let pe=t.state.doc.lineAt(me);for(let V of t.bidiSpans(pe)){let G=V.from+pe.from,X=V.to+pe.from;if(G>=de)break;X>me&&Z(Math.max(G,me),C==null&&G<=Y,Math.min(X,de),O==null&&X>=ee,V.dir)}if(me=pe.to+1,me>=de)break}return M.length==0&&Z(Y,C==null,ee,O==null,t.textDirection),{top:F,bottom:L,horizontal:M}}function E(C,O){let _=a.top+(O?C.top:C.bottom);return{top:_,bottom:_,horizontal:[]}}}function jz(t,e){return t.constructor==e.constructor&&t.eq(e)}class Uz{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(_f)!=e.state.facet(_f)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(_f);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!jz(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const _f=se.define();function VR(t){return[wt.define(e=>new Uz(e,t)),_f.of(t)]}const zR=!ie.ios,xc=se.define({combine(t){return gi(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function Vz(t={}){return[xc.of(t),zz,Hz,Wz,dR.of(!0)]}function HR(t){return t.startState.facet(xc)!=t.state.facet(xc)}const zz=VR({above:!0,markers(t){let{state:e}=t,n=e.facet(xc),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||zR:n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:U.cursor(i.head,i.head>i.anchor?-1:1);for(let l of rh.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=HR(t);return n&&JE(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){JE(e.state,t)},class:"cm-cursorLayer"});function JE(t,e){e.style.animationDuration=t.facet(xc).cursorBlinkRate+"ms"}const Hz=VR({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:rh.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||HR(t)},class:"cm-selectionLayer"}),WR={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};zR&&(WR[".cm-line"].caretColor="transparent !important");const Wz=Bl.highest(re.theme(WR)),KR=we.define({map(t,e){return t==null?null:e.mapPos(t)}}),gu=Qt.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(KR)?r.value:n,t)}}),Kz=wt.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(gu);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(gu)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let t=this.view.state.field(gu),e=t!=null&&this.view.coordsAtPos(t);if(!e)return null;let n=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-n.left+this.view.scrollDOM.scrollLeft,top:e.top-n.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(t){this.cursor&&(t?(this.cursor.style.left=t.left+"px",this.cursor.style.top=t.top+"px",this.cursor.style.height=t.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(gu)!=t&&this.view.dispatch({effects:KR.of(t)})}},{eventHandlers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function qz(){return[gu,Kz]}function ZE(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function Gz(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class Qz{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,u,c)=>i(c,u,u+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,u,c)=>{let h=r(a,l,u);h&&c(u,u+a[0].length,h)};else if(r)this.addMatch=(a,l,u,c)=>c(u,u+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new zs,r=n.add.bind(n);for(let{from:i,to:s}of Gz(e,this.maxLength))ZE(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>o){let l=e.state.doc.lineAt(o),u=l.to<a?e.state.doc.lineAt(a):l,c=Math.max(s.from,l.from),h=Math.min(s.to,u.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){c=o;break}for(;a<u.to;a++)if(this.boundary.test(u.text[a-u.from])){h=a;break}}let f=[],d,m=(w,x,v)=>f.push(v.range(w,x));if(l==u)for(this.regexp.lastIndex=c-l.from;(d=this.regexp.exec(l.text))&&d.index<h-l.from;)this.addMatch(d,e,d.index+l.from,m);else ZE(e.state.doc,this.regexp,c,h,(w,x)=>this.addMatch(x,e,w,m));n=n.update({filterFrom:c,filterTo:h,filter:(w,x)=>w<c||x>h,add:f})}}return n}}const Jv=/x/.unicode!=null?"gu":"g",Yz=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Jv),Xz={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let yy=null;function Jz(){var t;if(yy==null&&typeof document<"u"&&document.body){let e=document.body.style;yy=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return yy||!1}const Pf=se.define({combine(t){let e=gi(t,{render:null,specialChars:Yz,addSpecialChars:null});return(e.replaceTabs=!Jz())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Jv)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Jv)),e}});function Zz(t={}){return[Pf.of(t),eH()]}let eC=null;function eH(){return eC||(eC=wt.fromClass(class{constructor(t){this.view=t,this.decorations=ue.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Pf)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Qz({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=zt(e[0],0);if(s==9){let o=i.lineAt(r),a=n.state.tabSize,l=th(o.text,a,r-o.from);return ue.replace({widget:new iH((a-l%a)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=ue.replace({widget:new rH(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Pf);t.startState.facet(Pf)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const tH="•";function nH(t){return t>=32?tH:t==10?"␤":String.fromCharCode(9216+t)}class rH extends Gi{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=nH(this.code),r=e.state.phrase("Control character")+" "+(Xz[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class iH extends Gi{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function sH(){return aH}const oH=ue.line({class:"cm-activeLine"}),aH=wt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(oH.range(i.from)),e=i.from)}return ue.set(n)}},{decorations:t=>t.decorations});class lH extends Gi{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let n=e.firstChild?ml(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=Fg(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function uH(t){return wt.fromClass(class{constructor(e){this.view=e,this.placeholder=ue.set([ue.widget({widget:new lH(t),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?ue.none:this.placeholder}},{decorations:e=>e.decorations})}const Zv=2e3;function cH(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>Zv||n.off>Zv||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let u=t.doc.line(l);u.length<=a&&s.push(U.range(u.from+o,u.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let u=t.doc.line(l),c=Rv(u.text,o,t.tabSize,!0);if(c<0)s.push(U.cursor(u.to));else{let h=Rv(u.text,a,t.tabSize);s.push(U.range(u.from+c,u.from+h))}}}return s}function hH(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function tC(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>Zv?-1:i==r.length?hH(t,e.clientX):th(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function fH(t,e){let n=tC(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=tC(t,i);if(!a)return r;let l=cH(t.state,n,a);return l.length?o?U.create(l.concat(r.ranges)):U.create(l):r}}:null}function dH(t){let e=(t==null?void 0:t.eventFilter)||(n=>n.altKey&&n.button==0);return re.mouseSelectionStyle.of((n,r)=>e(r)?fH(n,r):null)}const pH={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},gH={style:"cursor: crosshair"};function mH(t={}){let[e,n]=pH[t.key||"Alt"],r=wt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventHandlers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,re.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?gH:null})]}const Gh="-10000px";class qR{constructor(e,n,r){this.facet=n,this.createTooltipView=r,this.input=e.state.facet(n),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(r)}update(e){var n;let r=e.state.facet(this.facet),i=r.filter(o=>o);if(r===this.input){for(let o of this.tooltipViews)o.update&&o.update(e);return!1}let s=[];for(let o=0;o<i.length;o++){let a=i[o],l=-1;if(a){for(let u=0;u<this.tooltips.length;u++){let c=this.tooltips[u];c&&c.create==a.create&&(l=u)}if(l<0)s[o]=this.createTooltipView(a);else{let u=s[o]=this.tooltipViews[l];u.update&&u.update(e)}}}for(let o of this.tooltipViews)s.indexOf(o)<0&&(o.dom.remove(),(n=o.destroy)===null||n===void 0||n.call(o));return this.input=r,this.tooltips=i,this.tooltipViews=s,!0}}function yH(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const vy=se.define({combine:t=>{var e,n,r;return{position:ie.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||yH}}}),nC=new WeakMap,GR=wt.fromClass(class{constructor(t){this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(vy);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new qR(t,BS,n=>this.createTooltip(n)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(vy);if(r.position!=this.position){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",e.dom.appendChild(n)}return e.dom.style.position=this.position,e.dom.style.top=Gh,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(t=n.destroy)===null||t===void 0||t.call(n);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((e,n)=>{let r=this.manager.tooltipViews[n];return r.getCoords?r.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(vy).tooltipSpace(this.view)}}writeMeasure(t){var e;let{editor:n,space:r}=t,i=[];for(let s=0;s<this.manager.tooltips.length;s++){let o=this.manager.tooltips[s],a=this.manager.tooltipViews[s],{dom:l}=a,u=t.pos[s],c=t.size[s];if(!u||u.bottom<=Math.max(n.top,r.top)||u.top>=Math.min(n.bottom,r.bottom)||u.right<Math.max(n.left,r.left)-.1||u.left>Math.min(n.right,r.right)+.1){l.style.top=Gh;continue}let h=o.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,f=h?7:0,d=c.right-c.left,m=(e=nC.get(a))!==null&&e!==void 0?e:c.bottom-c.top,w=a.offset||wH,x=this.view.textDirection==tt.LTR,v=c.width>r.right-r.left?x?r.left:r.right-c.width:x?Math.min(u.left-(h?14:0)+w.x,r.right-d):Math.max(r.left,u.left-d+(h?14:0)-w.x),y=!!o.above;!o.strictSide&&(y?u.top-(c.bottom-c.top)-w.y<r.top:u.bottom+(c.bottom-c.top)+w.y>r.bottom)&&y==r.bottom-u.bottom>u.top-r.top&&(y=!y);let b=(y?u.top-r.top:r.bottom-u.bottom)-f;if(b<m&&a.resize!==!1){if(b<this.view.defaultLineHeight){l.style.top=Gh;continue}nC.set(a,m),l.style.height=(m=b)+"px"}else l.style.height&&(l.style.height="");let E=y?u.top-m-f-w.y:u.bottom+f+w.y,C=v+d;if(a.overlap!==!0)for(let O of i)O.left<C&&O.right>v&&O.top<E+m&&O.bottom>E&&(E=y?O.top-m-2-f:O.bottom+f+2);this.position=="absolute"?(l.style.top=E-t.parent.top+"px",l.style.left=v-t.parent.left+"px"):(l.style.top=E+"px",l.style.left=v+"px"),h&&(h.style.left=`${u.left+(x?w.x:-w.x)-(v+14-7)}px`),a.overlap!==!0&&i.push({left:v,top:E,right:C,bottom:E+m}),l.classList.toggle("cm-tooltip-above",y),l.classList.toggle("cm-tooltip-below",!y),a.positioned&&a.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Gh}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),vH=re.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),wH={x:0,y:0},BS=se.define({enables:[GR,vH]}),Zd=se.define();class FS{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new qR(e,Zd,n=>this.createHostedView(n))}static create(e){return new FS(e)}createHostedView(e){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(n.dom),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}}const SH=BS.compute([Zd],t=>{let e=t.facet(Zd).filter(n=>n);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.filter(n=>n.end!=null).map(n=>n.end)),create:FS.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class xH{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,n=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(n==null)return;let r=this.view.coordsAtPos(n);if(r==null||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let i=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find(a=>a.from<=n&&a.to>=n),s=i&&i.dir==tt.RTL?-1:1,o=this.source(this.view,n,e.x<r.left?-s:s);if(o!=null&&o.then){let a=this.pending={pos:n};o.then(l=>{this.pending==a&&(this.pending=null,l&&this.view.dispatch({effects:this.setHover.of(l)}))},l=>dr(this.view.state,l,"hover tooltip"))}else o&&this.view.dispatch({effects:this.setHover.of(o)})}mousemove(e){var n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let r=this.active;if(r&&!rC(this.lastMove.target)||this.pending){let{pos:i}=r||this.pending,s=(n=r==null?void 0:r.end)!==null&&n!==void 0?n:i;(i==s?this.view.posAtCoords(this.lastMove)!=i:!bH(this.view,i,s,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!rC(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function rC(t){for(let e=t;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function bH(t,e,n,r,i,s){let o=document.createRange(),a=t.domAtPos(e),l=t.domAtPos(n);o.setEnd(l.node,l.offset),o.setStart(a.node,a.offset);let u=o.getClientRects();o.detach();for(let c=0;c<u.length;c++){let h=u[c];if(Math.max(h.top-i,i-h.bottom,h.left-r,r-h.right)<=s)return!0}return!1}function kH(t,e={}){let n=we.define(),r=Qt.define({create(){return null},update(i,s){if(i&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,i)))return null;if(i&&s.docChanged){let o=s.changes.mapPos(i.pos,-1,xn.TrackDel);if(o==null)return null;let a=Object.assign(Object.create(null),i);a.pos=o,i.end!=null&&(a.end=s.changes.mapPos(i.end)),i=a}for(let o of s.effects)o.is(n)&&(i=o.value),o.is(EH)&&(i=null);return i},provide:i=>Zd.from(i)});return[r,wt.define(i=>new xH(i,t,r,n,e.hoverTime||300)),SH]}function QR(t,e){let n=t.plugin(GR);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const EH=we.define(),iC=se.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function bc(t,e){let n=t.plugin(YR),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const YR=wt.fromClass(class{constructor(t){this.input=t.state.facet(kc),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(iC);this.top=new Qh(t,!0,e.topContainer),this.bottom=new Qh(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(iC);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Qh(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Qh(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(kc);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let u=this.specs.indexOf(l),c;u<0?(c=l(t.view),a.push(c)):(c=this.panels[u],c.update&&c.update(t)),i.push(c),(c.top?s:o).push(c)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>re.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Qh{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=sC(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=sC(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function sC(t){let e=t.nextSibling;return t.remove(),e}const kc=se.define({enables:YR});class Hi extends jo{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Hi.prototype.elementClass="";Hi.prototype.toDOM=void 0;Hi.prototype.mapMode=xn.TrackBefore;Hi.prototype.startSide=Hi.prototype.endSide=-1;Hi.prototype.point=!0;const Rf=se.define(),CH={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Pe.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Du=se.define();function TH(t){return[XR(),Du.of(Object.assign(Object.assign({},CH),t))]}const e1=se.define({combine:t=>t.some(e=>e)});function XR(t){let e=[AH];return t&&t.fixed===!1&&e.push(e1.of(!0)),e}const AH=wt.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(Du).map(e=>new aC(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(e1),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(e1)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=Pe.iter(this.view.state.facet(Rf),this.view.viewport.from),r=[],i=this.gutters.map(s=>new IH(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==ut.Text&&o){t1(n,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==ut.Text){t1(n,r,s.from);for(let o of i)o.line(this.view,s,r)}for(let s of i)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Du),n=t.state.facet(Du),r=t.docChanged||t.heightChanged||t.viewportChanged||!Pe.eq(t.startState.facet(Rf),t.state.facet(Rf),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let o=e.indexOf(s);o<0?i.push(new aC(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>re.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==tt.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}})});function oC(t){return Array.isArray(t)?t:[t]}function t1(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class IH{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Pe.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=n.top-this.height;if(this.i==i.elements.length){let o=new JR(e,n.height,s,r);i.elements.push(o),i.dom.appendChild(o.dom)}else i.elements[this.i].update(e,n.height,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];t1(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n);r&&this.addElement(e,n,[r])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class aC{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=oC(n.markers(e)),n.initialSpacer&&(this.spacer=new JR(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=oC(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Pe.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class JR{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),OH(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,u=!1;if(l){let c=l.elementClass;c&&(r+=" "+c);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,u=!0;break}}else a=this.markers.length;for(;o<a;){let c=this.markers[o++];if(c.toDOM){c.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function OH(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const _H=se.define(),Aa=se.define({combine(t){return gi(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],o=n[i];r[i]=s?(a,l,u)=>s(a,l,u)||o(a,l,u):o}return r}})}});class wy extends Hi{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Sy(t,e){return t.state.facet(Aa).formatNumber(e,t.state)}const PH=Du.compute([Aa],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(_H)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new wy(Sy(e,e.state.doc.lineAt(n.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Aa)!=e.state.facet(Aa),initialSpacer(e){return new wy(Sy(e,lC(e.state.doc.lines)))},updateSpacer(e,n){let r=Sy(n.view,lC(n.view.state.doc.lines));return r==e.number?e:new wy(r)},domEventHandlers:t.facet(Aa).domEventHandlers}));function RH(t={}){return[Aa.of(t),XR(),PH]}function lC(t){let e=9;for(;e<t;)e=e*10+9;return e}const NH=new class extends Hi{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},DH=Rf.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(NH.range(i)))}return Pe.of(e)});function MH(){return DH}const LH=1024;let BH=0;class xy{constructor(e,n){this.from=e,this.to=n}}class Ie{constructor(e={}){this.id=BH++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=mr.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Ie.closedBy=new Ie({deserialize:t=>t.split(" ")});Ie.openedBy=new Ie({deserialize:t=>t.split(" ")});Ie.group=new Ie({deserialize:t=>t.split(" ")});Ie.contextHash=new Ie({perNode:!0});Ie.lookAhead=new Ie({perNode:!0});Ie.mounted=new Ie({perNode:!0});const FH=Object.create(null);class mr{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):FH,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new mr(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Ie.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Ie.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}}mr.none=new mr("",Object.create(null),0,8);const Yh=new WeakMap,uC=new WeakMap;var an;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(an||(an={}));class un{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=this.prop(Ie.mounted);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new np(this.topNode,e)}cursorAt(e,n=0,r=0){let i=Yh.get(this)||this.topNode,s=new np(i);return s.moveTo(e,n),Yh.set(this,s._tree),s}get topNode(){return new Ni(this,0,0,null)}resolve(e,n=0){let r=wl(Yh.get(this)||this.topNode,e,n,!1);return Yh.set(this,r),r}resolveInner(e,n=0){let r=wl(uC.get(this)||this.topNode,e,n,!0);return uC.set(this,r),r}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e;for(let o=this.cursor((e.mode||0)|an.IncludeAnonymous);;){let a=!1;if(o.from<=s&&o.to>=i&&(o.type.isAnonymous||n(o)!==!1)){if(o.firstChild())continue;a=!0}for(;a&&r&&!o.type.isAnonymous&&r(o),!o.nextSibling();){if(!o.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:US(mr.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new un(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new un(mr.none,n,r,i)))}static build(e){return jH(e)}}un.empty=new un(mr.none,[],[],0);class $S{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new $S(this.buffer,this.index)}}class Jo{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return mr.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(ZR(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let u=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,u)}return new Jo(s,o,this.set)}}function ZR(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function eN(t,e){let n=t.childBefore(e);for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(t=n,n=r.prevSibling):n=r}return t}function wl(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof Ni&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:an.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof Ni&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class Ni{constructor(e,n,r,i){this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,u=n>0?a.length:-1;e!=u;e+=n){let c=a[e],h=l[e]+o.from;if(ZR(i,r,h,h+c.length)){if(c instanceof Jo){if(s&an.ExcludeBuffers)continue;let f=c.findChild(0,c.buffer.length,n,r-h,i);if(f>-1)return new ms(new $H(o,c,e,h),null,f)}else if(s&an.IncludeAnonymous||!c.type.isAnonymous||jS(c)){let f;if(!(s&an.IgnoreMounts)&&c.props&&(f=c.prop(Ie.mounted))&&!f.overlay)return new Ni(f.tree,h,e,o);let d=new Ni(c,h,e,o);return s&an.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(s&an.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&an.IgnoreOverlays)&&(i=this._tree.prop(Ie.mounted))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new Ni(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new np(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,n=0){return wl(this,e,n,!1)}resolveInner(e,n=0){return wl(this,e,n,!0)}enterUnfinishedNodesBefore(e){return eN(this,e)}getChild(e,n=null,r=null){let i=ep(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return ep(this,e,n,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return tp(this,e)}}function ep(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(;!i.type.is(n);)if(!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function tp(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class $H{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class ms{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new ms(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&an.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new ms(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ms(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new ms(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}cursor(e=0){return new np(this,e)}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new un(this.type,e,n,this.to-this.from)}resolve(e,n=0){return wl(this,e,n,!1)}resolveInner(e,n=0){return wl(this,e,n,!0)}enterUnfinishedNodesBefore(e){return eN(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,n=null,r=null){let i=ep(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return ep(this,e,n,r)}get node(){return this}matchContext(e){return tp(this,e)}}class np{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ni)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ni?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&an.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&an.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&an.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&an.IncludeAnonymous||a instanceof Jo||!a.type.isAnonymous||jS(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new ms(this.buffer,n,this.stack[i]);return this.bufferNode=new ms(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return tp(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return tp(this.node,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function jS(t){return t.children.some(e=>e instanceof Jo||!e.type.isAnonymous||jS(e))}function jH(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=LH,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new $S(n,n.length):n,l=r.types,u=0,c=0;function h(E,C,O,_,F){let{id:L,start:M,end:Z,size:Y}=a,ee=c;for(;Y<0;)if(a.next(),Y==-1){let V=s[L];O.push(V),_.push(M-E);return}else if(Y==-3){u=L;return}else if(Y==-4){c=L;return}else throw new RangeError(`Unrecognized record size: ${Y}`);let le=l[L],me,de,pe=M-E;if(Z-M<=i&&(de=w(a.pos-C,F))){let V=new Uint16Array(de.size-de.skip),G=a.pos-de.size,X=V.length;for(;a.pos>G;)X=x(de.start,V,X);me=new Jo(V,Z-de.start,r),pe=de.start-E}else{let V=a.pos-Y;a.next();let G=[],X=[],oe=L>=o?L:-1,fe=0,Tt=Z;for(;a.pos>V;)oe>=0&&a.id==oe&&a.size>=0?(a.end<=Tt-i&&(d(G,X,M,fe,a.end,Tt,oe,ee),fe=G.length,Tt=a.end),a.next()):h(M,V,G,X,oe);if(oe>=0&&fe>0&&fe<G.length&&d(G,X,M,fe,M,Tt,oe,ee),G.reverse(),X.reverse(),oe>-1&&fe>0){let Xe=f(le);me=US(le,G,X,0,G.length,0,Z-M,Xe,Xe)}else me=m(le,G,X,Z-M,ee-Z)}O.push(me),_.push(pe)}function f(E){return(C,O,_)=>{let F=0,L=C.length-1,M,Z;if(L>=0&&(M=C[L])instanceof un){if(!L&&M.type==E&&M.length==_)return M;(Z=M.prop(Ie.lookAhead))&&(F=O[L]+M.length+Z)}return m(E,C,O,_,F)}}function d(E,C,O,_,F,L,M,Z){let Y=[],ee=[];for(;E.length>_;)Y.push(E.pop()),ee.push(C.pop()+O-F);E.push(m(r.types[M],Y,ee,L-F,Z-L)),C.push(F-O)}function m(E,C,O,_,F=0,L){if(u){let M=[Ie.contextHash,u];L=L?[M].concat(L):[M]}if(F>25){let M=[Ie.lookAhead,F];L=L?[M].concat(L):[M]}return new un(E,C,O,_,L)}function w(E,C){let O=a.fork(),_=0,F=0,L=0,M=O.end-i,Z={size:0,start:0,skip:0};e:for(let Y=O.pos-E;O.pos>Y;){let ee=O.size;if(O.id==C&&ee>=0){Z.size=_,Z.start=F,Z.skip=L,L+=4,_+=4,O.next();continue}let le=O.pos-ee;if(ee<0||le<Y||O.start<M)break;let me=O.id>=o?4:0,de=O.start;for(O.next();O.pos>le;){if(O.size<0)if(O.size==-3)me+=4;else break e;else O.id>=o&&(me+=4);O.next()}F=de,_+=ee,L+=me}return(C<0||_==E)&&(Z.size=_,Z.start=F,Z.skip=L),Z.size>4?Z:void 0}function x(E,C,O){let{id:_,start:F,end:L,size:M}=a;if(a.next(),M>=0&&_<o){let Z=O;if(M>4){let Y=a.pos-(M-4);for(;a.pos>Y;)O=x(E,C,O)}C[--O]=Z,C[--O]=L-E,C[--O]=F-E,C[--O]=_}else M==-3?u=_:M==-4&&(c=_);return O}let v=[],y=[];for(;a.pos>0;)h(t.start||0,t.bufferStart||0,v,y,-1);let b=(e=t.length)!==null&&e!==void 0?e:v.length?y[0]+v[0].length:0;return new un(l[t.topID],v.reverse(),y.reverse(),b)}const cC=new WeakMap;function Nf(t,e){if(!t.isAnonymous||e instanceof Jo||e.type!=t)return 1;let n=cC.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof un)){n=1;break}n+=Nf(t,r)}cC.set(e,n)}return n}function US(t,e,n,r,i,s,o,a,l){let u=0;for(let m=r;m<i;m++)u+=Nf(t,e[m]);let c=Math.ceil(u*1.5/8),h=[],f=[];function d(m,w,x,v,y){for(let b=x;b<v;){let E=b,C=w[b],O=Nf(t,m[b]);for(b++;b<v;b++){let _=Nf(t,m[b]);if(O+_>=c)break;O+=_}if(b==E+1){if(O>c){let _=m[E];d(_.children,_.positions,0,_.children.length,w[E]+y);continue}h.push(m[E])}else{let _=w[b-1]+m[b-1].length-C;h.push(US(t,m,w,E,b,C,_,null,l))}f.push(C+y-s)}}return d(e,n,r,i,0),(a||l)(h,f,o)}class To{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new To(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let c=a<n.length?n[a]:null,h=c?c.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||u){let d=Math.max(f.from,l)-u,m=Math.min(f.to,h)-u;f=d>=m?null:new To(d,m,f.tree,f.offset+u,a>0,!!c)}if(f&&i.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}class UH{startParse(e,n,r){return typeof e=="string"&&(e=new VH(e)),r=r?r.length?r.map(i=>new xy(i.from,i.to)):[new xy(0,0)]:[new xy(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}}class VH{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new Ie({perNode:!0});let zH=0;class Kr{constructor(e,n,r){this.set=e,this.base=n,this.modified=r,this.id=zH++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new Kr([],null,[]);if(n.set.push(n),e)for(let r of e.set)n.set.push(r);return n}static defineModifier(){let e=new rp;return n=>n.modified.indexOf(e)>-1?n:rp.get(n.base||n,n.modified.concat(e).sort((r,i)=>r.id-i.id))}}let HH=0;class rp{constructor(){this.instances=[],this.id=HH++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&WH(n,a.modified));if(r)return r;let i=[],s=new Kr(i,e,n);for(let a of n)a.instances.push(s);let o=KH(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(rp.get(a,l));return s}}function WH(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function KH(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function qH(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let h=0;;){if(a=="..."&&h>0&&h+3==i.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+i);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==i.length)break;let d=i[h++];if(h==i.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);a=i.slice(h)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new ip(r,o,l>0?s.slice(0,l):null);e[u]=c.sort(e[u])}}return tN.add(e)}const tN=new Ie;class ip{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}ip.empty=new ip([],2,null);function nN(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let u=n[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:r}}function GH(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function QH(t,e,n,r=0,i=t.length){let s=new YH(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class YH{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(o)));let u=i,c=XH(e)||ip.empty,h=GH(s,c.tags);if(h&&(u&&(u+=" "),u+=h,c.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(e.from,u),c.opaque)return;let f=e.tree&&e.tree.prop(Ie.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+a,1),m=this.highlighters.filter(x=>!x.scope||x.scope(f.tree.type)),w=e.firstChild();for(let x=0,v=a;;x++){let y=x<f.overlay.length?f.overlay[x]:null,b=y?y.from+a:l,E=Math.max(n,v),C=Math.min(r,b);if(E<C&&w)for(;e.from<C&&(this.highlightRange(e,E,C,i,s),this.startSpan(Math.min(C,e.to),u),!(e.to>=b||!e.nextSibling())););if(!y||b>r)break;v=y.to+a,v>n&&(this.highlightRange(d.cursor(),Math.max(n,y.from+a),Math.min(r,v),i,m),this.startSpan(v,u))}w&&e.parent()}else if(e.firstChild()){do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function XH(t){let e=t.type.prop(tN);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Q=Kr.define,Xh=Q(),Zi=Q(),hC=Q(Zi),fC=Q(Zi),es=Q(),Jh=Q(es),by=Q(es),Hr=Q(),to=Q(Hr),Ur=Q(),Vr=Q(),n1=Q(),Jl=Q(n1),Zh=Q(),B={comment:Xh,lineComment:Q(Xh),blockComment:Q(Xh),docComment:Q(Xh),name:Zi,variableName:Q(Zi),typeName:hC,tagName:Q(hC),propertyName:fC,attributeName:Q(fC),className:Q(Zi),labelName:Q(Zi),namespace:Q(Zi),macroName:Q(Zi),literal:es,string:Jh,docString:Q(Jh),character:Q(Jh),attributeValue:Q(Jh),number:by,integer:Q(by),float:Q(by),bool:Q(es),regexp:Q(es),escape:Q(es),color:Q(es),url:Q(es),keyword:Ur,self:Q(Ur),null:Q(Ur),atom:Q(Ur),unit:Q(Ur),modifier:Q(Ur),operatorKeyword:Q(Ur),controlKeyword:Q(Ur),definitionKeyword:Q(Ur),moduleKeyword:Q(Ur),operator:Vr,derefOperator:Q(Vr),arithmeticOperator:Q(Vr),logicOperator:Q(Vr),bitwiseOperator:Q(Vr),compareOperator:Q(Vr),updateOperator:Q(Vr),definitionOperator:Q(Vr),typeOperator:Q(Vr),controlOperator:Q(Vr),punctuation:n1,separator:Q(n1),bracket:Jl,angleBracket:Q(Jl),squareBracket:Q(Jl),paren:Q(Jl),brace:Q(Jl),content:Hr,heading:to,heading1:Q(to),heading2:Q(to),heading3:Q(to),heading4:Q(to),heading5:Q(to),heading6:Q(to),contentSeparator:Q(Hr),list:Q(Hr),quote:Q(Hr),emphasis:Q(Hr),strong:Q(Hr),link:Q(Hr),monospace:Q(Hr),strikethrough:Q(Hr),inserted:Q(),deleted:Q(),changed:Q(),invalid:Q(),meta:Zh,documentMeta:Q(Zh),annotation:Q(Zh),processingInstruction:Q(Zh),definition:Kr.defineModifier(),constant:Kr.defineModifier(),function:Kr.defineModifier(),standard:Kr.defineModifier(),local:Kr.defineModifier(),special:Kr.defineModifier()};nN([{tag:B.link,class:"tok-link"},{tag:B.heading,class:"tok-heading"},{tag:B.emphasis,class:"tok-emphasis"},{tag:B.strong,class:"tok-strong"},{tag:B.keyword,class:"tok-keyword"},{tag:B.atom,class:"tok-atom"},{tag:B.bool,class:"tok-bool"},{tag:B.url,class:"tok-url"},{tag:B.labelName,class:"tok-labelName"},{tag:B.inserted,class:"tok-inserted"},{tag:B.deleted,class:"tok-deleted"},{tag:B.literal,class:"tok-literal"},{tag:B.string,class:"tok-string"},{tag:B.number,class:"tok-number"},{tag:[B.regexp,B.escape,B.special(B.string)],class:"tok-string2"},{tag:B.variableName,class:"tok-variableName"},{tag:B.local(B.variableName),class:"tok-variableName tok-local"},{tag:B.definition(B.variableName),class:"tok-variableName tok-definition"},{tag:B.special(B.variableName),class:"tok-variableName2"},{tag:B.definition(B.propertyName),class:"tok-propertyName tok-definition"},{tag:B.typeName,class:"tok-typeName"},{tag:B.namespace,class:"tok-namespace"},{tag:B.className,class:"tok-className"},{tag:B.macroName,class:"tok-macroName"},{tag:B.propertyName,class:"tok-propertyName"},{tag:B.operator,class:"tok-operator"},{tag:B.comment,class:"tok-comment"},{tag:B.meta,class:"tok-meta"},{tag:B.invalid,class:"tok-invalid"},{tag:B.punctuation,class:"tok-punctuation"}]);var ky;const sp=new Ie;class Zr{constructor(e,n,r=[]){this.data=e,ke.prototype.hasOwnProperty("tree")||Object.defineProperty(ke.prototype,"tree",{get(){return pn(this)}}),this.parser=n,this.extension=[qs.of(this),ke.languageData.of((i,s,o)=>i.facet(dC(i,s,o)))].concat(r)}isActiveAt(e,n,r=-1){return dC(e,n,r)==this.data}findRegions(e){let n=e.facet(qs);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(sp)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Ie.mounted);if(a){if(a.tree.prop(sp)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof un&&i(u,s.positions[l]+o)}};return i(pn(e),0),r}get allowsNesting(){return!0}}Zr.setState=we.define();function dC(t,e,n){let r=t.facet(qs);if(!r)return null;let i=r.data;if(r.allowsNesting)for(let s=pn(t).topNode;s;s=s.enter(e,n,an.ExcludeBuffers))i=s.type.prop(sp)||i;return i}function pn(t){let e=t.field(Zr.state,!1);return e?e.tree:un.empty}class JH{constructor(e,n=e.length){this.doc=e,this.length=n,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Zl=null;class op{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new op(e,n,[],un.empty,0,r,[],null)}startParse(){return this.parser.startParse(new JH(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=un.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(To.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(To.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Zl;Zl=this;try{return e()}finally{Zl=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=pC(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,h,f)=>l.push({fromA:u,toA:c,fromB:h,toB:f})),r=To.applyChanges(r,l),i=un.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),h=e.mapPos(u.to,-1);c<h&&a.push({from:c,to:h})}}}return new op(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=pC(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends UH{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Zl;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new un(mr.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Zl}}function pC(t,e,n){return To.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Sl{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Sl(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=op.create(e.facet(qs).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Sl(r)}}Zr.state=Qt.define({create:Sl.init,update(t,e){for(let n of e.effects)if(n.is(Zr.setState))return n.value;return e.startState.facet(qs)!=e.state.facet(qs)?Sl.init(e.state):t.apply(e)}});let rN=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(rN=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Ey=typeof navigator<"u"&&(!((ky=navigator.scheduling)===null||ky===void 0)&&ky.isInputPending)?()=>navigator.scheduling.isInputPending():null,ZH=wt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Zr.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Zr.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=rN(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Zr.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Ey?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>Ey&&Ey()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Zr.setState.of(new Sl(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>dr(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),qs=se.define({combine(t){return t.length?t[0]:null},enables:[Zr.state,ZH]}),eW=se.define(),zg=se.define({combine:t=>{if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}});function ap(t){let e=t.facet(zg);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Ec(t,e){let n="",r=t.tabSize;if(t.facet(zg).charCodeAt(0)==9)for(;e>=r;)n+="	",e-=r;for(let i=0;i<e;i++)n+=" ";return n}function VS(t,e){t instanceof ke&&(t=new Hg(t));for(let r of t.state.facet(eW)){let i=r(t,e);if(i!=null)return i}let n=pn(t.state);return n?nW(t,n,e):null}class Hg{constructor(e,n={}){this.state=e,this.options=n,this.unit=ap(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return th(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const tW=new Ie;function nW(t,e,n){return iN(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,t)}function rW(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function iW(t){let e=t.type.prop(tW);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Ie.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>lW(o,!0,1,void 0,s&&!rW(o)?i.from:void 0)}return t.parent==null?sW:null}function iN(t,e,n){for(;t;t=t.parent){let r=iW(t);if(r)return r(zS.create(n,e,t))}return null}function sW(){return 0}class zS extends Hg{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.node=r}static create(e,n,r){return new zS(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let n=this.node.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(oW(n,this.node))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?iN(e,this.pos,this.base):0}}function oW(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function aW(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<o?n:null;a=l.to}}function lW(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=e?aW(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const uW=200;function cW(){return ke.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+uW)return t;let s=n.sliceString(i.from,r);if(!e.some(u=>u.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:u}of o.selection.ranges){let c=o.doc.lineAt(u);if(c.from==a)continue;a=c.from;let h=VS(o,c.from);if(h==null)continue;let f=/^\s*/.exec(c.text)[0],d=Ec(o,h);f!=d&&l.push({from:c.from,to:c.from+f.length,insert:d})}return l.length?[t,{changes:l,sequential:!0}]:t})}const hW=se.define(),fW=new Ie;function dW(t,e,n){let r=pn(t);if(r.length<n)return null;let i=r.resolveInner(n),s=null;for(let o=i;o;o=o.parent){if(o.to<=n||o.from>n)continue;if(s&&o.from<e)break;let a=o.type.prop(fW);if(a&&(o.to<r.length-50||r.length==t.doc.length||!pW(o))){let l=a(o,t);l&&l.from<=n&&l.from>=e&&l.to>n&&(s=l)}}return s}function pW(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function lp(t,e,n){for(let r of t.facet(hW)){let i=r(t,e,n);if(i)return i}return dW(t,e,n)}function sN(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Wg=we.define({map:sN}),ih=we.define({map:sN});function oN(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const zo=Qt.define({create(){return ue.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)n.is(Wg)&&!gW(t,n.value.from,n.value.to)?t=t.update({add:[bW.range(n.value.from,n.value.to)]}):n.is(ih)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(i,s)=>{i<r&&s>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return t},provide:t=>re.decorations.from(t)});function up(t,e,n){var r;let i=null;return(r=t.field(zo,!1))===null||r===void 0||r.between(e,n,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function gW(t,e,n){let r=!1;return t.between(e,e,(i,s)=>{i==e&&s==n&&(r=!0)}),r}function aN(t,e){return t.field(zo,!1)?e:e.concat(we.appendConfig.of(cN()))}const mW=t=>{for(let e of oN(t)){let n=lp(t.state,e.from,e.to);if(n)return t.dispatch({effects:aN(t.state,[Wg.of(n),lN(t,n)])}),!0}return!1},yW=t=>{if(!t.state.field(zo,!1))return!1;let e=[];for(let n of oN(t)){let r=up(t.state,n.from,n.to);r&&e.push(ih.of(r),lN(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function lN(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return re.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const vW=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=lp(e,i.from,i.to);s&&n.push(Wg.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:aN(t.state,n)}),!!n.length},wW=t=>{let e=t.state.field(zo,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(ih.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},SW=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:mW},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:yW},{key:"Ctrl-Alt-[",run:vW},{key:"Ctrl-Alt-]",run:wW}],xW={placeholderDOM:null,placeholderText:"…"},uN=se.define({combine(t){return gi(t,xW)}});function cN(t){let e=[zo,CW];return t&&e.push(uN.of(t)),e}const bW=ue.replace({widget:new class extends Gi{toDOM(t){let{state:e}=t,n=e.facet(uN),r=s=>{let o=t.lineBlockAt(t.posAtDOM(s.target)),a=up(t.state,o.from,o.to);a&&t.dispatch({effects:ih.of(a)}),s.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,r);let i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",e.phrase("folded code")),i.title=e.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}}),kW={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Cy extends Hi{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function EW(t={}){let e=Object.assign(Object.assign({},kW),t),n=new Cy(e,!0),r=new Cy(e,!1),i=wt.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(qs)!=o.state.facet(qs)||o.startState.field(zo,!1)!=o.state.field(zo,!1)||pn(o.startState)!=pn(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new zs;for(let l of o.viewportLineBlocks){let u=up(o.state,l.from,l.to)?r:lp(o.state,l.from,l.to)?n:null;u&&a.add(l.from,l.from,u)}return a.finish()}}),{domEventHandlers:s}=e;return[i,TH({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||Pe.empty},initialSpacer(){return new Cy(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let u=up(o.state,a.from,a.to);if(u)return o.dispatch({effects:ih.of(u)}),!0;let c=lp(o.state,a.from,a.to);return c?(o.dispatch({effects:Wg.of(c)}),!0):!1}})}),cN()]}const CW=re.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class sh{constructor(e,n){let r;function i(a){let l=Hs.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof Zr?a=>a.prop(sp)==o.data:o?a=>a==o:void 0,this.style=nN(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Hs(r):null,this.themeType=n.themeType}static define(e,n){return new sh(e,n||{})}}const r1=se.define(),hN=se.define({combine(t){return t.length?[t[0]]:null}});function Ty(t){let e=t.facet(r1);return e.length?e:t.facet(hN)}function fN(t,e){let n=[AW],r;return t instanceof sh&&(t.module&&n.push(re.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(hN.of(t)):r?n.push(r1.computeN([re.darkTheme],i=>i.facet(re.darkTheme)==(r=="dark")?[t]:[])):n.push(r1.of(t)),n}class TW{constructor(e){this.markCache=Object.create(null),this.tree=pn(e.state),this.decorations=this.buildDeco(e,Ty(e.state))}update(e){let n=pn(e.state),r=Ty(e.state),i=r!=Ty(e.startState);n.length<e.view.viewport.to&&!i&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,n){if(!n||!this.tree.length)return ue.none;let r=new zs;for(let{from:i,to:s}of e.visibleRanges)QH(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=ue.mark({class:l})))},i,s);return r.finish()}}const AW=Bl.high(wt.fromClass(TW,{decorations:t=>t.decorations})),IW=sh.define([{tag:B.meta,color:"#7a757a"},{tag:B.link,textDecoration:"underline"},{tag:B.heading,textDecoration:"underline",fontWeight:"bold"},{tag:B.emphasis,fontStyle:"italic"},{tag:B.strong,fontWeight:"bold"},{tag:B.strikethrough,textDecoration:"line-through"},{tag:B.keyword,color:"#708"},{tag:[B.atom,B.bool,B.url,B.contentSeparator,B.labelName],color:"#219"},{tag:[B.literal,B.inserted],color:"#164"},{tag:[B.string,B.deleted],color:"#a11"},{tag:[B.regexp,B.escape,B.special(B.string)],color:"#e40"},{tag:B.definition(B.variableName),color:"#00f"},{tag:B.local(B.variableName),color:"#30a"},{tag:[B.typeName,B.namespace],color:"#085"},{tag:B.className,color:"#167"},{tag:[B.special(B.variableName),B.macroName],color:"#256"},{tag:B.definition(B.propertyName),color:"#00c"},{tag:B.comment,color:"#940"},{tag:B.invalid,color:"#f00"}]),OW=re.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),dN=1e4,pN="()[]{}",gN=se.define({combine(t){return gi(t,{afterCursor:!0,brackets:pN,maxScanDistance:dN,renderMatch:RW})}}),_W=ue.mark({class:"cm-matchingBracket"}),PW=ue.mark({class:"cm-nonmatchingBracket"});function RW(t){let e=[],n=t.matched?_W:PW;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const NW=Qt.define({create(){return ue.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(gN);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=ei(e.state,i.head,-1,r)||i.head>0&&ei(e.state,i.head-1,1,r)||r.afterCursor&&(ei(e.state,i.head,1,r)||i.head<e.state.doc.length&&ei(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return ue.set(n,!0)},provide:t=>re.decorations.from(t)}),DW=[NW,OW];function MW(t={}){return[gN.of(t),DW]}function i1(t,e,n){let r=t.prop(e<0?Ie.openedBy:Ie.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function ei(t,e,n,r={}){let i=r.maxScanDistance||dN,s=r.brackets||pN,o=pn(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let u=i1(l.type,n,s);if(u&&l.from<l.to)return LW(t,e,n,l,u,s)}return BW(t,e,n,o,a.type,i,s)}function LW(t,e,n,r,i,s){let o=r.parent,a={from:r.from,to:r.to},l=0,u=o==null?void 0:o.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(l==0&&i.indexOf(u.type.name)>-1&&u.from<u.to)return{start:a,end:{from:u.from,to:u.to},matched:!0};if(i1(u.type,n,s))l++;else if(i1(u.type,-n,s)&&(l--,l==0))return{start:a,end:u.from==u.to?void 0:{from:u.from,to:u.to},matched:!1}}while(n<0?u.prevSibling():u.nextSibling());return{start:a,matched:!1}}function BW(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let f=0;!c.next().done&&f<=s;){let d=c.value;n<0&&(f+=d.length);let m=e+f*n;for(let w=n>0?0:d.length-1,x=n>0?d.length:-1;w!=x;w+=n){let v=o.indexOf(d[w]);if(!(v<0||r.resolve(m+w,1).type!=i))if(v%2==0==n>0)h++;else{if(h==1)return{start:u,end:{from:m+w,to:m+w+1},matched:v>>1==l>>1};h--}}n>0&&(f+=d.length)}return c.done?{start:u,matched:!1}:null}const FW=Object.create(null),gC=[mr.none],mC=[],$W=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","typeName"],["attribute","propertyName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])$W[t]=jW(FW,e);function Ay(t,e){mC.indexOf(t)>-1||(mC.push(t),console.warn(e))}function jW(t,e){let n=null;for(let s of e.split(".")){let o=t[s]||B[s];o?typeof o=="function"?n?n=o(n):Ay(s,`Modifier ${s} used at start of tag`):n?Ay(s,`Tag ${s} used as modifier`):n=o:Ay(s,`Unknown highlighting tag ${s}`)}if(!n)return 0;let r=e.replace(/ /g,"_"),i=mr.define({id:gC.length,name:r,props:[qH({[r]:n})]});return gC.push(i),i.id}const UW=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=WS(t.state,n.from);return r.line?VW(t):r.block?HW(t):!1};function HS(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const VW=HS(qW,0),zW=HS(mN,0),HW=HS((t,e)=>mN(t,e,KW(e)),0);function WS(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const eu=50;function WW(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-eu,r),o=t.sliceDoc(i,i+eu),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,u=s.length-a;if(s.slice(u-e.length,u)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let c,h;i-r<=2*eu?c=h=t.sliceDoc(r,i):(c=t.sliceDoc(r,r+eu),h=t.sliceDoc(i-eu,i));let f=/^\s*/.exec(c)[0].length,d=/\s*$/.exec(h)[0].length,m=h.length-d-n.length;return c.slice(f,f+e.length)==e&&h.slice(m,m+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(c.charAt(f+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(h.charAt(m-1))?1:0}}:null}function KW(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function mN(t,e,n=e.selection.ranges){let r=n.map(s=>WS(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>WW(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:u,close:c}=a;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:s}}return null}function qW(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of n){let a=r.length,l=1e9,u=WS(e,s).line;if(u){for(let c=s;c<=o;){let h=e.doc.lineAt(c);if(h.from>i&&(s==o||o>h.from)){i=h.from;let f=/^\s*/.exec(h.text)[0].length,d=f==h.length,m=h.text.slice(f,f+u.length)==u?f:-1;f<h.text.length&&f<l&&(l=f),r.push({line:h,comment:m,token:u,indent:f,empty:d,single:!1})}c=h.to+1}if(l<1e9)for(let c=a;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:u,empty:c,single:h}of r)(h||!c)&&s.push({from:a.from+u,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let u=o.from+a,c=u+l.length;o.text[c-o.from]==" "&&c++,s.push({from:u,to:c})}return{changes:s}}return null}const s1=pi.define(),GW=pi.define(),QW=se.define(),yN=se.define({combine(t){return gi(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}});function YW(t){let e=0;return t.iterChangedRanges((n,r)=>e=r),e}const vN=Qt.define({create(){return ti.empty},update(t,e){let n=e.state.facet(yN),r=e.annotation(s1);if(r){let l=e.docChanged?U.single(YW(e.changes)):void 0,u=Dn.fromTransaction(e,l),c=r.side,h=c==0?t.undone:t.done;return u?h=cp(h,h.length,n.minDepth,u):h=xN(h,e.startState.selection),new ti(c==0?r.rest:h,c==0?h:r.rest)}let i=e.annotation(GW);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Et.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Dn.fromTransaction(e),o=e.annotation(Et.time),a=e.annotation(Et.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new ti(t.done.map(Dn.fromJSON),t.undone.map(Dn.fromJSON))}});function XW(t={}){return[vN,yN.of(t),re.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?wN:e.inputType=="historyRedo"?o1:null;return r?(e.preventDefault(),r(n)):!1}})]}function Kg(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(vN,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const wN=Kg(0,!1),o1=Kg(1,!1),JW=Kg(0,!0),ZW=Kg(1,!0);class Dn{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new Dn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Dn(e.changes&&bt.fromJSON(e.changes),[],e.mapped&&ui.fromJSON(e.mapped),e.startSelection&&U.fromJSON(e.startSelection),e.selectionsAfter.map(U.fromJSON))}static fromTransaction(e,n){let r=hr;for(let i of e.startState.facet(QW)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new Dn(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,hr)}static selection(e){return new Dn(void 0,hr,void 0,void 0,e)}}function cp(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function e7(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let u=n[l++],c=n[l++];a>=u&&o<=c&&(r=!0)}}),r}function t7(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function SN(t,e){return t.length?e.length?t.concat(e):t:e}const hr=[],n7=200;function xN(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-n7));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),cp(t,t.length-1,1e9,n.setSelAfter(r)))}else return[Dn.selection([e])]}function r7(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Iy(t,e){if(!t.length)return t;let n=t.length,r=hr;for(;n;){let i=i7(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Dn.selection(r)]:hr}function i7(t,e,n){let r=SN(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):hr,n);if(!t.changes)return Dn.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new Dn(i,we.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const s7=/^(input\.type|delete)($|\.)/;class ti{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new ti(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||s7.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,e7(a.changes,e.changes))||r=="input.type.compose")?o=cp(o,o.length-1,i.minDepth,new Dn(e.changes.compose(a.changes),SN(e.effects,a.effects),a.mapped,a.startSelection,hr)):o=cp(o,o.length,i.minDepth,e),new ti(o,hr,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:hr;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&t7(s[s.length-1],e)?this:new ti(xN(this.done,e),this.undone,n,r)}addMapping(e){return new ti(Iy(this.done,e),Iy(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1];if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:s1.of({side:e,rest:r7(i)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=i.length==1?hr:i.slice(0,i.length-1);return s.mapped&&(o=Iy(o,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:s1.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}ti.empty=new ti(hr,hr);const o7=[{key:"Mod-z",run:wN,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:o1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:o1,preventDefault:!0},{key:"Mod-u",run:JW,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:ZW,preventDefault:!0}];function Fl(t,e){return U.create(t.ranges.map(e),t.mainIndex)}function mi(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Fr({state:t,dispatch:e},n){let r=Fl(t.selection,n);return r.eq(t.selection)?!1:(e(mi(t,r)),!0)}function qg(t,e){return U.cursor(e?t.to:t.from)}function bN(t,e){return Fr(t,n=>n.empty?t.moveByChar(n,e):qg(n,e))}function gn(t){return t.textDirectionAt(t.state.selection.main.head)==tt.LTR}const kN=t=>bN(t,!gn(t)),EN=t=>bN(t,gn(t));function CN(t,e){return Fr(t,n=>n.empty?t.moveByGroup(n,e):qg(n,e))}const a7=t=>CN(t,!gn(t)),l7=t=>CN(t,gn(t));function u7(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Gg(t,e,n){let r=pn(t).resolveInner(e.head),i=n?Ie.closedBy:Ie.openedBy;for(let l=e.head;;){let u=n?r.childAfter(l):r.childBefore(l);if(!u)break;u7(t,u,i)?r=u:l=n?u.to:u.from}let s=r.type.prop(i),o,a;return s&&(o=n?ei(t,r.from,1):ei(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,U.cursor(a,n?-1:1)}const c7=t=>Fr(t,e=>Gg(t.state,e,!gn(t))),h7=t=>Fr(t,e=>Gg(t.state,e,gn(t)));function TN(t,e){return Fr(t,n=>{if(!n.empty)return qg(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const AN=t=>TN(t,!1),IN=t=>TN(t,!0);function ON(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(re.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function _N(t,e){let n=ON(t),{state:r}=t,i=Fl(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):qg(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,u=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<u&&(s=re.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(mi(r,i),{effects:s}),!0}const yC=t=>_N(t,!1),a1=t=>_N(t,!0);function eo(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=U.cursor(r.from+s))}return i}const f7=t=>Fr(t,e=>eo(t,e,!0)),d7=t=>Fr(t,e=>eo(t,e,!1)),p7=t=>Fr(t,e=>eo(t,e,!gn(t))),g7=t=>Fr(t,e=>eo(t,e,gn(t))),m7=t=>Fr(t,e=>U.cursor(t.lineBlockAt(e.head).from,1)),y7=t=>Fr(t,e=>U.cursor(t.lineBlockAt(e.head).to,-1));function v7(t,e,n){let r=!1,i=Fl(t.selection,s=>{let o=ei(t,s.head,-1)||ei(t,s.head,1)||s.head>0&&ei(t,s.head-1,1)||s.head<t.doc.length&&ei(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return n?U.range(s.anchor,a):U.cursor(a)});return r?(e(mi(t,i)),!0):!1}const w7=({state:t,dispatch:e})=>v7(t,e,!1);function vr(t,e){let n=Fl(t.state.selection,r=>{let i=e(r);return U.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(mi(t.state,n)),!0)}function PN(t,e){return vr(t,n=>t.moveByChar(n,e))}const RN=t=>PN(t,!gn(t)),NN=t=>PN(t,gn(t));function DN(t,e){return vr(t,n=>t.moveByGroup(n,e))}const S7=t=>DN(t,!gn(t)),x7=t=>DN(t,gn(t)),b7=t=>vr(t,e=>Gg(t.state,e,!gn(t))),k7=t=>vr(t,e=>Gg(t.state,e,gn(t)));function MN(t,e){return vr(t,n=>t.moveVertically(n,e))}const LN=t=>MN(t,!1),BN=t=>MN(t,!0);function FN(t,e){return vr(t,n=>t.moveVertically(n,e,ON(t).height))}const vC=t=>FN(t,!1),wC=t=>FN(t,!0),E7=t=>vr(t,e=>eo(t,e,!0)),C7=t=>vr(t,e=>eo(t,e,!1)),T7=t=>vr(t,e=>eo(t,e,!gn(t))),A7=t=>vr(t,e=>eo(t,e,gn(t))),I7=t=>vr(t,e=>U.cursor(t.lineBlockAt(e.head).from)),O7=t=>vr(t,e=>U.cursor(t.lineBlockAt(e.head).to)),SC=({state:t,dispatch:e})=>(e(mi(t,{anchor:0})),!0),xC=({state:t,dispatch:e})=>(e(mi(t,{anchor:t.doc.length})),!0),bC=({state:t,dispatch:e})=>(e(mi(t,{anchor:t.selection.main.anchor,head:0})),!0),kC=({state:t,dispatch:e})=>(e(mi(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),_7=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),P7=({state:t,dispatch:e})=>{let n=Yg(t).map(({from:r,to:i})=>U.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:U.create(n),userEvent:"select"})),!0},R7=({state:t,dispatch:e})=>{let n=Fl(t.selection,r=>{var i;let s=pn(t).resolveInner(r.head,1);for(;!(s.from<r.from&&s.to>=r.to||s.to>r.to&&s.from<=r.from||!(!((i=s.parent)===null||i===void 0)&&i.parent));)s=s.parent;return U.range(s.to,s.from)});return e(mi(t,n)),!0},N7=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=U.create([n.main]):n.main.empty||(r=U.create([U.cursor(n.main.head)])),r?(e(mi(t,r)),!0):!1};function Qg(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(o);l<o?(n="delete.backward",l=ef(t,l,!1)):l>o&&(n="delete.forward",l=ef(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=ef(t,o,!1),a=ef(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:U.cursor(o)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?re.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function ef(t,e,n){if(t instanceof re)for(let r of t.state.facet(re.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const $N=(t,e)=>Qg(t,n=>{let{state:r}=t,i=r.doc.lineAt(n),s,o;if(!e&&n>i.from&&n<i.from+200&&!/[^ \t]/.test(s=i.text.slice(0,n-i.from))){if(s[s.length-1]=="	")return n-1;let a=th(s,r.tabSize),l=a%ap(r)||ap(r);for(let u=0;u<l&&s[s.length-1-u]==" ";u++)n--;o=n}else o=kn(i.text,n-i.from,e,e)+i.from,o==n&&i.number!=(e?r.doc.lines:1)&&(o+=e?1:-1);return o}),l1=t=>$N(t,!1),jN=t=>$N(t,!0),UN=(t,e)=>Qg(t,n=>{let r=n,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=kn(s.text,r-s.from,e)+s.from,u=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),c=o(u);if(a!=null&&c!=a)break;(u!=" "||r!=n)&&(a=c),r=l}return r}),VN=t=>UN(t,!1),D7=t=>UN(t,!0),zN=t=>Qg(t,e=>{let n=t.lineBlockAt(e).to;return e<n?n:Math.min(t.state.doc.length,e+1)}),M7=t=>Qg(t,e=>{let n=t.lineBlockAt(e).from;return e>n?n:Math.max(0,e-1)}),L7=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:_e.of(["",""])},range:U.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},B7=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:kn(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:kn(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:U.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Yg(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function HN(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of Yg(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(U.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(U.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:U.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const F7=({state:t,dispatch:e})=>HN(t,e,!1),$7=({state:t,dispatch:e})=>HN(t,e,!0);function WN(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of Yg(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const j7=({state:t,dispatch:e})=>WN(t,e,!1),U7=({state:t,dispatch:e})=>WN(t,e,!0),V7=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Yg(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=Fl(e.selection,i=>t.moveVertically(i,!0)).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function z7(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=pn(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(Ie.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from?{from:r.to,to:i.from}:null}const H7=KN(!1),W7=KN(!0);function KN(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&z7(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let u=new Hg(e,{simulateBreak:s,simulateDoubleBreak:!!l}),c=VS(u,s);for(c==null&&(c=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let h=["",Ec(e,c)];return l&&h.push(Ec(e,u.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:_e.of(h)},range:U.cursor(s+1+h[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function KS(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:U.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const K7=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Hg(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),i=KS(t,(s,o,a)=>{let l=VS(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],c=Ec(t,l);(u!=c||a.from<s.from+u.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+u.length,insert:c}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},qN=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(KS(t,(n,r)=>{r.push({from:n.from,insert:t.facet(zg)})}),{userEvent:"input.indent"})),!0),GN=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(KS(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=th(i,t.tabSize),o=0,a=Ec(t,Math.max(0,s-ap(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),q7=[{key:"Ctrl-b",run:kN,shift:RN,preventDefault:!0},{key:"Ctrl-f",run:EN,shift:NN},{key:"Ctrl-p",run:AN,shift:LN},{key:"Ctrl-n",run:IN,shift:BN},{key:"Ctrl-a",run:m7,shift:I7},{key:"Ctrl-e",run:y7,shift:O7},{key:"Ctrl-d",run:jN},{key:"Ctrl-h",run:l1},{key:"Ctrl-k",run:zN},{key:"Ctrl-Alt-h",run:VN},{key:"Ctrl-o",run:L7},{key:"Ctrl-t",run:B7},{key:"Ctrl-v",run:a1}],G7=[{key:"ArrowLeft",run:kN,shift:RN,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:a7,shift:S7,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:p7,shift:T7,preventDefault:!0},{key:"ArrowRight",run:EN,shift:NN,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:l7,shift:x7,preventDefault:!0},{mac:"Cmd-ArrowRight",run:g7,shift:A7,preventDefault:!0},{key:"ArrowUp",run:AN,shift:LN,preventDefault:!0},{mac:"Cmd-ArrowUp",run:SC,shift:bC},{mac:"Ctrl-ArrowUp",run:yC,shift:vC},{key:"ArrowDown",run:IN,shift:BN,preventDefault:!0},{mac:"Cmd-ArrowDown",run:xC,shift:kC},{mac:"Ctrl-ArrowDown",run:a1,shift:wC},{key:"PageUp",run:yC,shift:vC},{key:"PageDown",run:a1,shift:wC},{key:"Home",run:d7,shift:C7,preventDefault:!0},{key:"Mod-Home",run:SC,shift:bC},{key:"End",run:f7,shift:E7,preventDefault:!0},{key:"Mod-End",run:xC,shift:kC},{key:"Enter",run:H7},{key:"Mod-a",run:_7},{key:"Backspace",run:l1,shift:l1},{key:"Delete",run:jN},{key:"Mod-Backspace",mac:"Alt-Backspace",run:VN},{key:"Mod-Delete",mac:"Alt-Delete",run:D7},{mac:"Mod-Backspace",run:M7},{mac:"Mod-Delete",run:zN}].concat(q7.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Q7=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:c7,shift:b7},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:h7,shift:k7},{key:"Alt-ArrowUp",run:F7},{key:"Shift-Alt-ArrowUp",run:j7},{key:"Alt-ArrowDown",run:$7},{key:"Shift-Alt-ArrowDown",run:U7},{key:"Escape",run:N7},{key:"Mod-Enter",run:W7},{key:"Alt-l",mac:"Ctrl-l",run:P7},{key:"Mod-i",run:R7,preventDefault:!0},{key:"Mod-[",run:GN},{key:"Mod-]",run:qN},{key:"Mod-Alt-\\",run:K7},{key:"Shift-Mod-k",run:V7},{key:"Shift-Mod-\\",run:w7},{key:"Mod-/",run:UW},{key:"Alt-A",run:zW}].concat(G7),Y7={key:"Tab",run:qN,shift:GN};function Be(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)QN(t,arguments[e]);return t}function QN(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)QN(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const EC=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class xl{constructor(e,n,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(EC(a)):EC,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return zt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=IS(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=ur(e);let i=this.normalize(n);for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o);if(l)return this.value=l,this;if(s==i.length-1)break;o==r&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n){let r=null;for(let i=0;i<this.matches.length;i+=2){let s=this.matches[i],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?r={from:this.matches[i+1],to:n+1}:(this.matches[i]++,o=!0)),o||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:n,to:n+1}:this.matches.push(1,n)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferPos)&&(r=null),r}}typeof Symbol<"u"&&(xl.prototype[Symbol.iterator]=function(){return this});const YN={from:-1,to:-1,match:/.*/.exec("")},qS="gm"+(/x/.unicode==null?"":"u");class XN{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=YN,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new JN(e,n,r,i,s);this.re=new RegExp(n,qS+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=hp(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=hp(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Oy=new WeakMap;class Ga{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=Oy.get(e);if(!i||i.from>=r||i.to<=n){let a=new Ga(n,e.sliceString(n,r));return Oy.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:s,from:o}=i;return o>n&&(s=e.sliceString(n,o)+s,o=n),i.to<r&&(s+=e.sliceString(i.to,r)),Oy.set(e,new Ga(o,s)),new Ga(n,s.slice(n-o,r-o))}}class JN{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=YN,this.matchPos=hp(e,i),this.re=new RegExp(n,qS+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Ga.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=hp(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Ga.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(XN.prototype[Symbol.iterator]=JN.prototype[Symbol.iterator]=function(){return this});function X7(t){try{return new RegExp(t,qS),!0}catch{return!1}}function hp(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function u1(t){let e=Be("input",{class:"cm-textfield",name:"line"}),n=Be("form",{class:"cm-gotoLine",onkeydown:i=>{i.keyCode==27?(i.preventDefault(),t.dispatch({effects:fp.of(!1)}),t.focus()):i.keyCode==13&&(i.preventDefault(),r())},onsubmit:i=>{i.preventDefault(),r()}},Be("label",t.state.phrase("Go to line"),": ",e)," ",Be("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function r(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!i)return;let{state:s}=t,o=s.doc.lineAt(s.selection.main.head),[,a,l,u,c]=i,h=u?+u.slice(1):0,f=l?+l:o.number;if(l&&c){let m=f/100;a&&(m=m*(a=="-"?-1:1)+o.number/s.doc.lines),f=Math.round(s.doc.lines*m)}else l&&a&&(f=f*(a=="-"?-1:1)+o.number);let d=s.doc.line(Math.max(1,Math.min(s.doc.lines,f)));t.dispatch({effects:fp.of(!1),selection:U.cursor(d.from+Math.max(0,Math.min(h,d.length))),scrollIntoView:!0}),t.focus()}return{dom:n}}const fp=we.define(),CC=Qt.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(fp)&&(t=n.value);return t},provide:t=>kc.from(t,e=>e?u1:null)}),J7=t=>{let e=bc(t,u1);if(!e){let n=[fp.of(!0)];t.state.field(CC,!1)==null&&n.push(we.appendConfig.of([CC,Z7])),t.dispatch({effects:n}),e=bc(t,u1)}return e&&e.dom.querySelector("input").focus(),!0},Z7=re.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),eK={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},ZN=se.define({combine(t){return gi(t,eK,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function tK(t){let e=[oK,sK];return t&&e.push(ZN.of(t)),e}const nK=ue.mark({class:"cm-selectionMatch"}),rK=ue.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function TC(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=Ye.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=Ye.Word)}function iK(t,e,n,r){return t(e.sliceDoc(n,n+1))==Ye.Word&&t(e.sliceDoc(r-1,r))==Ye.Word}const sK=wt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(ZN),{state:n}=t,r=n.selection;if(r.ranges.length>1)return ue.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return ue.none;let l=n.wordAt(i.head);if(!l)return ue.none;o=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return ue.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(TC(o,n,i.from,i.to)&&iK(o,n,i.from,i.to)))return ue.none}else if(s=n.sliceDoc(i.from,i.to).trim(),!s)return ue.none}let a=[];for(let l of t.visibleRanges){let u=new xl(n.doc,s,l.from,l.to);for(;!u.next().done;){let{from:c,to:h}=u.value;if((!o||TC(o,n,c,h))&&(i.empty&&c<=i.from&&h>=i.to?a.push(rK.range(c,h)):(c>=i.to||h<=i.from)&&a.push(nK.range(c,h)),a.length>e.maxMatches))return ue.none}}return ue.set(a)}},{decorations:t=>t.decorations}),oK=re.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),aK=({state:t,dispatch:e})=>{let{selection:n}=t,r=U.create(n.ranges.map(i=>t.wordAt(i.head)||U.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function lK(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new xl(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new xl(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const uK=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return aK({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=lK(t,r);return i?(e(t.update({selection:t.selection.addRange(U.range(i.from,i.to),!1),effects:re.scrollIntoView(i.to)})),!0):!1},$l=se.define({combine(t){return gi(t,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new xK(e),scrollToMatch:e=>re.scrollIntoView(e)})}});class eD{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||X7(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new dK(this):new hK(this)}getCursor(e,n=0,r){let i=e.doc?e:ke.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?ca(this,i,n,r):ua(this,i,n,r)}}class tD{constructor(e){this.spec=e}}function ua(t,e,n,r){return new xl(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?cK(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function cK(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(dp(i,n-s))!=Ye.Word||e(pp(i,n-s))!=Ye.Word)&&(e(pp(i,r-s))!=Ye.Word||e(dp(i,r-s))!=Ye.Word))}class hK extends tD{constructor(e){super(e)}nextMatch(e,n,r){let i=ua(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=ua(this.spec,e,0,n).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),o=ua(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=ua(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=ua(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function ca(t,e,n,r){return new XN(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?fK(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function dp(t,e){return t.slice(kn(t,e,!1),e)}function pp(t,e){return t.slice(e,kn(t,e))}function fK(t){return(e,n,r)=>!r[0].length||(t(dp(r.input,r.index))!=Ye.Word||t(pp(r.input,r.index))!=Ye.Word)&&(t(pp(r.input,r.index+r[0].length))!=Ye.Word||t(dp(r.input,r.index+r[0].length))!=Ye.Word)}class dK extends tD{nextMatch(e,n,r){let i=ca(this.spec,e,r,e.doc.length).next();return i.done&&(i=ca(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),o=ca(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:n))}matchAll(e,n){let r=ca(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=ca(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Cc=we.define(),GS=we.define(),Ns=Qt.define({create(t){return new _y(c1(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Cc)?t=new _y(n.value.create(),t.panel):n.is(GS)&&(t=new _y(t.query,n.value?QS:null));return t},provide:t=>kc.from(t,e=>e.panel)});class _y{constructor(e,n){this.query=e,this.panel=n}}const pK=ue.mark({class:"cm-searchMatch"}),gK=ue.mark({class:"cm-searchMatch cm-searchMatch-selected"}),mK=wt.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Ns))}update(t){let e=t.state.field(Ns);(e!=t.startState.field(Ns)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return ue.none;let{view:n}=this,r=new zs;for(let i=0,s=n.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;t.highlight(n.state,a,l,(u,c)=>{let h=n.state.selection.ranges.some(f=>f.from==u&&f.to==c);r.add(u,c,h?gK:pK)})}return r.finish()}},{decorations:t=>t.decorations});function oh(t){return e=>{let n=e.state.field(Ns,!1);return n&&n.query.spec.valid?t(e,n):iD(e)}}const gp=oh((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=U.single(r.from,r.to),s=t.state.facet($l);return t.dispatch({selection:i,effects:[YS(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),rD(t),!0}),mp=oh((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=U.single(i.from,i.to),o=t.state.facet($l);return t.dispatch({selection:s,effects:[YS(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),rD(t),!0}),yK=oh((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:U.create(n.map(r=>U.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),vK=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let a=new xl(t.doc,t.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(U.range(a.value.from,a.value.to))}return e(t.update({selection:U.create(s,o),userEvent:"select.search.matches"})),!0},AC=oh((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o=[],a,l,u=[];if(s.from==r&&s.to==i&&(l=n.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(n,s.from,s.to),u.push(re.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),s){let c=o.length==0||o[0].from>=s.to?0:s.to-s.from-l.length;a=U.single(s.from-c,s.to-c),u.push(YS(t,s)),u.push(n.facet($l).scrollToMatch(a.main,t))}return t.dispatch({changes:o,selection:a,effects:u,userEvent:"input.replace"}),!0}),wK=oh((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:re.announce.of(r),userEvent:"input.replace.all"}),!0});function QS(t){return t.state.facet($l).createPanel(t)}function c1(t,e){var n,r,i,s;let o=t.selection.main,a=o.empty||o.to>o.from+100?"":t.sliceDoc(o.from,o.to);if(e&&!a)return e;let l=t.facet($l);return new eD({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:l.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:l.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:l.literal,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:l.wholeWord})}function nD(t){let e=bc(t,QS);return e&&e.dom.querySelector("[main-field]")}function rD(t){let e=nD(t);e&&e==t.root.activeElement&&e.select()}const iD=t=>{let e=t.state.field(Ns,!1);if(e&&e.panel){let n=nD(t);if(n&&n!=t.root.activeElement){let r=c1(t.state,e.query.spec);r.valid&&t.dispatch({effects:Cc.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[GS.of(!0),e?Cc.of(c1(t.state,e.query.spec)):we.appendConfig.of(kK)]});return!0},sD=t=>{let e=t.state.field(Ns,!1);if(!e||!e.panel)return!1;let n=bc(t,QS);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:GS.of(!1)}),!0},SK=[{key:"Mod-f",run:iD,scope:"editor search-panel"},{key:"F3",run:gp,shift:mp,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:gp,shift:mp,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:sD,scope:"editor search-panel"},{key:"Mod-Shift-l",run:vK},{key:"Alt-g",run:J7},{key:"Mod-d",run:uK,preventDefault:!0}];class xK{constructor(e){this.view=e;let n=this.query=e.state.field(Ns).query.spec;this.commit=this.commit.bind(this),this.searchField=Be("input",{value:n.search,placeholder:Vn(e,"Find"),"aria-label":Vn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Be("input",{value:n.replace,placeholder:Vn(e,"Replace"),"aria-label":Vn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Be("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=Be("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=Be("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,o){return Be("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=Be("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>gp(e),[Vn(e,"next")]),r("prev",()=>mp(e),[Vn(e,"previous")]),r("select",()=>yK(e),[Vn(e,"all")]),Be("label",null,[this.caseField,Vn(e,"match case")]),Be("label",null,[this.reField,Vn(e,"regexp")]),Be("label",null,[this.wordField,Vn(e,"by word")]),...e.state.readOnly?[]:[Be("br"),this.replaceField,r("replace",()=>AC(e),[Vn(e,"replace")]),r("replaceAll",()=>wK(e),[Vn(e,"replace all")])],Be("button",{name:"close",onclick:()=>sD(e),"aria-label":Vn(e,"close"),type:"button"},["×"])])}commit(){let e=new eD({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Cc.of(e)}))}keydown(e){Lz(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?mp:gp)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),AC(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(Cc)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet($l).top}}function Vn(t,e){return t.state.phrase(e)}const tf=30,nf=/[\s\.,:;?!]/;function YS(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-tf),o=Math.min(i,n+tf),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<tf;l++)if(!nf.test(a[l+1])&&nf.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-tf;l--)if(!nf.test(a[l-1])&&nf.test(a[l])){a=a.slice(0,l);break}}return re.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const bK=re.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),kK=[Ns,Bl.lowest(mK),bK];class oD{constructor(e,n,r){this.state=e,this.pos=n,this.explicit=r,this.abortListeners=[]}tokenBefore(e){let n=pn(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(aD(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function IC(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function EK(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=IC(e)+IC(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function CK(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:EK(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}class OC{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function Ds(t){return t.selection.main.from}function aD(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const TK=pi.define();function AK(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return Object.assign(Object.assign({},t.changeByRange(a=>a!=i&&n!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,r)?{range:a}:{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:e},range:U.cursor(a.from+s+e.length)})),{userEvent:"input.complete"})}const _C=new WeakMap;function IK(t){if(!Array.isArray(t))return t;let e=_C.get(t);return e||_C.set(t,e=CK(t)),e}const XS=we.define(),Tc=we.define();class OK{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let n=0;n<e.length;){let r=zt(e,n),i=ur(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(zt(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[-100];if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let y=zt(e,0),b=ur(y),E=b==e.length?0:-100;if(y!=n[0])if(y==r[0])E+=-200;else return null;return[E,0,b]}let a=e.indexOf(this.pattern);if(a==0)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let l=n.length,u=0;if(a<0){for(let y=0,b=Math.min(e.length,200);y<b&&u<l;){let E=zt(e,y);(E==n[u]||E==r[u])&&(i[u++]=y),y+=ur(E)}if(u<l)return null}let c=0,h=0,f=!1,d=0,m=-1,w=-1,x=/[a-z]/.test(e),v=!0;for(let y=0,b=Math.min(e.length,200),E=0;y<b&&h<l;){let C=zt(e,y);a<0&&(c<l&&C==n[c]&&(s[c++]=y),d<l&&(C==n[d]||C==r[d]?(d==0&&(m=y),w=y+1,d++):d=0));let O,_=C<255?C>=48&&C<=57||C>=97&&C<=122?2:C>=65&&C<=90?1:0:(O=IS(C))!=O.toLowerCase()?1:O!=O.toUpperCase()?2:0;(!y||_==1&&x||E==0&&_!=0)&&(n[h]==C||r[h]==C&&(f=!0)?o[h++]=y:o.length&&(v=!1)),E=_,y+=ur(C)}return h==l&&o[0]==0&&v?this.result(-100+(f?-200:0),o,e):d==l&&m==0?[-200-e.length+(w==e.length?0:-100),0,w]:a>-1?[-700-e.length,a,a+this.pattern.length]:d==l?[-200+-700-e.length,m,w]:h==l?this.result(-100+(f?-200:0)+-700+(v?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[e-r.length],s=1;for(let o of n){let a=o+(this.astral?ur(zt(r,o)):1);s>1&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return i}}const Mn=se.define({combine(t){return gi(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:_K,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>PC(e(r),n(r)),optionClass:(e,n)=>r=>PC(e(r),n(r)),addToOptions:(e,n)=>e.concat(n)})}});function PC(t,e){return t?e?t+" "+e:t:e}function _K(t,e,n,r,i){let s=t.textDirection==tt.RTL,o=s,a=!1,l="top",u,c,h=e.left-i.left,f=i.right-e.right,d=r.right-r.left,m=r.bottom-r.top;if(o&&h<Math.min(d,f)?o=!1:!o&&f<Math.min(d,h)&&(o=!0),d<=(o?h:f))u=Math.max(i.top,Math.min(n.top,i.bottom-m))-e.top,c=Math.min(400,o?h:f);else{a=!0,c=Math.min(400,(s?e.right:i.right-e.left)-30);let w=i.bottom-e.bottom;w>=m||w>e.top?u=n.bottom-e.top:(l="bottom",u=e.bottom-n.top)}return{style:`${l}: ${u}px; max-width: ${c}px`,class:"cm-completionInfo-"+(a?s?"left-narrow":"right-narrow":o?"left":"right")}}function rf(t,e="option"){return n=>{let r=n.state.field(Wn,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Mn).interactionDelay)return!1;let i=1,s;e=="page"&&(s=QR(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:cD.of(a)}),!0}}const PK=t=>{let e=t.state.field(Wn,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<t.state.facet(Mn).interactionDelay?!1:e.open.disabled?!0:lD(t,e.open.options[e.open.selected])},RK=t=>t.state.field(Wn,!1)?(t.dispatch({effects:XS.of(!0)}),!0):!1,NK=t=>{let e=t.state.field(Wn,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Tc.of(null)}),!0)};class DK{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const RC=50,MK=50,LK=1e3,BK=wt.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(Wn).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(Wn);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Wn)==e)return;let n=t.transactions.some(r=>(r.selection||r.docChanged)&&!h1(r));for(let r=0;r<this.running.length;r++){let i=this.running[r];if(n||i.updates.length+t.transactions.length>MK&&Date.now()-i.time>LK){for(let s of i.context.abortListeners)try{s()}catch(o){dr(this.view.state,o)}i.context.abortListeners=null,this.running.splice(r--,1)}else i.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(r=>r.state==1&&!this.running.some(i=>i.active.source==r.source))?setTimeout(()=>this.startUpdate(),RC):-1,this.composing!=0)for(let r of t.transactions)h1(r)=="input"?this.composing=2:this.composing==2&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(Wn);for(let n of e.active)n.state==1&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=Ds(e),r=new oD(e,n,t.explicitPos==n),i=new DK(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Tc.of(null)}),dr(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),RC))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Mn);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let o=new Qa(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:Ds(i.updates.length?i.updates[0].startState:this.view.state));for(let a of i.updates)o=o.update(a,n);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(Wn).active.find(o=>o.source==i.active.source);if(s&&s.state==1)if(i.done==null){let o=new Rn(i.active.source,0);for(let a of i.updates)o=o.update(a,n);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:uD.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Wn,!1);if(e&&e.tooltip&&this.view.state.facet(Mn).closeOnBlur){let n=e.open&&QR(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&this.view.dispatch({effects:Tc.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:XS.of(!1)}),20),this.composing=0}}});function lD(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Wn).active.find(i=>i.source==e.source);return r instanceof Qa?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},AK(t.state,n,r.from,r.to)),{annotations:TK.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}function FK(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i){let s=document.createElement("span");s.className="cm-completionLabel";let{label:o}=n,a=0;for(let l=1;l<i.length;){let u=i[l++],c=i[l++];u>a&&s.appendChild(document.createTextNode(o.slice(a,u)));let h=s.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(o.slice(u,c))),h.className="cm-completionMatchedText",a=c}return a<o.length&&s.appendChild(document.createTextNode(o.slice(a))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function NC(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class $K{constructor(e,n){this.view=e,this.stateField=n,this.info=null,this.placeInfoReq={read:()=>this.measureInfo(),write:a=>this.placeInfo(a),key:this},this.space=null,this.currentClass="";let r=e.state.field(n),{options:i,selected:s}=r.open,o=e.state.facet(Mn);this.optionContent=FK(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=NC(i.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{for(let l=a.target,u;l&&l!=this.dom;l=l.parentNode)if(l.nodeName=="LI"&&(u=/-(\d+)$/.exec(l.id))&&+u[1]<i.length){lD(e,i[+u[1]]),a.preventDefault();return}}),this.dom.addEventListener("focusout",a=>{let l=e.state.field(this.stateField,!1);l&&l.tooltip&&e.state.facet(Mn).closeOnBlur&&a.relatedTarget!=e.contentDOM&&e.dispatch({effects:Tc.of(null)})}),this.list=this.dom.appendChild(this.createListBox(i,r.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(e){var n,r,i;let s=e.state.field(this.stateField),o=e.startState.field(this.stateField);this.updateTooltipClass(e.state),s!=o&&(this.updateSel(),((n=s.open)===null||n===void 0?void 0:n.disabled)!=((r=o.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((i=s.open)===null||i===void 0)&&i.disabled)))}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=NC(n.options.length,n.selected,this.view.state.facet(Mn).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(n.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o)}).catch(o=>dr(this.view.state,o,"completion info")):this.addInfoPane(s)}}addInfoPane(e){let n=this.info=document.createElement("div");n.className="cm-tooltip cm-completionInfo",n.appendChild(e),this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&UK(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(Mn).positionInfo(this.view,n,i,r,s)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:u}=a;if(u){let f=typeof u=="string"?u:u.name;if(f!=s&&(o>r.from||r.from==0))if(s=f,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let d=i.appendChild(document.createElement("completion-section"));d.textContent=f}}const c=i.appendChild(document.createElement("li"));c.id=n+"-"+o,c.setAttribute("role","option");let h=this.optionClass(a);h&&(c.className=h);for(let f of this.optionContent){let d=f(a,this.view.state,l);d&&c.appendChild(d)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}}function jK(t){return e=>new $K(e,t)}function UK(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect();r.top<n.top?t.scrollTop-=n.top-r.top:r.bottom>n.bottom&&(t.scrollTop+=r.bottom-n.bottom)}function DC(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function VK(t,e){let n=[],r=null,i=l=>{n.push(l);let{section:u}=l.completion;if(u){r||(r=[]);let c=typeof u=="string"?u:u.name;r.some(h=>h.name==c)||r.push(typeof u=="string"?{name:c}:u)}};for(let l of t)if(l.hasResult())if(l.result.filter===!1){let u=l.result.getMatch;for(let c of l.result.options){let h=[1e9-n.length];if(u)for(let f of u(c))h.push(f);i(new OC(c,l.source,h,h[0]))}}else{let u=new OK(e.sliceDoc(l.from,l.to)),c;for(let h of l.result.options)(c=u.match(h.label))&&i(new OC(h,l.source,c,c[0]+(h.boost||0)))}if(r){let l=Object.create(null),u=0,c=(h,f)=>{var d,m;return((d=h.rank)!==null&&d!==void 0?d:1e9)-((m=f.rank)!==null&&m!==void 0?m:1e9)||(h.name<f.name?-1:1)};for(let h of r.sort(c))u-=1e5,l[h.name]=u;for(let h of n){let{section:f}=h.completion;f&&(h.score+=l[typeof f=="string"?f:f.name])}}let s=[],o=null,a=e.facet(Mn).compareCompletions;for(let l of n.sort((u,c)=>c.score-u.score||a(u.completion,c.completion)))!o||o.label!=l.completion.label||o.detail!=l.completion.detail||o.type!=null&&l.completion.type!=null&&o.type!=l.completion.type||o.apply!=l.completion.apply?s.push(l):DC(l.completion)>DC(o)&&(s[s.length-1]=l),o=l.completion;return s}class Ia{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Ia(this.options,MC(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s){let o=VK(e,n);if(!o.length)return i&&e.some(l=>l.state==1)?new Ia(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let a=n.facet(Mn).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let l=i.options[i.selected].completion;for(let u=0;u<o.length;u++)if(o[u].completion==l){a=u;break}}return new Ia(o,MC(r,a),{pos:e.reduce((l,u)=>u.hasResult()?Math.min(l,u.from):l,1e8),create:jK(Wn),above:s.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(e){return new Ia(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class yp{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new yp(WK,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Mn),s=(r.override||n.languageDataAt("autocomplete",Ds(n)).map(IK)).map(a=>(this.active.find(u=>u.source==a)||new Rn(a,this.active.some(u=>u.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!zK(s,this.active)?o=Ia.build(s,n,this.id,o,r):o&&o.disabled&&!s.some(a=>a.state==1)&&(o=null),!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new Rn(a.source,0):a));for(let a of e.effects)a.is(cD)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new yp(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:HK}}function zK(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const HK={"aria-autocomplete":"list"};function MC(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const WK=[];function h1(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class Rn{constructor(e,n,r=-1){this.source=e,this.state=n,this.explicitPos=r}hasResult(){return!1}update(e,n){let r=h1(e),i=this;r?i=i.handleUserEvent(e,r,n):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new Rn(i.source,0));for(let s of e.effects)if(s.is(XS))i=new Rn(i.source,1,s.value?Ds(e.state):-1);else if(s.is(Tc))i=new Rn(i.source,0);else if(s.is(uD))for(let o of s.value)o.source==i.source&&(i=o);return i}handleUserEvent(e,n,r){return n=="delete"||!r.activateOnTyping?this.map(e.changes):new Rn(this.source,1)}handleChange(e){return e.changes.touchesRange(Ds(e.startState))?new Rn(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Rn(this.source,this.state,e.mapPos(this.explicitPos))}}class Qa extends Rn{constructor(e,n,r,i,s){super(e,2,n),this.result=r,this.from=i,this.to=s}hasResult(){return!0}handleUserEvent(e,n,r){var i;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=Ds(e.state);if((this.explicitPos<0?a<=s:a<this.from)||a>o||n=="delete"&&Ds(e.startState)==this.from)return new Rn(this.source,n=="input"&&r.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),u;return KK(this.result.validFor,e.state,s,o)?new Qa(this.source,l,this.result,s,o):this.result.update&&(u=this.result.update(this.result,s,o,new oD(e.state,a,l>=0)))?new Qa(this.source,l,u,u.from,(i=u.to)!==null&&i!==void 0?i:Ds(e.state)):new Rn(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Rn(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Qa(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function KK(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):aD(t,!0).test(i)}const uD=we.define({map(t,e){return t.map(n=>n.map(e))}}),cD=we.define(),Wn=Qt.define({create(){return yp.start()},update(t,e){return t.update(e)},provide:t=>[BS.from(t,e=>e.tooltip),re.contentAttributes.from(t,e=>e.attrs)]}),qK=re.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Ac={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},vo=we.define({map(t,e){let n=e.mapPos(t,-1,xn.TrackAfter);return n??void 0}}),JS=new class extends jo{};JS.startSide=1;JS.endSide=-1;const hD=Qt.define({create(){return Pe.empty},update(t,e){if(e.selection){let n=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(r,-1)&&(t=Pe.empty)}t=t.map(e.changes);for(let n of e.effects)n.is(vo)&&(t=t.update({add:[JS.range(n.value,n.value+1)]}));return t}});function GK(){return[YK,hD]}const Py="()[]{}<>";function fD(t){for(let e=0;e<Py.length;e+=2)if(Py.charCodeAt(e)==t)return Py.charAt(e+1);return IS(t<128?t:t+1)}function dD(t,e){return t.languageDataAt("closeBrackets",e)[0]||Ac}const QK=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),YK=re.inputHandler.of((t,e,n,r)=>{if((QK?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&ur(zt(r,0))==1||e!=i.from||n!=i.to)return!1;let s=ZK(t.state,r);return s?(t.dispatch(s),!0):!1}),XK=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=dD(t,t.selection.main.head).brackets||Ac.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let a=eq(t.doc,o.head);for(let l of r)if(l==a&&Xg(t.doc,o.head)==fD(zt(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:U.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},JK=[{key:"Backspace",run:XK}];function ZK(t,e){let n=dD(t,t.selection.main.head),r=n.brackets||Ac.brackets;for(let i of r){let s=fD(zt(i,0));if(e==i)return s==i?rq(t,i,r.indexOf(i+i+i)>-1,n):tq(t,i,s,n.before||Ac.before);if(e==s&&pD(t,t.selection.main.from))return nq(t,i,s)}return null}function pD(t,e){let n=!1;return t.field(hD).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Xg(t,e){let n=t.sliceString(e,e+2);return n.slice(0,ur(zt(n,0)))}function eq(t,e){let n=t.sliceString(e-2,e);return ur(zt(n,0))==n.length?n:n.slice(1)}function tq(t,e,n,r){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:vo.of(o.to+e.length),range:U.range(o.anchor+e.length,o.head+e.length)};let a=Xg(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:vo.of(o.head+e.length),range:U.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function nq(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&Xg(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:U.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function rq(t,e,n,r){let i=r.stringPrefixes||Ac.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:vo.of(a.to+e.length),range:U.range(a.anchor+e.length,a.head+e.length)};let l=a.head,u=Xg(t.doc,l),c;if(u==e){if(LC(t,l))return{changes:{insert:e+e,from:l},effects:vo.of(l+e.length),range:U.cursor(l+e.length)};if(pD(t,l)){let f=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:U.cursor(l+f.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(c=BC(t,l-2*e.length,i))>-1&&LC(t,c))return{changes:{insert:e+e+e+e,from:l},effects:vo.of(l+e.length),range:U.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=Ye.Word&&BC(t,l,i)>-1&&!iq(t,l,e,i))return{changes:{insert:e+e,from:l},effects:vo.of(l+e.length),range:U.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function LC(t,e){let n=pn(t).resolveInner(e+1);return n.parent&&n.from==e}function iq(t,e,n,r){let i=pn(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>n.length+l;){if(t.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function BC(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=Ye.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=Ye.Word)return s}return-1}function sq(t={}){return[Wn,Mn.of(t),BK,oq,qK]}const gD=[{key:"Ctrl-Space",run:RK},{key:"Escape",run:NK},{key:"ArrowDown",run:rf(!0)},{key:"ArrowUp",run:rf(!1)},{key:"PageDown",run:rf(!0,"page")},{key:"PageUp",run:rf(!1,"page")},{key:"Enter",run:PK}],oq=Bl.highest(Vg.computeN([Mn],t=>t.facet(Mn).defaultKeymap?[gD]:[]));class aq{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class uo{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=e,s=r.facet(vD).markerFilter;s&&(i=s(i));let o=ue.set(i.map(a=>a.from==a.to||a.from==a.to-1&&r.doc.lineAt(a.from).to==a.from?ue.widget({widget:new mq(a),diagnostic:a}).range(a.from):ue.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity},diagnostic:a}).range(a.from,a.to)),!0);return new uo(o,n,bl(o))}}function bl(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return r=new aq(i,s,o.diagnostic),!1}),r}function lq(t,e){return!!(t.effects.some(n=>n.is(mD))||t.changes.touchesRange(e.pos))}function uq(t,e){return t.field(Gn,!1)?e:e.concat(we.appendConfig.of(wq))}const mD=we.define(),ZS=we.define(),yD=we.define(),Gn=Qt.define({create(){return new uo(ue.none,null,null)},update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),r=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=bl(n,t.selected.diagnostic,i)||bl(n,null,i)}t=new uo(n,t.panel,r)}for(let n of e.effects)n.is(mD)?t=uo.init(n.value,t.panel,e.state):n.is(ZS)?t=new uo(t.diagnostics,n.value?Jg.open:null,t.selected):n.is(yD)&&(t=new uo(t.diagnostics,t.panel,n.value));return t},provide:t=>[kc.from(t,e=>e.panel),re.decorations.from(t,e=>e.diagnostics)]}),cq=ue.mark({class:"cm-lintRange cm-lintRange-active"});function hq(t,e,n){let{diagnostics:r}=t.state.field(Gn),i=[],s=2e8,o=0;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,u,{spec:c})=>{e>=l&&e<=u&&(l==u||(e>l||n>0)&&(e<u||n<0))&&(i.push(c.diagnostic),s=Math.min(l,s),o=Math.max(u,o))});let a=t.state.facet(vD).tooltipFilter;return a&&(i=a(i)),i.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:fq(t,i)}}}:null}function fq(t,e){return Be("ul",{class:"cm-tooltip-lint"},e.map(n=>SD(t,n,!1)))}const dq=t=>{let e=t.state.field(Gn,!1);(!e||!e.panel)&&t.dispatch({effects:uq(t.state,[ZS.of(!0)])});let n=bc(t,Jg.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},FC=t=>{let e=t.state.field(Gn,!1);return!e||!e.panel?!1:(t.dispatch({effects:ZS.of(!1)}),!0)},pq=t=>{let e=t.state.field(Gn,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},gq=[{key:"Mod-Shift-m",run:dq,preventDefault:!0},{key:"F8",run:pq}],vD=se.define({combine(t){return Object.assign({sources:t.map(e=>e.source)},gi(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function wD(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function SD(t,e,n){var r;let i=n?wD(e.actions):[];return Be("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Be("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=f=>{if(f.preventDefault(),a)return;a=!0;let d=bl(t.state.field(Gn).diagnostics,e);d&&s.apply(t,d.from,d.to)},{name:u}=s,c=i[o]?u.indexOf(i[o]):-1,h=c<0?u:[u.slice(0,c),Be("u",u.slice(c,c+1)),u.slice(c+1)];return Be("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${u}${c<0?"":` (access key "${i[o]})"`}.`},h)}),e.source&&Be("div",{class:"cm-diagnosticSource"},e.source))}class mq extends Gi{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Be("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class $C{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=SD(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Jg{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)FC(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=wD(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=bl(this.view.state.field(Gn).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Be("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=Be("div",{class:"cm-panel-lint"},this.list,Be("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>FC(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Gn).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Gn),r=0,i=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,a,{spec:l})=>{let u=-1,c;for(let h=r;h<this.items.length;h++)if(this.items[h].diagnostic==l.diagnostic){u=h;break}u<0?(c=new $C(this.view,l.diagnostic),this.items.splice(r,0,c),i=!0):(c=this.items[u],u>r&&(this.items.splice(r,u-r),i=!0)),n&&c.diagnostic==n.diagnostic?c.dom.hasAttribute("aria-selected")||(c.dom.setAttribute("aria-selected","true"),s=c):c.dom.hasAttribute("aria-selected")&&c.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new $C(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:a})=>{o.top<a.top?this.list.scrollTop-=a.top-o.top:o.bottom>a.bottom&&(this.list.scrollTop+=o.bottom-a.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Gn),r=bl(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:yD.of(r)})}static open(e){return new Jg(e)}}function yq(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Ry(t){return yq(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const vq=re.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Ry("#d11")},".cm-lintRange-warning":{backgroundImage:Ry("orange")},".cm-lintRange-info":{backgroundImage:Ry("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),wq=[Gn,re.decorations.compute([Gn],t=>{let{selected:e,panel:n}=t.field(Gn);return!e||!n||e.from==e.to?ue.none:ue.set([cq.range(e.from,e.to)])}),kH(hq,{hideOn:lq}),vq];var jC=function(e){e===void 0&&(e={});var n=[];e.closeBracketsKeymap!==!1&&(n=n.concat(JK)),e.defaultKeymap!==!1&&(n=n.concat(Q7)),e.searchKeymap!==!1&&(n=n.concat(SK)),e.historyKeymap!==!1&&(n=n.concat(o7)),e.foldKeymap!==!1&&(n=n.concat(SW)),e.completionKeymap!==!1&&(n=n.concat(gD)),e.lintKeymap!==!1&&(n=n.concat(gq));var r=[];return e.lineNumbers!==!1&&r.push(RH()),e.highlightActiveLineGutter!==!1&&r.push(MH()),e.highlightSpecialChars!==!1&&r.push(Zz()),e.history!==!1&&r.push(XW()),e.foldGutter!==!1&&r.push(EW()),e.drawSelection!==!1&&r.push(Vz()),e.dropCursor!==!1&&r.push(qz()),e.allowMultipleSelections!==!1&&r.push(ke.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&r.push(cW()),e.syntaxHighlighting!==!1&&r.push(fN(IW,{fallback:!0})),e.bracketMatching!==!1&&r.push(MW()),e.closeBrackets!==!1&&r.push(GK()),e.autocompletion!==!1&&r.push(sq()),e.rectangularSelection!==!1&&r.push(dH()),e.crosshairCursor!==!1&&r.push(mH()),e.highlightActiveLine!==!1&&r.push(sH()),e.highlightSelectionMatches!==!1&&r.push(tK()),e.tabSize&&typeof e.tabSize=="number"&&r.push(zg.of(" ".repeat(e.tabSize))),r.concat([Vg.of(n.flat())]).filter(Boolean)};const Sq="#e5c07b",UC="#e06c75",xq="#56b6c2",bq="#ffffff",Df="#abb2bf",f1="#7d8799",kq="#61afef",Eq="#98c379",VC="#d19a66",Cq="#c678dd",Tq="#21252b",zC="#2c313a",HC="#282c34",Ny="#353a42",Aq="#3E4451",WC="#528bff",Iq=re.theme({"&":{color:Df,backgroundColor:HC},".cm-content":{caretColor:WC},".cm-cursor, .cm-dropCursor":{borderLeftColor:WC},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Aq},".cm-panels":{backgroundColor:Tq,color:Df},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:HC,color:f1,border:"none"},".cm-activeLineGutter":{backgroundColor:zC},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Ny},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Ny,borderBottomColor:Ny},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:zC,color:Df}}},{dark:!0}),Oq=sh.define([{tag:B.keyword,color:Cq},{tag:[B.name,B.deleted,B.character,B.propertyName,B.macroName],color:UC},{tag:[B.function(B.variableName),B.labelName],color:kq},{tag:[B.color,B.constant(B.name),B.standard(B.name)],color:VC},{tag:[B.definition(B.name),B.separator],color:Df},{tag:[B.typeName,B.className,B.number,B.changed,B.annotation,B.modifier,B.self,B.namespace],color:Sq},{tag:[B.operator,B.operatorKeyword,B.url,B.escape,B.regexp,B.link,B.special(B.string)],color:xq},{tag:[B.meta,B.comment],color:f1},{tag:B.strong,fontWeight:"bold"},{tag:B.emphasis,fontStyle:"italic"},{tag:B.strikethrough,textDecoration:"line-through"},{tag:B.link,color:f1,textDecoration:"underline"},{tag:B.heading,fontWeight:"bold",color:UC},{tag:[B.atom,B.bool,B.special(B.variableName)],color:VC},{tag:[B.processingInstruction,B.string,B.inserted],color:Eq},{tag:B.invalid,color:bq}]),_q=[Iq,fN(Oq)];var Pq=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:o="",basicSetup:a=!0}=e,l=[],u=re.theme({"&":{backgroundColor:"#fff"}},{dark:!1});switch(n&&l.unshift(Vg.of([Y7])),a&&(typeof a=="boolean"?l.unshift(jC()):l.unshift(jC(a))),o&&l.unshift(uH(o)),s){case"light":l.push(u);break;case"dark":l.push(_q);break;case"none":break;default:l.push(s);break}return r===!1&&l.push(re.editable.of(!1)),i&&l.push(ke.readOnly.of(!0)),[...l]},Rq=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)}),KC=pi.define();function Nq(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:o,extensions:a=[],autoFocus:l,theme:u="light",height:c="",minHeight:h="",maxHeight:f="",placeholder:d="",width:m="",minWidth:w="",maxWidth:x="",editable:v=!0,readOnly:y=!1,indentWithTab:b=!0,basicSetup:E=!0,root:C,initialState:O}=t,[_,F]=P.useState(),[L,M]=P.useState(),[Z,Y]=P.useState(),ee=re.theme({"&":{height:c,minHeight:h,maxHeight:f,width:m,minWidth:w,maxWidth:x}}),le=re.updateListener.of(pe=>{if(pe.docChanged&&typeof r=="function"&&!pe.transactions.some(X=>X.annotation(KC))){var V=pe.state.doc,G=V.toString();r(G,pe)}i&&i(Rq(pe))}),me=Pq({theme:u,editable:v,readOnly:y,placeholder:d,indentWithTab:b,basicSetup:E}),de=[le,ee,...me];return o&&typeof o=="function"&&de.push(re.updateListener.of(o)),de=de.concat(a),P.useEffect(()=>{if(_&&!Z){var pe={doc:e,selection:n,extensions:de},V=O?ke.fromJSON(O.json,pe,O.fields):ke.create(pe);if(Y(V),!L){var G=new re({state:V,parent:_,root:C});M(G),s&&s(G,V)}}return()=>{L&&(Y(void 0),M(void 0))}},[_,Z]),P.useEffect(()=>F(t.container),[t.container]),P.useEffect(()=>()=>{L&&(L.destroy(),M(void 0))},[L]),P.useEffect(()=>{l&&L&&L.focus()},[l,L]),P.useEffect(()=>{L&&L.dispatch({effects:we.reconfigure.of(de)})},[u,a,c,h,f,m,w,x,d,v,y,b,E,r,o]),P.useEffect(()=>{if(e!==void 0){var pe=L?L.state.doc.toString():"";L&&e!==pe&&L.dispatch({changes:{from:0,to:pe.length,insert:e||""},annotations:[KC.of(!0)]})}},[e,L]),{state:Z,setState:Y,view:L,setView:M,container:_,setContainer:F}}var Dq=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],xD=P.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:s=[],onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:u,autoFocus:c,theme:h="light",height:f,minHeight:d,maxHeight:m,width:w,minWidth:x,maxWidth:v,basicSetup:y,placeholder:b,indentWithTab:E,editable:C,readOnly:O,root:_,initialState:F}=t,L=O4(t,Dq),M=P.useRef(null),{state:Z,view:Y,container:ee}=Nq({container:M.current,root:_,value:r,autoFocus:c,theme:h,height:f,minHeight:d,maxHeight:m,width:w,minWidth:x,maxWidth:v,basicSetup:y,placeholder:b,indentWithTab:E,editable:C,readOnly:O,selection:i,onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:u,extensions:s,initialState:F});if(P.useImperativeHandle(e,()=>({editor:M.current,state:Z,view:Y}),[M,ee,Z,Y]),typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var le=typeof h=="string"?"cm-theme-"+h:"cm-theme";return I.jsx("div",j0({ref:M,className:""+le+(n?" "+n:"")},L))});xD.displayName="CodeMirror";function d1(t){const{className:e,value:n,visible:r,handleChange:i}=t;return r?I.jsx(xD,{className:e,value:n,onChange:i}):I.jsx(I.Fragment,{})}d1.defaultProps={className:"",value:"",visible:!0,handleChange:()=>{}};function Mq(t){const{editorTabId:e,currentEditorTabId:n,handleSelect:r,handleClose:i}=t,s=e===n,o=a=>{a.target instanceof HTMLButtonElement&&(a.target.innerHTML?r(e):i(e))};return I.jsxs("div",{className:`workspace__editor-tab ${s?"active":""}`,onClick:o,"aria-hidden":"true",children:[I.jsx(bi,{text:`# ${e}`,className:"workspace__editor-tab-select btn_rectangle"}),I.jsx(bi,{className:"workspace__editor-tab_close"})]})}function Lq(){const t=dI(),e=Cr(Q8);return I.jsxs("div",{className:"workspace__editor",children:[I.jsxs("div",{className:"workspace__editor-tabs-wrapper",children:[I.jsx("div",{className:"workspace__editor-tabs",children:Cr(Y8).map(n=>P.createElement(Mq,{editorTabId:n.editorTabId,currentEditorTabId:e,handleSelect:r=>{t(z8(r))},handleClose:r=>{t(H8(r))},key:n.editorTabId}))}),I.jsxs("div",{className:"workspace__editor-btns",children:[I.jsx(bi,{className:"workspace__editor-tabs-add btn_square",handleClick:()=>{t(V8())}}),I.jsx(bi,{className:"workspace__editor-tabs-run btn_square"})]})]}),I.jsx(d1,{className:"workspace__codemirror",value:Cr(X8),handleChange:P.useCallback(n=>{t(W8(n))},[t])}),I.jsxs("div",{className:"workspace__editor-tools",children:[I.jsx(bi,{text:"Variables",className:"workspace__editor-tools-variables btn_rectangle",active:Cr(K8),handleClick:()=>{t(F8())}}),I.jsx(bi,{text:"Headers",className:"workspace__editor-tools-headers btn_rectangle",active:Cr(q8),handleClick:()=>{t($8())}}),I.jsx(bi,{className:"workspace__editor-tools-toggler btn_square",active:Cr(iE),handleClick:()=>{t(j8())}})]}),I.jsx(d1,{className:"workspace__tool-codemirror",value:Cr(G8),visible:Cr(iE),handleChange:P.useCallback(n=>{t(U8(n))},[t])})]})}var ah=t=>t.type==="checkbox",Oa=t=>t instanceof Date,wn=t=>t==null;const bD=t=>typeof t=="object";var Ct=t=>!wn(t)&&!Array.isArray(t)&&bD(t)&&!Oa(t),Bq=t=>Ct(t)&&t.target?ah(t.target)?t.target.checked:t.target.value:t,Fq=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,$q=(t,e)=>t.has(Fq(e)),jq=t=>{const e=t.constructor&&t.constructor.prototype;return Ct(e)&&e.hasOwnProperty("isPrototypeOf")},ex=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ao(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(ex&&(t instanceof Blob||t instanceof FileList))&&(n||Ct(t)))if(e=n?[]:{},!Array.isArray(t)&&!jq(t))e=t;else for(const r in t)e[r]=ao(t[r]);else return t;return e}var lh=t=>Array.isArray(t)?t.filter(Boolean):[],gt=t=>t===void 0,ae=(t,e,n)=>{if(!e||!Ct(t))return n;const r=lh(e.split(/[,[\].]+?/)).reduce((i,s)=>wn(i)?i:i[s],t);return gt(r)||r===t?gt(t[e])?n:t[e]:r};const qC={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Or={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},vi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};cs.createContext(null);var Uq=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Or.all&&(e._proxyFormState[o]=!r||Or.all),n&&(n[o]=!0),t[o]}});return i},sr=t=>Ct(t)&&!Object.keys(t).length,Vq=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return sr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Or.all))},Dy=t=>Array.isArray(t)?t:[t];function zq(t){const e=cs.useRef(t);e.current=t,cs.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var ni=t=>typeof t=="string",Hq=(t,e,n,r,i)=>ni(t)?(r&&e.watch.add(t),ae(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),ae(n,s))):(r&&(e.watchAll=!0),n),tx=t=>/^\w*$/.test(t),kD=t=>lh(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Ke(t,e,n){let r=-1;const i=tx(e)?[e]:kD(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=Ct(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}var Wq=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{};const p1=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=ae(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Ct(o)&&p1(o,e)}}};var GC=t=>({isOnSubmit:!t||t===Or.onSubmit,isOnBlur:t===Or.onBlur,isOnChange:t===Or.onChange,isOnAll:t===Or.all,isOnTouch:t===Or.onTouched}),QC=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),Kq=(t,e,n)=>{const r=lh(ae(t,n));return Ke(r,"root",e[n]),Ke(t,n,r),t},Ya=t=>typeof t=="boolean",nx=t=>t.type==="file",ys=t=>typeof t=="function",vp=t=>{if(!ex)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Mf=t=>ni(t),rx=t=>t.type==="radio",wp=t=>t instanceof RegExp;const YC={value:!1,isValid:!1},XC={value:!0,isValid:!0};var ED=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!gt(t[0].attributes.value)?gt(t[0].value)||t[0].value===""?XC:{value:t[0].value,isValid:!0}:XC:YC}return YC};const JC={isValid:!1,value:null};var CD=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,JC):JC;function ZC(t,e,n="validate"){if(Mf(t)||Array.isArray(t)&&t.every(Mf)||Ya(t)&&!t)return{type:n,message:Mf(t)?t:"",ref:e}}var ra=t=>Ct(t)&&!wp(t)?t:{value:t,message:""},eT=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:f,validate:d,name:m,valueAsNumber:w,mount:x,disabled:v}=t._f,y=ae(e,m);if(!x||v)return{};const b=o?o[0]:s,E=Y=>{r&&b.reportValidity&&(b.setCustomValidity(Ya(Y)?"":Y||""),b.reportValidity())},C={},O=rx(s),_=ah(s),F=O||_,L=(w||nx(s))&&gt(s.value)&&gt(y)||vp(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,M=Wq.bind(null,m,n,C),Z=(Y,ee,le,me=vi.maxLength,de=vi.minLength)=>{const pe=Y?ee:le;C[m]={type:Y?me:de,message:pe,ref:s,...M(Y?me:de,pe)}};if(i?!Array.isArray(y)||!y.length:a&&(!F&&(L||wn(y))||Ya(y)&&!y||_&&!ED(o).isValid||O&&!CD(o).isValid)){const{value:Y,message:ee}=Mf(a)?{value:!!a,message:a}:ra(a);if(Y&&(C[m]={type:vi.required,message:ee,ref:b,...M(vi.required,ee)},!n))return E(ee),C}if(!L&&(!wn(c)||!wn(h))){let Y,ee;const le=ra(h),me=ra(c);if(!wn(y)&&!isNaN(y)){const de=s.valueAsNumber||y&&+y;wn(le.value)||(Y=de>le.value),wn(me.value)||(ee=de<me.value)}else{const de=s.valueAsDate||new Date(y),pe=X=>new Date(new Date().toDateString()+" "+X),V=s.type=="time",G=s.type=="week";ni(le.value)&&y&&(Y=V?pe(y)>pe(le.value):G?y>le.value:de>new Date(le.value)),ni(me.value)&&y&&(ee=V?pe(y)<pe(me.value):G?y<me.value:de<new Date(me.value))}if((Y||ee)&&(Z(!!Y,le.message,me.message,vi.max,vi.min),!n))return E(C[m].message),C}if((l||u)&&!L&&(ni(y)||i&&Array.isArray(y))){const Y=ra(l),ee=ra(u),le=!wn(Y.value)&&y.length>+Y.value,me=!wn(ee.value)&&y.length<+ee.value;if((le||me)&&(Z(le,Y.message,ee.message),!n))return E(C[m].message),C}if(f&&!L&&ni(y)){const{value:Y,message:ee}=ra(f);if(wp(Y)&&!y.match(Y)&&(C[m]={type:vi.pattern,message:ee,ref:s,...M(vi.pattern,ee)},!n))return E(ee),C}if(d){if(ys(d)){const Y=await d(y,e),ee=ZC(Y,b);if(ee&&(C[m]={...ee,...M(vi.validate,ee.message)},!n))return E(ee.message),C}else if(Ct(d)){let Y={};for(const ee in d){if(!sr(Y)&&!n)break;const le=ZC(await d[ee](y,e),b,ee);le&&(Y={...le,...M(ee,le.message)},E(le.message),n&&(C[m]=Y))}if(!sr(Y)&&(C[m]={ref:b,...Y},!n))return C}}return E(!0),C};function qq(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=gt(t)?r++:t[e[r++]];return t}function Gq(t){for(const e in t)if(!gt(t[e]))return!1;return!0}function Lt(t,e){const n=Array.isArray(e)?e:tx(e)?[e]:kD(e),r=n.length===1?t:qq(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ct(r)&&sr(r)||Array.isArray(r)&&Gq(r))&&Lt(t,n.slice(0,-1)),t}function My(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var Sp=t=>wn(t)||!bD(t);function wo(t,e){if(Sp(t)||Sp(e))return t===e;if(Oa(t)&&Oa(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Oa(s)&&Oa(o)||Ct(s)&&Ct(o)||Array.isArray(s)&&Array.isArray(o)?!wo(s,o):s!==o)return!1}}return!0}var TD=t=>t.type==="select-multiple",Qq=t=>rx(t)||ah(t),Ly=t=>vp(t)&&t.isConnected,AD=t=>{for(const e in t)if(ys(t[e]))return!0;return!1};function xp(t,e={}){const n=Array.isArray(t);if(Ct(t)||n)for(const r in t)Array.isArray(t[r])||Ct(t[r])&&!AD(t[r])?(e[r]=Array.isArray(t[r])?[]:{},xp(t[r],e[r])):wn(t[r])||(e[r]=!0);return e}function ID(t,e,n){const r=Array.isArray(t);if(Ct(t)||r)for(const i in t)Array.isArray(t[i])||Ct(t[i])&&!AD(t[i])?gt(e)||Sp(n[i])?n[i]=Array.isArray(t[i])?xp(t[i],[]):{...xp(t[i])}:ID(t[i],wn(e)?{}:e[i],n[i]):n[i]=!wo(t[i],e[i]);return n}var By=(t,e)=>ID(t,e,xp(e)),OD=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>gt(t)?t:e?t===""?NaN:t&&+t:n&&ni(t)?new Date(t):r?r(t):t;function Fy(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return nx(e)?e.files:rx(e)?CD(t.refs).value:TD(e)?[...e.selectedOptions].map(({value:n})=>n):ah(e)?ED(t.refs).value:OD(gt(e.value)?t.ref.value:e.value,t)}var Yq=(t,e,n,r)=>{const i={};for(const s of t){const o=ae(e,s);o&&Ke(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},tu=t=>gt(t)?t:wp(t)?t.source:Ct(t)?wp(t.value)?t.value.source:t.value:t,Xq=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function tT(t,e,n){const r=ae(t,n);if(r||tx(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=ae(e,s),a=ae(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var Jq=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Zq=(t,e)=>!lh(ae(t,e)).length&&Lt(t,e);const eG={mode:Or.onSubmit,reValidateMode:Or.onChange,shouldFocusError:!0};function tG(t={},e){let n={...eG,...t},r={submitCount:0,isDirty:!1,isLoading:ys(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=Ct(n.defaultValues)||Ct(n.values)?ao(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:ao(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:My(),array:My(),state:My()},d=t.resetOptions&&t.resetOptions.keepDirtyValues,m=GC(n.mode),w=GC(n.reValidateMode),x=n.criteriaMode===Or.all,v=A=>D=>{clearTimeout(c),c=setTimeout(A,D)},y=async A=>{if(h.isValid||A){const D=n.resolver?sr((await L()).errors):await Z(i,!0);D!==r.isValid&&f.state.next({isValid:D})}},b=A=>h.isValidating&&f.state.next({isValidating:A}),E=(A,D=[],j,ne,z=!0,N=!0)=>{if(ne&&j){if(a.action=!0,N&&Array.isArray(ae(i,A))){const H=j(ae(i,A),ne.argA,ne.argB);z&&Ke(i,A,H)}if(N&&Array.isArray(ae(r.errors,A))){const H=j(ae(r.errors,A),ne.argA,ne.argB);z&&Ke(r.errors,A,H),Zq(r.errors,A)}if(h.touchedFields&&N&&Array.isArray(ae(r.touchedFields,A))){const H=j(ae(r.touchedFields,A),ne.argA,ne.argB);z&&Ke(r.touchedFields,A,H)}h.dirtyFields&&(r.dirtyFields=By(s,o)),f.state.next({name:A,isDirty:ee(A,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ke(o,A,D)},C=(A,D)=>{Ke(r.errors,A,D),f.state.next({errors:r.errors})},O=(A,D,j,ne)=>{const z=ae(i,A);if(z){const N=ae(o,A,gt(j)?ae(s,A):j);gt(N)||ne&&ne.defaultChecked||D?Ke(o,A,D?N:Fy(z._f)):de(A,N),a.mount&&y()}},_=(A,D,j,ne,z)=>{let N=!1,H=!1;const Se={name:A};if(!j||ne){h.isDirty&&(H=r.isDirty,r.isDirty=Se.isDirty=ee(),N=H!==Se.isDirty);const Ce=wo(ae(s,A),D);H=ae(r.dirtyFields,A),Ce?Lt(r.dirtyFields,A):Ke(r.dirtyFields,A,!0),Se.dirtyFields=r.dirtyFields,N=N||h.dirtyFields&&H!==!Ce}if(j){const Ce=ae(r.touchedFields,A);Ce||(Ke(r.touchedFields,A,j),Se.touchedFields=r.touchedFields,N=N||h.touchedFields&&Ce!==j)}return N&&z&&f.state.next(Se),N?Se:{}},F=(A,D,j,ne)=>{const z=ae(r.errors,A),N=h.isValid&&Ya(D)&&r.isValid!==D;if(t.delayError&&j?(u=v(()=>C(A,j)),u(t.delayError)):(clearTimeout(c),u=null,j?Ke(r.errors,A,j):Lt(r.errors,A)),(j?!wo(z,j):z)||!sr(ne)||N){const H={...ne,...N&&Ya(D)?{isValid:D}:{},errors:r.errors,name:A};r={...r,...H},f.state.next(H)}b(!1)},L=async A=>n.resolver(o,n.context,Yq(A||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),M=async A=>{const{errors:D}=await L();if(A)for(const j of A){const ne=ae(D,j);ne?Ke(r.errors,j,ne):Lt(r.errors,j)}else r.errors=D;return D},Z=async(A,D,j={valid:!0})=>{for(const ne in A){const z=A[ne];if(z){const{_f:N,...H}=z;if(N){const Se=l.array.has(N.name),Ce=await eT(z,o,x,n.shouldUseNativeValidation&&!D,Se);if(Ce[N.name]&&(j.valid=!1,D))break;!D&&(ae(Ce,N.name)?Se?Kq(r.errors,Ce,N.name):Ke(r.errors,N.name,Ce[N.name]):Lt(r.errors,N.name))}H&&await Z(H,D,j)}}return j.valid},Y=()=>{for(const A of l.unMount){const D=ae(i,A);D&&(D._f.refs?D._f.refs.every(j=>!Ly(j)):!Ly(D._f.ref))&&it(A)}l.unMount=new Set},ee=(A,D)=>(A&&D&&Ke(o,A,D),!wo(oe(),s)),le=(A,D,j)=>Hq(A,l,{...a.mount?o:gt(D)?s:ni(A)?{[A]:D}:D},j,D),me=A=>lh(ae(a.mount?o:s,A,t.shouldUnregister?ae(s,A,[]):[])),de=(A,D,j={})=>{const ne=ae(i,A);let z=D;if(ne){const N=ne._f;N&&(!N.disabled&&Ke(o,A,OD(D,N)),z=vp(N.ref)&&wn(D)?"":D,TD(N.ref)?[...N.ref.options].forEach(H=>H.selected=z.includes(H.value)):N.refs?ah(N.ref)?N.refs.length>1?N.refs.forEach(H=>(!H.defaultChecked||!H.disabled)&&(H.checked=Array.isArray(z)?!!z.find(Se=>Se===H.value):z===H.value)):N.refs[0]&&(N.refs[0].checked=!!z):N.refs.forEach(H=>H.checked=H.value===z):nx(N.ref)?N.ref.value="":(N.ref.value=z,N.ref.type||f.values.next({name:A,values:{...o}})))}(j.shouldDirty||j.shouldTouch)&&_(A,z,j.shouldTouch,j.shouldDirty,!0),j.shouldValidate&&X(A)},pe=(A,D,j)=>{for(const ne in D){const z=D[ne],N=`${A}.${ne}`,H=ae(i,N);(l.array.has(A)||!Sp(z)||H&&!H._f)&&!Oa(z)?pe(N,z,j):de(N,z,j)}},V=(A,D,j={})=>{const ne=ae(i,A),z=l.array.has(A),N=ao(D);Ke(o,A,N),z?(f.array.next({name:A,values:{...o}}),(h.isDirty||h.dirtyFields)&&j.shouldDirty&&f.state.next({name:A,dirtyFields:By(s,o),isDirty:ee(A,N)})):ne&&!ne._f&&!wn(N)?pe(A,N,j):de(A,N,j),QC(A,l)&&f.state.next({...r}),f.values.next({name:A,values:{...o}}),!a.mount&&e()},G=async A=>{const D=A.target;let j=D.name,ne=!0;const z=ae(i,j),N=()=>D.type?Fy(z._f):Bq(A);if(z){let H,Se;const Ce=N(),ht=A.type===qC.BLUR||A.type===qC.FOCUS_OUT,yi=!Xq(z._f)&&!n.resolver&&!ae(r.errors,j)&&!z._f.deps||Jq(ht,ae(r.touchedFields,j),r.isSubmitted,w,m),S=QC(j,l,ht);Ke(o,j,Ce),ht?(z._f.onBlur&&z._f.onBlur(A),u&&u(0)):z._f.onChange&&z._f.onChange(A);const p=_(j,Ce,ht,!1),g=!sr(p)||S;if(!ht&&f.values.next({name:j,type:A.type,values:{...o}}),yi)return h.isValid&&y(),g&&f.state.next({name:j,...S?{}:p});if(!ht&&S&&f.state.next({...r}),b(!0),n.resolver){const{errors:k}=await L([j]),T=tT(r.errors,i,j),R=tT(k,i,T.name||j);H=R.error,j=R.name,Se=sr(k)}else H=(await eT(z,o,x,n.shouldUseNativeValidation))[j],ne=isNaN(Ce)||Ce===ae(o,j,Ce),ne&&(H?Se=!1:h.isValid&&(Se=await Z(i,!0)));ne&&(z._f.deps&&X(z._f.deps),F(j,Se,H,p))}},X=async(A,D={})=>{let j,ne;const z=Dy(A);if(b(!0),n.resolver){const N=await M(gt(A)?A:z);j=sr(N),ne=A?!z.some(H=>ae(N,H)):j}else A?(ne=(await Promise.all(z.map(async N=>{const H=ae(i,N);return await Z(H&&H._f?{[N]:H}:H)}))).every(Boolean),!(!ne&&!r.isValid)&&y()):ne=j=await Z(i);return f.state.next({...!ni(A)||h.isValid&&j!==r.isValid?{}:{name:A},...n.resolver||!A?{isValid:j}:{},errors:r.errors,isValidating:!1}),D.shouldFocus&&!ne&&p1(i,N=>N&&ae(r.errors,N),A?z:l.mount),ne},oe=A=>{const D={...s,...a.mount?o:{}};return gt(A)?D:ni(A)?ae(D,A):A.map(j=>ae(D,j))},fe=(A,D)=>({invalid:!!ae((D||r).errors,A),isDirty:!!ae((D||r).dirtyFields,A),isTouched:!!ae((D||r).touchedFields,A),error:ae((D||r).errors,A)}),Tt=A=>{A&&Dy(A).forEach(D=>Lt(r.errors,D)),f.state.next({errors:A?r.errors:{}})},Xe=(A,D,j)=>{const ne=(ae(i,A,{_f:{}})._f||{}).ref;Ke(r.errors,A,{...D,ref:ne}),f.state.next({name:A,errors:r.errors,isValid:!1}),j&&j.shouldFocus&&ne&&ne.focus&&ne.focus()},yn=(A,D)=>ys(A)?f.values.subscribe({next:j=>A(le(void 0,D),j)}):le(A,D,!0),it=(A,D={})=>{for(const j of A?Dy(A):l.mount)l.mount.delete(j),l.array.delete(j),D.keepValue||(Lt(i,j),Lt(o,j)),!D.keepError&&Lt(r.errors,j),!D.keepDirty&&Lt(r.dirtyFields,j),!D.keepTouched&&Lt(r.touchedFields,j),!n.shouldUnregister&&!D.keepDefaultValue&&Lt(s,j);f.values.next({values:{...o}}),f.state.next({...r,...D.keepDirty?{isDirty:ee()}:{}}),!D.keepIsValid&&y()},St=(A,D={})=>{let j=ae(i,A);const ne=Ya(D.disabled);return Ke(i,A,{...j||{},_f:{...j&&j._f?j._f:{ref:{name:A}},name:A,mount:!0,...D}}),l.mount.add(A),j?ne&&Ke(o,A,D.disabled?void 0:ae(o,A,Fy(j._f))):O(A,!0,D.value),{...ne?{disabled:D.disabled}:{},...n.shouldUseNativeValidation?{required:!!D.required,min:tu(D.min),max:tu(D.max),minLength:tu(D.minLength),maxLength:tu(D.maxLength),pattern:tu(D.pattern)}:{},name:A,onChange:G,onBlur:G,ref:z=>{if(z){St(A,D),j=ae(i,A);const N=gt(z.value)&&z.querySelectorAll&&z.querySelectorAll("input,select,textarea")[0]||z,H=Qq(N),Se=j._f.refs||[];if(H?Se.find(Ce=>Ce===N):N===j._f.ref)return;Ke(i,A,{_f:{...j._f,...H?{refs:[...Se.filter(Ly),N,...Array.isArray(ae(s,A))?[{}]:[]],ref:{type:N.type,name:A}}:{ref:N}}}),O(A,!1,void 0,N)}else j=ae(i,A,{}),j._f&&(j._f.mount=!1),(n.shouldUnregister||D.shouldUnregister)&&!($q(l.array,A)&&a.action)&&l.unMount.add(A)}}},Yt=()=>n.shouldFocusError&&p1(i,A=>A&&ae(r.errors,A),l.mount),wr=(A,D)=>async j=>{j&&(j.preventDefault&&j.preventDefault(),j.persist&&j.persist());let ne=ao(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:z,values:N}=await L();r.errors=z,ne=N}else await Z(i);Lt(r.errors,"root"),sr(r.errors)?(f.state.next({errors:{}}),await A(ne,j)):(D&&await D({...r.errors},j),Yt(),setTimeout(Yt)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:sr(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Sr=(A,D={})=>{ae(i,A)&&(gt(D.defaultValue)?V(A,ae(s,A)):(V(A,D.defaultValue),Ke(s,A,D.defaultValue)),D.keepTouched||Lt(r.touchedFields,A),D.keepDirty||(Lt(r.dirtyFields,A),r.isDirty=D.defaultValue?ee(A,ae(s,A)):ee()),D.keepError||(Lt(r.errors,A),h.isValid&&y()),f.state.next({...r}))},Un=(A,D={})=>{const j=A||s,ne=ao(j),z=A&&!sr(A)?ne:s;if(D.keepDefaultValues||(s=j),!D.keepValues){if(D.keepDirtyValues||d)for(const N of l.mount)ae(r.dirtyFields,N)?Ke(z,N,ae(o,N)):V(N,ae(z,N));else{if(ex&&gt(A))for(const N of l.mount){const H=ae(i,N);if(H&&H._f){const Se=Array.isArray(H._f.refs)?H._f.refs[0]:H._f.ref;if(vp(Se)){const Ce=Se.closest("form");if(Ce){Ce.reset();break}}}}i={}}o=t.shouldUnregister?D.keepDefaultValues?ao(s):{}:ne,f.array.next({values:{...z}}),f.values.next({values:{...z}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!h.isValid||!!D.keepIsValid,a.watch=!!t.shouldUnregister,f.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!wo(A,s)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:D.keepDirtyValues?r.dirtyFields:D.keepDefaultValues&&A?By(s,A):{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},xr=(A,D)=>Un(ys(A)?A(o):A,D);return{control:{register:St,unregister:it,getFieldState:fe,_executeSchema:L,_getWatch:le,_getDirty:ee,_updateValid:y,_removeUnmounted:Y,_updateFieldArray:E,_getFieldArray:me,_reset:Un,_resetDefaultValues:()=>ys(n.defaultValues)&&n.defaultValues().then(A=>{xr(A,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:A=>{r={...r,...A}},_subjects:f,_proxyFormState:h,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(A){a=A},get _defaultValues(){return s},get _names(){return l},set _names(A){l=A},get _formState(){return r},set _formState(A){r=A},get _options(){return n},set _options(A){n={...n,...A}}},trigger:X,register:St,handleSubmit:wr,watch:yn,setValue:V,getValues:oe,reset:xr,resetField:Sr,clearErrors:Tt,unregister:it,setError:Xe,setFocus:(A,D={})=>{const j=ae(i,A),ne=j&&j._f;if(ne){const z=ne.refs?ne.refs[0]:ne.ref;z.focus&&(z.focus(),D.shouldSelect&&z.select())}},getFieldState:fe}}function ix(t={}){const e=cs.useRef(),[n,r]=cs.useState({isDirty:!1,isValidating:!1,isLoading:ys(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:ys(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...tG(t,()=>r(s=>({...s}))),formState:n});const i=e.current.control;return i._options=t,zq({subject:i._subjects.state,next:s=>{Vq(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),cs.useEffect(()=>{t.values&&!wo(t.values,i._defaultValues)?i._reset(t.values,i._options.resetOptions):i._resetDefaultValues()},[t.values,i]),cs.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Uq(n,i),e.current}function nG({active:t,setActive:e}){var h,f;const{register:n,handleSubmit:r,trigger:i,formState:{errors:s}}=ix(),[o,a]=P.useState(""),l=Ol(),{t:u}=qi(),c=d=>{(async()=>{var m;try{await p3(Ui,d.email,d.password);const w=await((m=Ui.currentUser)==null?void 0:m.getIdToken());localStorage.setItem("acces-token",w),l("/")}catch(w){a(w.message)}})()};return I.jsxs("div",{className:"authorization-page__layout",children:[I.jsx("h2",{className:"authorization-page__title",children:u("loginLink")}),I.jsxs("form",{className:"authorization-page__form",onSubmit:r(c),children:[I.jsx(Ua,{type:"email",placeholder:u("emailPlaceholder"),register:n("email",{required:`* ${u("emailWarning")}`,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:`* ${u("emailWarning2")}`}}),onKeyUp:()=>{i("email")},message:(h=s.email)==null?void 0:h.message}),I.jsx(Ua,{type:"password",placeholder:u("passwordPlaceholder"),register:n("password",{required:`* ${u("passwordWarning")}`}),onKeyUp:()=>{i("password")},message:(f=s.password)==null?void 0:f.message}),I.jsx("button",{className:"authorization-page__form-button",type:"submit",children:u("loginLink")})]}),o&&I.jsx(SS,{message:o,setMessage:a}),I.jsx(cd,{className:"authorization-page__link authorization-page__link-large",to:"/reset-email",children:u("forgotPassword")}),I.jsxs("p",{className:"authorization-page__text",children:[u("registerText"),I.jsx("button",{className:"authorization-page__link",type:"button",onClick:()=>e(!t),children:u("registerText2")}),u("registerText3")]})]})}function rG({active:t,setActive:e}){var h,f,d;const{register:n,handleSubmit:r,trigger:i,formState:{errors:s}}=ix(),[o,a]=P.useState(""),l=Ol(),{t:u}=qi(),c=m=>{const{name:w,email:x,password:v}=m;(async()=>{var y;try{const b=await d3(Ui,x,v),{user:E}=b;await $6(E6(V6,"users"),{uid:E.uid,name:w,authProvider:"local",email:x});const C=await((y=Ui.currentUser)==null?void 0:y.getIdToken());localStorage.setItem("acces-token",C),l("/")}catch(b){a(b.message)}})()};return I.jsxs("div",{className:"authorization-page__layout",children:[I.jsx("h2",{className:"authorization-page__title",children:u("signupLink")}),I.jsxs("form",{className:"authorization-page__form",onSubmit:r(c),children:[I.jsx(Ua,{type:"name",placeholder:u("namePlaceholder"),register:n("name",{required:`* ${u("nameWarning")}`,minLength:{value:5,message:`* ${u("nameWarning2")}`}}),onKeyUp:()=>{i("name")},message:(h=s.name)==null?void 0:h.message}),I.jsx(Ua,{type:"email",placeholder:u("emailPlaceholder"),register:n("email",{required:`* ${u("emailWarning")}`,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:`* ${u("emailWarning2")}`}}),onKeyUp:()=>{i("email")},message:(f=s.email)==null?void 0:f.message}),I.jsx(Ua,{type:"password",placeholder:u("passwordPlaceholder"),register:n("password",{required:`* ${u("passwordWarning")}`,pattern:{value:/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/,message:`* ${u("passwordWarning2")}`},minLength:{value:8,message:`* ${u("passwordWarning3")}`},maxLength:{value:20,message:`* ${u("passwordWarning4")}`}}),onKeyUp:()=>{i("password")},message:(d=s.password)==null?void 0:d.message}),I.jsx("button",{className:"authorization-page__form-button",type:"submit",children:u("signupLink")})]}),o&&I.jsx(SS,{message:o,setMessage:a}),I.jsxs("p",{className:"authorization-page__text",children:[u("registerText4"),I.jsx("button",{className:"authorization-page__link",type:"button",onClick:()=>e(!t),children:u("loginLink")}),u("registerText3")]})]})}function iG(){const[t,e]=P.useState(!0),{t:n}=qi(),r=()=>{e(!t)};return I.jsx("div",{className:"authorization-page",children:I.jsxs("div",{className:"authorization-page__wrapper",children:[I.jsxs("div",{className:"authorization-page__buttons-container",children:[I.jsx("button",{className:"authorization-page__button",type:"button",disabled:t,onClick:r,children:I.jsx("p",{className:"authorization-page__button-text",children:n("loginLink")})}),I.jsx("button",{className:"authorization-page__button",type:"button",disabled:!t,onClick:r,children:I.jsx("p",{className:"authorization-page__button-text",children:n("signupLink")})})]}),t?I.jsx(nG,{active:t,setActive:e}):I.jsx(rG,{active:t,setActive:e})]})})}const sG="/assets/mail-reset-67f6443d.svg";function oG(){var c;const{register:t,handleSubmit:e,trigger:n,formState:{errors:r}}=ix(),[i,s]=P.useState(""),[o,a]=P.useState(!1),{t:l}=qi(),u=h=>{(async()=>{try{await f3(Ui,h.email),a(!0)}catch(f){s(f.message)}})()};return I.jsx("div",{className:"authorization-page",children:I.jsxs("div",{className:"authorization-page__wrapper",children:[I.jsx("div",{className:"authorization-page__decoration",children:I.jsx("img",{className:"authorization-page__decoration-image",src:sG,alt:""})}),I.jsx("p",{className:"authorization-page__title",children:l("resetText")}),I.jsxs("form",{className:"authorization-page__form",onSubmit:e(u),children:[I.jsx(Ua,{type:"email",placeholder:l("emailPlaceholder"),register:t("email",{required:`* ${l("emailWarning")}`,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:`* ${l("emailWarning2")}`}}),onKeyUp:()=>{n("email")},message:(c=r.email)==null?void 0:c.message}),I.jsx("button",{className:"authorization-page__form-button",type:"submit",children:l("resetText")})]}),i&&I.jsx(SS,{message:i,setMessage:s}),o&&I.jsxs("p",{className:"authorization-page__text",children:[l("resetText2"),I.jsx(cd,{to:"/auth",className:"authorization-page__link",children:l("loginLink")}),l("registerText3")]}),I.jsxs("p",{className:"authorization-page__text",children:[l("registerText"),I.jsx(cd,{className:"authorization-page__link",to:"/",children:l("registerText2")}),l("registerText3")]})]})})}const aG="/assets/project-6b7e161a.png",lG="/assets/rssckool-yellow-b2f56f3c.jpg";function uG(){const[t]=Mw(Ui),{t:e}=qi();return I.jsx("div",{className:"welcome-page",children:I.jsx("div",{className:"wrapper",children:I.jsxs("div",{className:"welcome-page__container",children:[t?I.jsx(X6,{}):I.jsx(Y6,{}),I.jsxs("div",{className:"project-info",children:[I.jsx("h2",{className:"project-info__title",children:e("aboutTeam")}),I.jsxs("div",{className:"project-info__devs",children:[I.jsx(ey,{ghLink:"https://github.com/sch-aa-vk/",ghName:"sch-aa-vk",devName:e("amina"),ghAvatarLink:"https://avatars.githubusercontent.com/u/89934145?v=4",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut faucibus, urna vel bibendum euismod, nunc diam fermentum diam, eu tincidunt erat odio non lorem. facilisi. Proin finibus pellentesque metus at eleifend. Vivamus sed neque tortor. tortor. Nullam vulputate porta massa non elementum. Cras molestie ipsum in viverra viverra luctus. In gravida."}),I.jsx(ey,{ghLink:"https://github.com/redcliphaloe",ghName:"redcliphaloe",devName:e("artem"),ghAvatarLink:"https://avatars.githubusercontent.com/u/14157545?v=4",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut faucibus, urna vel bibendum euismod, nunc diam fermentum diam, eu tincidunt erat odio non lorem. facilisi. Proin finibus pellentesque metus at eleifend. Vivamus sed neque tortor. tortor. Nullam vulputate porta massa non elementum. Cras molestie ipsum in viverra viverra luctus. In gravida."}),I.jsx(ey,{ghLink:"https://github.com/EvgeniaM6",ghName:"EvgeniaM6",devName:e("yevheniia"),ghAvatarLink:"https://avatars.githubusercontent.com/u/93492831?v=4",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut faucibus, urna vel bibendum euismod, nunc diam fermentum diam, eu tincidunt erat odio non lorem. facilisi. Proin finibus pellentesque metus at eleifend. Vivamus sed neque tortor. tortor. Nullam vulputate porta massa non elementum. Cras molestie ipsum in viverra viverra luctus. In gravida."})]}),I.jsx("h2",{className:"project-info__title",children:e("aboutProject")}),I.jsxs("div",{className:"project-info__container flex-reverse",children:[I.jsx("div",{className:"project-info__content",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam molestie mi magna, vitae vitae fermentum ligula pharetra sit amet. Vivamus sapien massa, pharetra ut hendrerit nec, dignissim eu leo. Donec vulputate nisi at eros facilisis ullamcorper. Mauris in congue tortor. Duis dictum bibendum odio eu tempor. Suspendisse tellus tellus, convallis non laoreet nec, auctor id dolor. Donec sit amet varius erat. Phasellus semper dui in laoreet consectetur. Donec eu mattis libero. Sed vel lorem rhoncus, placerat nunc ut, lacinia libero. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce blandit, ante a dapibus fermentum, dui odio ultricies elit, erat elit ac enim."}),I.jsx("div",{className:"project-info__image",children:I.jsx("img",{src:aG,alt:"project",className:"project-info__image-img"})})]}),I.jsx("h2",{className:"project-info__title",children:e("aboutCourse")}),I.jsxs("div",{className:"project-info__container",children:[I.jsx("div",{className:"project-info__content",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam molestie mi magna, vitae vitae fermentum ligula pharetra sit amet. Vivamus sapien massa, pharetra ut hendrerit nec, dignissim eu leo. Donec vulputate nisi at eros facilisis ullamcorper. Mauris in congue tortor. Duis dictum bibendum odio eu tempor. Suspendisse tellus tellus, convallis non laoreet nec, auctor id dolor. Donec sit amet varius erat. Phasellus semper dui in laoreet consectetur. Donec eu mattis libero. Sed vel lorem rhoncus, placerat nunc ut, lacinia libero. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce blandit, ante a dapibus fermentum, dui odio ultricies elit, sed sed posuere erat elit ac enim."}),I.jsx("div",{className:"project-info__image",children:I.jsx("img",{src:lG,alt:"course - rolling scope school",className:"project-info__image-img"})})]})]})]})})})}function cG(t){if(Array.isArray(t))return t}function hG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function nT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fG(t,e){if(t){if(typeof t=="string")return nT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nT(t,e)}}function dG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pG(t,e){return cG(t)||hG(t,e)||fG(t,e)||dG()}function Sn(t){return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(t)}function rT(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e){for(var r=[],i=0;i<e.length;i++){var s=e[i];if(s){var o=Sn(s);if(o==="string"||o==="number")r.push(s);else if(o==="object"){var a=Array.isArray(s)?s:Object.entries(s).map(function(l){var u=pG(l,2),c=u[0],h=u[1];return h?c:null});r=a.length?r.concat(a.filter(function(l){return!!l})):r}}}return r.join(" ").trim()}}function _D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gG(t,e){if(Sn(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PD(t){var e=gG(t,"string");return Sn(e)==="symbol"?e:String(e)}function iT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PD(r.key),r)}}function RD(t,e,n){return e&&iT(t.prototype,e),n&&iT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sx(t,e,n){return e=PD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $y(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=mG(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function mG(t,e){if(t){if(typeof t=="string")return sT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sT(t,e)}}function sT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bt=function(){function t(){_D(this,t)}return RD(t,null,[{key:"innerWidth",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}return 0}},{key:"width",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,r){if(n){var i=n.getBoundingClientRect().width||n.offsetWidth;if(r){var s=getComputedStyle(n);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}return 0}},{key:"getOuterHeight",value:function(n,r){if(n){var i=n.getBoundingClientRect().height||n.offsetHeight;if(r){var s=getComputedStyle(n);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}return 0}},{key:"getClientHeight",value:function(n,r){if(n){var i=n.clientHeight;if(r){var s=getComputedStyle(n);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}return 0}},{key:"getClientWidth",value:function(n,r){if(n){var i=n.clientWidth;if(r){var s=getComputedStyle(n);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}return 0}},{key:"getViewport",value:function(){var n=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0],o=n.innerWidth||i.clientWidth||s.clientWidth,a=n.innerHeight||i.clientHeight||s.clientHeight;return{width:o,height:a}}},{key:"getOffset",value:function(n){if(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var r=n.parentNode.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===n)return i;r[s].nodeType===1&&i++}return-1}},{key:"addMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var i=r.split(" "),s=0;s<i.length;s++)n.classList.add(i[s]);else for(var o=r.split(" "),a=0;a<o.length;a++)n.className+=" "+o[a]}},{key:"removeMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var i=r.split(" "),s=0;s<i.length;s++)n.classList.remove(i[s]);else for(var o=r.split(" "),a=0;a<o.length;a++)n.className=n.className.replace(new RegExp("(^|\\b)"+o[a].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,r){n&&r&&(n.classList?n.classList.add(r):n.className+=" "+r)}},{key:"removeClass",value:function(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,r){return n?n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className):!1}},{key:"find",value:function(n,r){return n?Array.from(n.querySelectorAll(r)):[]}},{key:"findSingle",value:function(n,r){return n?n.querySelector(r):null}},{key:"getHeight",value:function(n){if(n){var r=n.offsetHeight,i=getComputedStyle(n);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}return 0}},{key:"getWidth",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}return 0}},{key:"alignOverlay",value:function(n,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&r&&(i==="self"?this.relativePosition(n,r):(s&&(n.style.minWidth=t.getOuterWidth(r)+"px"),this.absolutePosition(n,r)))}},{key:"absolutePosition",value:function(n,r){if(n&&r){var i=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),s=i.height,o=i.width,a=r.offsetHeight,l=r.offsetWidth,u=r.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport(),d,m;u.top+a+s>f.height?(d=u.top+c-s,d<0&&(d=c),n.style.transformOrigin="bottom"):(d=a+u.top+c,n.style.transformOrigin="top"),u.left+l+o>f.width?m=Math.max(0,u.left+h+l-o):m=u.left+h,n.style.top=d+"px",n.style.left=m+"px"}}},{key:"relativePosition",value:function(n,r){if(n&&r){var i=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),s=r.offsetHeight,o=r.getBoundingClientRect(),a=this.getViewport(),l,u;o.top+s+i.height>a.height?(l=-1*i.height,o.top+l<0&&(l=-1*o.top),n.style.transformOrigin="bottom"):(l=s,n.style.transformOrigin="top"),i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,n.style.top=l+"px",n.style.left=u+"px"}}},{key:"flipfitCollision",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",a=arguments.length>4?arguments[4]:void 0;if(n&&r){var l=r.getBoundingClientRect(),u=this.getViewport(),c=s.split(" "),h=o.split(" "),f=function(v,y){return y?+v.substring(v.search(/(\+|-)/g))||0:v.substring(0,v.search(/(\+|-)/g))||v},d={my:{x:f(c[0]),y:f(c[1]||c[0]),offsetX:f(c[0],!0),offsetY:f(c[1]||c[0],!0)},at:{x:f(h[0]),y:f(h[1]||h[0]),offsetX:f(h[0],!0),offsetY:f(h[1]||h[0],!0)}},m={left:function(){var v=d.my.offsetX+d.at.offsetX;return v+l.left+(d.my.x==="left"?0:-1*(d.my.x==="center"?i.getOuterWidth(n)/2:i.getOuterWidth(n)))},top:function(){var v=d.my.offsetY+d.at.offsetY;return v+l.top+(d.my.y==="top"?0:-1*(d.my.y==="center"?i.getOuterHeight(n)/2:i.getOuterHeight(n)))}},w={count:{x:0,y:0},left:function(){var v=m.left(),y=t.getWindowScrollLeft();n.style.left=v+y+"px",this.count.x===2?(n.style.left=y+"px",this.count.x=0):v<0&&(this.count.x++,d.my.x="left",d.at.x="right",d.my.offsetX*=-1,d.at.offsetX*=-1,this.right())},right:function(){var v=m.left()+t.getOuterWidth(r),y=t.getWindowScrollLeft();n.style.left=v+y+"px",this.count.x===2?(n.style.left=u.width-t.getOuterWidth(n)+y+"px",this.count.x=0):v+t.getOuterWidth(n)>u.width&&(this.count.x++,d.my.x="right",d.at.x="left",d.my.offsetX*=-1,d.at.offsetX*=-1,this.left())},top:function(){var v=m.top(),y=t.getWindowScrollTop();n.style.top=v+y+"px",this.count.y===2?(n.style.left=y+"px",this.count.y=0):v<0&&(this.count.y++,d.my.y="top",d.at.y="bottom",d.my.offsetY*=-1,d.at.offsetY*=-1,this.bottom())},bottom:function(){var v=m.top()+t.getOuterHeight(r),y=t.getWindowScrollTop();n.style.top=v+y+"px",this.count.y===2?(n.style.left=u.height-t.getOuterHeight(n)+y+"px",this.count.y=0):v+t.getOuterHeight(r)>u.height&&(this.count.y++,d.my.y="bottom",d.at.y="top",d.my.offsetY*=-1,d.at.offsetY*=-1,this.top())},center:function(v){if(v==="y"){var y=m.top()+t.getOuterHeight(r)/2;n.style.top=y+t.getWindowScrollTop()+"px",y<0?this.bottom():y+t.getOuterHeight(r)>u.height&&this.top()}else{var b=m.left()+t.getOuterWidth(r)/2;n.style.left=b+t.getWindowScrollLeft()+"px",b<0?this.left():b+t.getOuterWidth(n)>u.width&&this.right()}}};w[d.at.x]("x"),w[d.at.y]("y"),this.isFunction(a)&&a(d)}}},{key:"findCollisionPosition",value:function(n){if(n){var r=n==="top"||n==="bottom",i=n==="left"?"right":"left",s=n==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(s),at:"center ".concat(n)}:{axis:"x",my:"".concat(i," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var r=[];if(n){var i=this.getParents(n),s=/(auto|scroll)/,o=function(v){var y=v?getComputedStyle(v):null;return y&&(s.test(y.getPropertyValue("overflow"))||s.test(y.getPropertyValue("overflowX"))||s.test(y.getPropertyValue("overflowY")))},a=$y(i),l;try{for(a.s();!(l=a.n()).done;){var u=l.value,c=u.nodeType===1&&u.dataset.scrollselectors;if(c){var h=c.split(","),f=$y(h),d;try{for(f.s();!(d=f.n()).done;){var m=d.value,w=this.findSingle(u,m);w&&o(w)&&r.push(w)}}catch(x){f.e(x)}finally{f.f()}}u.nodeType===1&&o(u)&&r.push(u)}}catch(x){a.e(x)}finally{a.f()}}return r}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(n){var r={};return n&&(n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),r}},{key:"fadeIn",value:function(n,r){if(n){n.style.opacity=0;var i=+new Date,s=0,o=function a(){s=+n.style.opacity+(new Date().getTime()-i)/r,n.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};o()}}},{key:"fadeOut",value:function(n,r){if(n)var i=1,s=50,o=s/r,a=setInterval(function(){i-=o,i<=0&&(i=0,clearInterval(a)),n.style.opacity=i},s)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,r){if(this.isElement(r))r.appendChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+r+" to "+n)}},{key:"removeChild",value:function(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+r)}},{key:"isElement",value:function(n){return(typeof HTMLElement>"u"?"undefined":Sn(HTMLElement))==="object"?n instanceof HTMLElement:n&&Sn(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"scrollInView",value:function(n,r){var i=getComputedStyle(n).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(n).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=n.getBoundingClientRect(),u=r.getBoundingClientRect(),c=u.top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,h=n.scrollTop,f=n.clientHeight,d=this.getOuterHeight(r);c<0?n.scrollTop=h+c:c+d>f&&(n.scrollTop=h+c-f+d)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);var s=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=s,s}}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"isVisible",value:function(n){return n&&(n.clientHeight!==0||n.getClientRects().length!==0||getComputedStyle(n).display!=="none")}},{key:"isExist",value:function(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&n.parentNode)}},{key:"hasDOM",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"getFocusableElements",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=t.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),s=[],o=$y(i),a;try{for(o.s();!(a=o.n()).done;){var l=a.value;getComputedStyle(l).display!=="none"&&getComputedStyle(l).visibility!=="hidden"&&s.push(l)}}catch(u){o.e(u)}finally{o.f()}return s}},{key:"getFirstFocusableElement",value:function(n,r){var i=t.getFocusableElements(n,r);return i.length>0?i[0]:null}},{key:"getLastFocusableElement",value:function(n,r){var i=t.getFocusableElements(n,r);return i.length>0?i[i.length-1]:null}},{key:"focus",value:function(n,r){var i=r===void 0?!0:!r;n&&document.activeElement!==n&&n.focus({preventScroll:i})}},{key:"focusFirstElement",value:function(n,r){if(n){var i=t.getFirstFocusableElement(n);return i&&t.focus(i,r),i}}},{key:"getCursorOffset",value:function(n,r,i,s){if(n){var o=getComputedStyle(n),a=document.createElement("div");a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.visibility="hidden",a.style.pointerEvents="none",a.style.overflow=o.overflow,a.style.width=o.width,a.style.height=o.height,a.style.padding=o.padding,a.style.border=o.border,a.style.overflowWrap=o.overflowWrap,a.style.whiteSpace=o.whiteSpace,a.style.lineHeight=o.lineHeight,a.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var l=document.createElement("span");l.textContent=s,a.appendChild(l);var u=document.createTextNode(i);a.appendChild(u),document.body.appendChild(a);var c=l.offsetLeft,h=l.offsetTop,f=l.clientHeight;return document.body.removeChild(a),{left:Math.abs(c-n.scrollLeft),top:Math.abs(h-n.scrollTop)+f}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,r,i){n[r].apply(n,i)}},{key:"isClickable",value:function(n){var r=n.nodeName,i=n.parentElement&&n.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||i==="INPUT"||i==="TEXTAREA"||i==="BUTTON"||i==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,r){if(typeof r=="string")n.style.cssText=this.style;else for(var i in this.style)n.style[i]=r[i]}},{key:"exportCSV",value:function(n,r){var i=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,r+".csv");else{var s=t.saveAs({name:r+".csv",src:URL.createObjectURL(i)});s||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var r=document.createElement("a");if(r.download!==void 0){var i=n.name,s=n.src;return r.setAttribute("href",s),r.setAttribute("download",i),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(n){var r=document.createElement("style");try{n||(n={}.REACT_APP_CSS_NONCE)}catch{}return n&&r.setAttribute("nonce",n),document.head.appendChild(r),r}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{document.head.removeChild(n)}catch{}n=null}return n}},{key:"getTargetElement",value:function(n){if(!n)return null;if(n==="document")return document;if(n==="window")return window;if(Sn(n)==="object"&&n.hasOwnProperty("current"))return this.isExist(n.current)?n.current:null;var r=function(o){return!!(o&&o.constructor&&o.call&&o.apply)},i=r(n)?n():n;return i&&i.nodeType===9||this.isExist(i)?i:null}},{key:"getAttributeNames",value:function(n){var r,i,s;for(i=[],s=n.attributes,r=0;r<s.length;++r)i.push(s[r].nodeName);return i.sort(),i}},{key:"isEqualElement",value:function(n,r){var i,s,o,a,l;if(i=t.getAttributeNames(n),s=t.getAttributeNames(r),i.join(",")!==s.join(","))return!1;for(var u=0;u<i.length;++u)if(o=i[u],o==="style")for(var c=n.style,h=r.style,f=/^\d+$/,d=0,m=Object.keys(c);d<m.length;d++){var w=m[d];if(!f.test(w)&&c[w]!==h[w])return!1}else if(n.getAttribute(o)!==r.getAttribute(o))return!1;for(a=n.firstChild,l=r.firstChild;a&&l;a=a.nextSibling,l=l.nextSibling){if(a.nodeType!==l.nodeType)return!1;if(a.nodeType===1){if(!t.isEqualElement(a,l))return!1}else if(a.nodeValue!==l.nodeValue)return!1}return!(a||l)}}]),t}();sx(Bt,"DATA_PROPS",["data-"]);sx(Bt,"ARIA_PROPS",["aria","focus-target"]);var Xr=function(){function t(){_D(this,t)}return RD(t,null,[{key:"equals",value:function(n,r,i){return i&&n&&Sn(n)==="object"&&r&&Sn(r)==="object"?this.resolveFieldData(n,i)===this.resolveFieldData(r,i):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&Sn(n)=="object"&&Sn(r)=="object"){var i=Array.isArray(n),s=Array.isArray(r),o,a,l;if(i&&s){if(a=n.length,a!==r.length)return!1;for(o=a;o--!==0;)if(!this.deepEquals(n[o],r[o]))return!1;return!0}if(i!==s)return!1;var u=n instanceof Date,c=r instanceof Date;if(u!==c)return!1;if(u&&c)return n.getTime()===r.getTime();var h=n instanceof RegExp,f=r instanceof RegExp;if(h!==f)return!1;if(h&&f)return n.toString()===r.toString();var d=Object.keys(n);if(a=d.length,a!==Object.keys(r).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,d[o]))return!1;for(o=a;o--!==0;)if(l=d[o],!this.deepEquals(n[l],r[l]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(t.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var i=r.split("."),s=n,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(i){return!r.hasOwnProperty(i)}).reduce(function(i,s){return i[s]=n[s],i},{})}},{key:"reduceKeys",value:function(n,r){var i={};return!n||!r||r.length===0||Object.keys(n).filter(function(s){return r.some(function(o){return s.startsWith(o)})}).forEach(function(s){i[s]=n[s],delete n[s]}),i}},{key:"reorderArray",value:function(n,r,i){n&&r!==i&&(i>=n.length&&(i%=n.length,r%=n.length),n.splice(i,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,i){var s=this;return r?i?r.findIndex(function(o){return s.equals(o,n,i)}):r.findIndex(function(o){return o===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,i):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n?n[r]:void 0;return s===void 0?i[r]:s}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,i):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,i):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,i){if(n){var s=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0),o=s===r;try{var a}catch{}return o}return!1}},{key:"getRefElement",value:function(n){return n?Sn(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"convertToFlatCase",value:function(n){return this.isNotEmpty(n)?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&Sn(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=t.compare(n,r,s,i),l=i;return(t.isEmpty(n)||t.isEmpty(r))&&(l=o===1?i:o),l*a}},{key:"compare",value:function(n,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=-1,a=t.isEmpty(n),l=t.isEmpty(r);return a&&l?o=0:a?o=s:l?o=-s:typeof n=="string"&&typeof r=="string"?o=n.localeCompare(r,i,{numeric:!0}):o=n<r?-1:n>r?1:0,o}}]),t}();function oT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oT(Object(n),!0).forEach(function(r){sx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e){var r=function(s){return!!(s&&s.constructor&&s.call&&s.apply)};return e.reduce(function(i,s){var o=function(){if(a==="style")i.style=aT(aT({},i.style),s.style);else if(a==="className")i.className=[i.className,s.className].join(" ").trim();else if(r(s[a])){var u=i[a];i[a]=u?function(){u.apply(void 0,arguments),value.apply(void 0,arguments)}:s[a]}else i[a]=s[a]};for(var a in s)o();return i},{})}}var yG=function(e){var n=P.useRef(void 0);return P.useEffect(function(){n.current=e}),n.current},vG=function(e){return P.useEffect(function(){return e},[])},lT=function(e){var n=e.target,r=n===void 0?"document":n,i=e.type,s=e.listener,o=e.options,a=e.when,l=a===void 0?!0:a,u=P.useRef(null),c=P.useRef(null),h=yG(o),f=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Xr.isNotEmpty(w.target)&&(d(),(w.when||l)&&(u.current=Bt.getTargetElement(w.target))),!c.current&&u.current&&(c.current=function(x){return s&&s(x)},u.current.addEventListener(i,c.current,o))},d=function(){c.current&&(u.current.removeEventListener(i,c.current,o),c.current=null)};return P.useEffect(function(){l?u.current=Bt.getTargetElement(r):(d(),u.current=null)},[r,l]),P.useEffect(function(){c.current&&(c.current!==s||h!==o)&&(d(),l&&f())},[s,o]),vG(function(){d()}),[f,d]};function Ic(t){return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function wG(t,e){if(Ic(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ic(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SG(t){var e=wG(t,"string");return Ic(e)==="symbol"?e:String(e)}function xG(t,e,n){return e=SG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uT(Object(n),!0).forEach(function(r){xG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ox={defaultProps:{pt:void 0},extend:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=ia(ia({},e.defaultProps),ox.defaultProps),r=function(u){return Xr.getMergedProps(u,n)},i=function(u){return Xr.getDiffProps(u,n)},s=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",h=Xr.convertToFlatCase(c);return u[Object.keys(u).find(function(f){return Xr.convertToFlatCase(f)===h})||""]},o=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Xr.getPropValue(s(u,c),h)},a=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return h((u.props||{}).pt,d,ia(ia({},u),m))},h=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return o(d,m,w)};return{ptm:c,ptmo:h}};return ia(ia({getProps:r,getOtherProps:i,setMetaData:a},e),{},{defaultProps:n})}};function g1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bG(t){if(Array.isArray(t))return g1(t)}function kG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ND(t,e){if(t){if(typeof t=="string")return g1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g1(t,e)}}function EG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CG(t){return bG(t)||kG(t)||ND(t)||EG()}function Oc(t){return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function TG(t,e){if(Oc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AG(t){var e=TG(t,"string");return Oc(e)==="symbol"?e:String(e)}function IG(t,e,n){return e=AG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OG(t){if(Array.isArray(t))return t}function _G(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function PG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jy(t,e){return OG(t)||_G(t,e)||ND(t,e)||PG()}var Uy=ox.extend({defaultProps:{__TYPE:"Splitter",className:null,gutterSize:4,id:null,layout:"horizontal",onResizeEnd:null,stateKey:null,stateStorage:"session",style:null,children:void 0}}),Lf=ox.extend({defaultProps:{__TYPE:"SplitterPanel",className:null,minSize:null,size:null,style:null,children:void 0},getCProps:function(e){return Xr.getComponentProps(e,Lf.defaultProps)},getCOtherProps:function(e){return Xr.getComponentDiffProps(e,Lf.defaultProps)},getCProp:function(e,n){return Xr.getComponentProp(e,n,Lf.defaultProps)}});function cT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cT(Object(n),!0).forEach(function(r){IG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var mu=function(){},m1=P.memo(P.forwardRef(function(t,e){var n=Uy.getProps(t),r=P.useRef(null),i=P.useRef(),s=P.useRef({}),o=P.useRef(null),a=P.useRef(null),l=P.useRef(null),u=P.useRef(null),c=P.useRef(null),h=P.useRef(null),f=P.useRef(null),d=P.useRef(null),m=P.useRef(null),w=P.useRef(null),x=P.useState([]),v=jy(x,2),y=v[0],b=v[1],E=n.stateKey!=null,C=n.children&&n.children.length||1,O=function(N,H){return H in N?N[H]:n.children&&[].concat(n.children)[H].props.size||100/C},_={props:n,state:{panelSizes:y}},F=Uy.setMetaData(Vy({},_)),L=F.ptm,M=F.ptmo,Z=function(N,H){return M(fe(N,"pt"),H,{props:N.props,parent:_})},Y=lT({type:"mousemove",listener:function(N){return wr(N)}}),ee=jy(Y,2),le=ee[0],me=ee[1],de=lT({type:"mouseup",listener:function(N){Sr(N),oe()}}),pe=jy(de,2),V=pe[0],G=pe[1],X=function(){le(),V()},oe=function(){me(),G()},fe=function(N,H){return Lf.getCProp(N,H)},Tt=function(N,H){return!(N>100||N<0||H>100||H<0||n.children[w.current].props&&n.children[w.current].props.minSize&&n.children[w.current].props.minSize>N||n.children[w.current+1].props&&n.children[w.current+1].props.minSize&&n.children[w.current+1].props.minSize>H)},Xe=function(){a.current=!1,o.current=null,l.current=null,u.current=null,c.current=null,h.current=null,f.current=null,d.current=null,m.current=null,w.current=null},yn=P.useCallback(function(){switch(n.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(n.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}},[n.stateStorage]),it=function(N){yn().setItem(n.stateKey,JSON.stringify(N))},St=P.useCallback(function(){var z=yn().getItem(n.stateKey);z&&b(JSON.parse(z))},[yn,n.stateKey]),Yt=function(N,H){i.current=s.current[H];var Se=N.type==="touchstart"?N.touches[0].pageX:N.pageX,Ce=N.type==="touchstart"?N.touches[0].pageY:N.pageY;o.current=n.layout==="horizontal"?Bt.getWidth(r.current):Bt.getHeight(r.current),a.current=!0,l.current=n.layout==="horizontal"?Se:Ce,u.current=i.current.previousElementSibling,c.current=i.current.nextElementSibling,h.current=100*(n.layout==="horizontal"?Bt.getOuterWidth(u.current,!0):Bt.getOuterHeight(u.current,!0))/o.current,f.current=h.current,d.current=100*(n.layout==="horizontal"?Bt.getOuterWidth(c.current,!0):Bt.getOuterHeight(c.current,!0))/o.current,m.current=d.current,w.current=H,Bt.addClass(i.current,"p-splitter-gutter-resizing"),Bt.addClass(r.current,"p-splitter-resizing")},wr=function(N){var H,Se=N.type==="touchmove"?N.touches[0].pageX:N.pageX,Ce=N.type==="touchmove"?N.touches[0].pageY:N.pageY;n.layout==="horizontal"?H=Se*100/o.current-l.current*100/o.current:H=Ce*100/o.current-l.current*100/o.current;var ht=h.current+H,yi=d.current-H;Tt(ht,yi)&&(f.current=ht,m.current=yi,u.current.style.flexBasis="calc("+ht+"% - "+(n.children.length-1)*n.gutterSize+"px)",c.current.style.flexBasis="calc("+yi+"% - "+(n.children.length-1)*n.gutterSize+"px)")},Sr=function(N){b(function(H){for(var Se=[],Ce=0;Ce<n.children.length;Ce++)Se[Ce]=O(H,Ce);return Se[w.current]=f.current,Se[w.current+1]=m.current,n.onResizeEnd&&n.onResizeEnd({originalEvent:N,sizes:Se}),E&&it(Se),Se}),Bt.removeClass(i.current,"p-splitter-gutter-resizing"),Bt.removeClass(r.current,"p-splitter-resizing"),Xe()},Un=function(N,H){Yt(N,H),X()},xr=function(N,H){Yt(N,H),window.addEventListener("touchmove",_n,{passive:!1,cancelable:!1}),window.addEventListener("touchend",rr)},_n=function(N){wr(N)},rr=function z(N){Sr(N),window.removeEventListener("touchmove",_n),window.removeEventListener("touchend",z)};P.useImperativeHandle(e,function(){return{props:n,getElement:function(){return r.current}}}),P.useEffect(function(){var z=CG(r.current.children).filter(function(N){return Bt.hasClass(N,"p-splitter-panel")});z.map(function(N){N.childNodes&&Xr.isNotEmpty(Bt.find(N,".p-splitter"))&&Bt.addClass(N,"p-splitter-panel-nested")})},[]),P.useEffect(function(){E&&St()},[St,E]);var ch=function(N,H){var Se=rT("p-splitter-panel",fe(N,"className")),Ce=n.layout==="horizontal"?{width:n.gutterSize+"px"}:{height:n.gutterSize+"px"},ht=sf({ref:function(T){return s.current[H]=T},className:"p-splitter-gutter",style:Ce,onMouseDown:function(T){return Un(T,H)},onTouchStart:function(T){return xr(T,H)},onTouchMove:function(T){return _n(T)},onTouchEnd:function(T){return rr(T)}},L("gutter")),yi=sf({className:"p-splitter-gutter-handle"},L("gutterHandler")),S=H!==n.children.length-1&&P.createElement("div",ht,P.createElement("div",yi)),p="calc("+O(y,H)+"% - "+(C-1)*n.gutterSize+"px)",g=sf({key:H,className:Se,style:Vy(Vy({},fe(N,"style")),{},{flexBasis:p}),role:"presentation"},Z(N,"root"));return P.createElement(P.Fragment,null,P.createElement("div",g,fe(N,"children")),S)},A=function(){return P.Children.map(n.children,ch)},D=rT("p-splitter p-component p-splitter-".concat(n.layout),n.className),j=sf({id:n.id,ref:r,style:n.style,className:D},Uy.getOtherProps(n),L("root")),ne=A();return P.createElement("div",j,ne)}));mu.displayName="SplitterPanel";m1.displayName="Splitter";const RG={docsPanelVisible:!1,docsFetched:!0},DD=EP({name:"workspace",initialState:RG,reducers:{docsClick:t=>{t.docsPanelVisible=!t.docsPanelVisible}}}),{docsClick:NG}=DD.actions,hT=t=>t.workspace.docsPanelVisible,DG=t=>t.workspace.docsFetched,MG=DD.reducer;function LG(){const t=P.useRef(window.innerWidth).current>480?"horizontal":"vertical",e=dI();return I.jsxs("section",{className:"workspace wrapper",children:[I.jsx("aside",{className:"workspace__sidebar",children:I.jsx(bi,{className:"workspace__docs-btn btn_square",active:Cr(hT),handleClick:()=>{e(NG())},disabled:!Cr(DG)})}),I.jsxs(m1,{className:"workspace__splitter-1",layout:t,children:[I.jsx(mu,{className:"workspace-docs-wrapper",size:100/3,style:Cr(hT)?{display:"block"}:{display:"none"},children:"docs"}),I.jsx(mu,{size:200/3,children:I.jsxs(m1,{className:"workspace__splitter-2",layout:t,children:[I.jsx(mu,{size:t==="horizontal"?50:200/3,children:I.jsx(Lq,{})}),I.jsx(mu,{size:t==="horizontal"?50:100/3,children:"results"})]})})]})]})}const BG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAXhSURBVHic7ZpriFVVFMd/zuiMY04PH6OQjk4ymb2gjALJT0HWgIFFZChSBklSlj2wRJJQ8oERlNqoWUYUJL3sQx96mGWa1oBWpsWYvbSmB1aj6Zg2pw//debeOXPPnbvv2XPHD+cHh3PPa+3/3nfvfdZa+0BKSkpKSkpKSmEMBdYBe4G3gSt7V05p6Qt8BgTAAeAEcAw4vzdFlZKrUOVX2/H1dry41xR5oMzh3irb/2r7FtsP8Cfn9GYA8D3wL/AG8AvwHzChFzWVnEuAnajih4DpvSsnOX2KfK4STYLZTAVuAH4EXgS+SqArF/XANKAO2AI879l+IuagCTHc2oG1QLUH29XAM6jXZZcxz4NtLwxDr8P9wCjgWqAJifwSqE1g+zzUkwI09K4DRgD7gDZgZALb3liABE7NOlcGrLDzzcDwIuzWokm3HVgElGddu9lsP1aEXe98ChwB+ue4dj8SuhU5UoVSSaYXzY65ftTuyUW/mN/eKUdd8f0896xCFXnYwe7j9syKPPdsRhNxtIJXoyE5G/XKf9Dk3CPUIaGrYq73A84FDgKtaEyf0812IXAcxRuVecpeY2WPjpyvAb5DQ+cUctii93Tg0i1zEbb+HzHX9wFjso6/dbA9n66v2myO2H5g5PxvwNPAE6iHrkdzSU6SNkC77ePG2ZPApY42G1Dl3urmvgrbt0XOjweWI5e9DXgE+AB4z1FHQcxF3fAFjzaHAYMLuO91K/u+yPlRwMtoKI0GXgIu8qivgwdRDwiAb3qigG74iYxTtKDUhTdYwV+jN0A7muxKxcVW/ptosgxQeF4SqoEfgMPoLXCrCZhfKgFobgmASaibHzZNPlzvbplnhc+14/4oNC5lcLIF9b4wnxE6XA+VovA9wO9kZmGAIZQ2MVKD8pMhFehV/EVPFzwOtfT6ni6oCJ5D2sa5POSSEgPF5ADbHJ8rBaGmy1wecm2AMLQ95PhcKQg1OUWerg1wlu2P5L2rd2i1fVXeuyK4NkA+KlHOMBdjcPtnhiKPLheXkzv0LgqfDTAH2EXXMTgQ+ARodLC1BuUZzoicH48WZ+4tUmMXfDbAZhR9NZJ5RVUCT9nxu462auzZMCQeinKDZcA7HvQ60xfYgF41cWsBy+36UWA7isgCVPl8sX2USuRiB2Zju9kMgKUxz0yw6xtIHuV2YSDwsRXQSnwysg9yjbchx2Q3ygQ5TUxGlT37udnahjI8can8kaYtTMFF8wSJCBOca4BBPg17ZhBavQ5Qb0zEmSjYGI98/WY6Z2aLpRyYSNfE5UT8zEnlKEX/M9I+CdXFmYV0Xog4hZyNJpStaQQeJU++LYYpZJbY77DtgJ2b4mhrtGloNE1NpvFURPtCR7uAsjJ3AUvMSAsajy0R43GTUhwVwDIyyZRwJWkZnQOsQlga0RLVuMTqUEiGKZYBZmxj1rl+aIXmCtydknoy//jftoU9oj7Pc7nobxpG0HlIbTSb3UaoxY65kyjV3UTXpGR3DLZyF6OESp39LsN9gm0zDQdNU48Q9oAtwEy0BrADLT6s7alCHViHtOxA2mYirQX1gDgqgBnASrQoGUS2VuBD3CetnuBGpCX0AbK3nagOM3CcX6bTubJh5ncacAF+XWhflCFt05DWbO0Bjh9zVAGTyVS2hUy6aTDKvd3pQ7UnZiFN4Wy/B2kOG2UyxXmjHbyCWvElNN4C4KMkBj2zFWk6hjQGSHNiyoGbUJgbdqXdyHlJ1KKeqUKadpPRuQtpT+S9rjZjJ1EaOgA2oSzw6cYQ5A2GCzYn7ffKJEYb0FcYtWgWfc2M/oleP/cAY5MUkJCxpuFZ4C+k7VWktRZpb/BZYB/gdrTsHXa1E8AD+AmUCqUvWps8kaVjL3BbCTVQD9xCxq1tBu7GPThyoc7K2E/GfZ6KuwvdQbHfCWZTjSKyWWTW5g6j19BxD/ZBk9xwMq5yK8pNLCJhhtpHA4Scjb7FuQb9IzUe7Qfoy49mlCrbhIKolJSUlJSUlJSi+R9FLHgRwi2foQAAAABJRU5ErkJggg==";function FG(){return I.jsxs("div",{className:"undefined-page",children:[I.jsxs("div",{className:"undefined-page__block",children:[I.jsx("p",{className:"undefined-page__text undefined-page__text-huge",children:"4"}),I.jsx("img",{src:BG,alt:"cat icon"}),I.jsx("p",{className:"undefined-page__text undefined-page__text-huge",children:"4"})]}),I.jsx("p",{className:"undefined-page__text",children:"Page Not Found"})]})}function $G(){return I.jsxs("svg",{className:"loading-icon",width:50,height:50,xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 512 512",children:[I.jsx("path",{d:"M232 0h48v160h-48z",style:{fill:"#43592b"}}),I.jsx("path",{d:"M51.553 107.545h159.998v48H51.553z",style:{fill:"#43592b"},transform:"rotate(-134.999 131.552 131.546)"}),I.jsx("path",{d:"M0 232h160v48H0z",style:{fill:"#43592b"}}),I.jsx("path",{d:"M107.558 300.449h48v159.998h-48z",style:{fill:"#43592b"},transform:"rotate(-134.999 131.558 380.45)"}),I.jsx("path",{d:"M232 352h48v160h-48z",style:{fill:"#8da075"}}),I.jsx("path",{d:"M300.449 356.446h159.998v48H300.449z",style:{fill:"#8da075"},transform:"rotate(-134.999 380.449 380.448)"}),I.jsx("path",{d:"M352 232h160v48H352z",style:{fill:"#8da075"}}),I.jsx("path",{d:"M356.443 51.54h48v159.998h-48z",style:{fill:"#8da075"},transform:"rotate(-134.999 380.444 131.54)"})]})}function jG(){return I.jsxs("div",{className:"loading",children:[I.jsx("p",{className:"loading__text",children:"Loading..."}),I.jsx($G,{})]})}function UG(){const[t,e]=Mw(Ui),n=Ol(),r=Il(),i=()=>{const s=setInterval(()=>{const o=localStorage.getItem("acces-token");if(o){const l=JSON.parse(sO.Buffer.from(o.split(".")[1],"base64").toString()).exp*1e3;Date.now()>=l&&(mv(),localStorage.removeItem("acces-token"),clearInterval(s),n("/"))}else mv(),clearInterval(s),n("/")},5e3)};return P.useEffect(()=>{e||t&&i()},[t,e]),P.useEffect(()=>{r.pathname==="/auth"&&t&&n("/")},[r,t]),I.jsx("div",{className:"app",children:e?I.jsx(jG,{}):I.jsxs(I.Fragment,{children:[I.jsx(K6,{}),I.jsx("main",{className:"main",children:I.jsxs(GB,{children:[I.jsx(aa,{path:"/",element:I.jsx(uG,{})}),I.jsx(aa,{path:"*",element:I.jsx(FG,{})}),t?I.jsx(aa,{path:"/workspace",element:I.jsx(LG,{})}):I.jsxs(I.Fragment,{children:[I.jsx(aa,{path:"/auth",element:I.jsx(iG,{})}),I.jsx(aa,{path:"/reset",element:I.jsx(oG,{})})]})]})}),I.jsx(G6,{})]})})}const VG=wP({workspace:MG,workspaceEditor:J8}),zG=T8({reducer:VG});function Ms(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y1(t,e){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y1(t,e)}function Zg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y1(t,e)}function uh(t,e){if(e&&(Yn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ms(t)}function di(t){return di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},di(t)}function HG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WG(t){return uO(t)||HG(t)||cO(t)||hO()}function fT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(n),!0).forEach(function(r){Mr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var KG={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},qG=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Lr(this,t),this.init(e,n)}return Br(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||KG,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,s){return s&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,dT(dT({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),ri=new qG,Gs=function(){function t(){Lr(this,t),this.observers={}}return Br(t,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(this.observers[n]){var o=[].concat(this.observers[n]);o.forEach(function(l){l.apply(void 0,i)})}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach(function(l){l.apply(l,[n].concat(i))})}}}]),t}();function nu(){var t,e,n=new Promise(function(r,i){t=r,e=i});return n.resolve=t,n.reject=e,n}function pT(t){return t==null?"":""+t}function GG(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function ax(t,e,n){function r(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var o=r(s.shift());!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function gT(t,e,n){var r=ax(t,e,Object),i=r.obj,s=r.k;i[s]=n}function QG(t,e,n,r){var i=ax(t,e,Object),s=i.obj,o=i.k;s[o]=s[o]||[],r&&(s[o]=s[o].concat(n)),r||s[o].push(n)}function bp(t,e){var n=ax(t,e),r=n.obj,i=n.k;if(r)return r[i]}function YG(t,e,n){var r=bp(t,n);return r!==void 0?r:bp(e,n)}function MD(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):MD(t[r],e[r],n):t[r]=e[r]);return t}function sa(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var XG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function JG(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return XG[e]}):t}var em=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,ZG=[" ",",","?","!",";"];function eQ(t,e,n){e=e||"",n=n||"";var r=ZG.filter(function(a){return e.indexOf(a)<0&&n.indexOf(a)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(a){return a==="?"?"\\?":a}).join("|"),")")),s=!i.test(t);if(!s){var o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function kp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var r=e.split(n),i=t,s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){for(var o=2,a=r.slice(s,s+o).join(n),l=i[a];l===void 0&&r.length>s+o;)o++,a=r.slice(s,s+o).join(n),l=i[a];if(l===void 0)return;if(l===null)return null;if(e.endsWith(a)){if(typeof l=="string")return l;if(a&&typeof l[a]=="string")return l[a]}var u=r.slice(s+o).join(n);return u?kp(l,u,n):void 0}i=i[r[s]]}return i}}function mT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mT(Object(n),!0).forEach(function(r){Mr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tQ(t){var e=nQ();return function(){var r=di(t),i;if(e){var s=di(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return uh(this,i)}}function nQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var rQ=function(t){Zg(n,t);var e=tQ(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Lr(this,n),i=e.call(this),em&&Gs.call(Ms(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return Br(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure,c=[i,s];o&&typeof o!="string"&&(c=c.concat(o)),o&&typeof o=="string"&&(c=c.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(c=i.split("."));var h=bp(this.data,c);return h||!u||typeof o!="string"?h:kp(this.data&&this.data[i]&&this.data[i][s],o,l)}},{key:"addResource",value:function(i,s,o,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=this.options.keySeparator;u===void 0&&(u=".");var c=[i,s];o&&(c=c.concat(u?o.split(u):o)),i.indexOf(".")>-1&&(c=i.split("."),a=s,s=c[1]),this.addNamespaces(s),gT(this.data,c,a),l.silent||this.emit("added",i,s,o,a)}},{key:"addResources",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in o)(typeof o[l]=="string"||Object.prototype.toString.apply(o[l])==="[object Array]")&&this.addResource(i,s,l,o[l],{silent:!0});a.silent||this.emit("added",i,s,o)}},{key:"addResourceBundle",value:function(i,s,o,a,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[i,s];i.indexOf(".")>-1&&(c=i.split("."),a=o,o=s,s=c[1]),this.addNamespaces(s);var h=bp(this.data,c)||{};a?MD(h,o,l):h=of(of({},h),o),gT(this.data,c,h),u.silent||this.emit("added",i,s,o)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?of(of({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),o=s&&Object.keys(s)||[];return!!o.find(function(a){return s[a]&&Object.keys(s[a]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(Gs),LD={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,s){var o=this;return e.forEach(function(a){o.processors[a]&&(n=o.processors[a].process(n,r,i,s))}),n}};function yT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yT(Object(n),!0).forEach(function(r){Mr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t){var e=sQ();return function(){var r=di(t),i;if(e){var s=di(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return uh(this,i)}}function sQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var vT={},wT=function(t){Zg(n,t);var e=iQ(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Lr(this,n),i=e.call(this),em&&Gs.call(Ms(i)),GG(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Ms(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=ri.create("translator"),i}return Br(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,s);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,s){var o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ns||this.options.defaultNS||[],u=o&&i.indexOf(o)>-1,c=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!eQ(i,o,a);if(u&&!c){var h=i.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:i,namespaces:l};var f=i.split(o);(o!==a||o===a&&this.options.ns.indexOf(f[0])>-1)&&(l=f.shift()),i=f.join(a)}return typeof l=="string"&&(l=[l]),{key:i,namespaces:l}}},{key:"translate",value:function(i,s,o){var a=this;if(Yn(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),Yn(s)==="object"&&(s=en({},s)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var l=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,c=this.extractFromKey(i[i.length-1],s),h=c.key,f=c.namespaces,d=f[f.length-1],m=s.lng||this.language,w=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(w){var x=s.nsSeparator||this.options.nsSeparator;return l?{res:"".concat(d).concat(x).concat(h),usedKey:h,exactUsedKey:h,usedLng:m,usedNS:d}:"".concat(d).concat(x).concat(h)}return l?{res:h,usedKey:h,exactUsedKey:h,usedLng:m,usedNS:d}:h}var v=this.resolve(i,s),y=v&&v.res,b=v&&v.usedKey||h,E=v&&v.exactUsedKey||h,C=Object.prototype.toString.apply(y),O=["[object Number]","[object Function]","[object RegExp]"],_=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,F=!this.i18nFormat||this.i18nFormat.handleAsObject,L=typeof y!="string"&&typeof y!="boolean"&&typeof y!="number";if(F&&y&&L&&O.indexOf(C)<0&&!(typeof _=="string"&&C==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var M=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,y,en(en({},s),{},{ns:f})):"key '".concat(h," (").concat(this.language,")' returned an object instead of string.");return l?(v.res=M,v):M}if(u){var Z=C==="[object Array]",Y=Z?[]:{},ee=Z?E:b;for(var le in y)if(Object.prototype.hasOwnProperty.call(y,le)){var me="".concat(ee).concat(u).concat(le);Y[le]=this.translate(me,en(en({},s),{joinArrays:!1,ns:f})),Y[le]===me&&(Y[le]=y[le])}y=Y}}else if(F&&typeof _=="string"&&C==="[object Array]")y=y.join(_),y&&(y=this.extendTranslation(y,i,s,o));else{var de=!1,pe=!1,V=s.count!==void 0&&typeof s.count!="string",G=n.hasDefaultValue(s),X=V?this.pluralResolver.getSuffix(m,s.count,s):"",oe=s["defaultValue".concat(X)]||s.defaultValue;!this.isValidLookup(y)&&G&&(de=!0,y=oe),this.isValidLookup(y)||(pe=!0,y=h);var fe=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Tt=fe&&pe?void 0:y,Xe=G&&oe!==y&&this.options.updateMissing;if(pe||de||Xe){if(this.logger.log(Xe?"updateKey":"missingKey",m,d,h,Xe?oe:y),u){var yn=this.resolve(h,en(en({},s),{},{keySeparator:!1}));yn&&yn.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var it=[],St=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&St&&St[0])for(var Yt=0;Yt<St.length;Yt++)it.push(St[Yt]);else this.options.saveMissingTo==="all"?it=this.languageUtils.toResolveHierarchy(s.lng||this.language):it.push(s.lng||this.language);var wr=function(Un,xr,_n){var rr=G&&_n!==y?_n:Tt;a.options.missingKeyHandler?a.options.missingKeyHandler(Un,d,xr,rr,Xe,s):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(Un,d,xr,rr,Xe,s),a.emit("missingKey",Un,d,xr,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&V?it.forEach(function(Sr){a.pluralResolver.getSuffixes(Sr,s).forEach(function(Un){wr([Sr],h+Un,s["defaultValue".concat(Un)]||oe)})}):wr(it,h,oe))}y=this.extendTranslation(y,i,s,v,o),pe&&y===h&&this.options.appendNamespaceToMissingKey&&(y="".concat(d,":").concat(h)),(pe||de)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(h):h,de?y:void 0):y=this.options.parseMissingKeyHandler(y))}return l?(v.res=y,v):y}},{key:"extendTranslation",value:function(i,s,o,a,l){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,en(en({},this.options.interpolation.defaultVariables),o),a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(en(en({},o),{interpolation:en(en({},this.options.interpolation),o.interpolation)}));var c=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),h;if(c){var f=i.match(this.interpolator.nestingRegexp);h=f&&f.length}var d=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(d=en(en({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,o.lng||this.language,o),c){var m=i.match(this.interpolator.nestingRegexp),w=m&&m.length;h<w&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(o.lng=a.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var y=arguments.length,b=new Array(y),E=0;E<y;E++)b[E]=arguments[E];return l&&l[0]===b[0]&&!o.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(b[0]," in key: ").concat(s[0])),null):u.translate.apply(u,b.concat([s]))},o)),o.interpolation&&this.interpolator.reset()}var x=o.postProcess||this.options.postProcess,v=typeof x=="string"?[x]:x;return i!=null&&v&&v.length&&o.applyPostProcessor!==!1&&(i=LD.handle(v,i,s,this.options&&this.options.postProcessPassResolved?en({i18nResolved:a},o):o,this)),i}},{key:"resolve",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,l,u,c,h;return typeof i=="string"&&(i=[i]),i.forEach(function(f){if(!s.isValidLookup(a)){var d=s.extractFromKey(f,o),m=d.key;l=m;var w=d.namespaces;s.options.fallbackNS&&(w=w.concat(s.options.fallbackNS));var x=o.count!==void 0&&typeof o.count!="string",v=x&&!o.ordinal&&o.count===0&&s.pluralResolver.shouldUseIntlApi(),y=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",b=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);w.forEach(function(E){s.isValidLookup(a)||(h=E,!vT["".concat(b[0],"-").concat(E)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(h)&&(vT["".concat(b[0],"-").concat(E)]=!0,s.logger.warn('key "'.concat(l,'" for languages "').concat(b.join(", "),`" won't get resolved as namespace "`).concat(h,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(function(C){if(!s.isValidLookup(a)){c=C;var O=[m];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(O,m,C,E,o);else{var _;x&&(_=s.pluralResolver.getSuffix(C,o.count,o));var F="".concat(s.options.pluralSeparator,"zero");if(x&&(O.push(m+_),v&&O.push(m+F)),y){var L="".concat(m).concat(s.options.contextSeparator).concat(o.context);O.push(L),x&&(O.push(L+_),v&&O.push(L+F))}}for(var M;M=O.pop();)s.isValidLookup(a)||(u=M,a=s.getResource(C,E,M,o))}}))})}}),{res:a,usedKey:l,exactUsedKey:u,usedLng:c,usedNS:h}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,o,a):this.resourceStore.getResource(i,s,o,a)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&s===o.substring(0,s.length)&&i[o]!==void 0)return!0;return!1}}]),n}(Gs);function zy(t){return t.charAt(0).toUpperCase()+t.slice(1)}var ST=function(){function t(e){Lr(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ri.create("languageUtils")}return Br(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=zy(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=zy(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=zy(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(s){if(!i){var o=r.formatLanguageCode(s);(!r.options.supportedLngs||r.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&n.forEach(function(s){if(!i){var o=r.getLanguagePartFromCode(s);if(r.isSupportedCode(o))return i=o;i=r.options.supportedLngs.find(function(a){if(a===o)return a;if(!(a.indexOf("-")<0&&o.indexOf("-")<0)&&a.indexOf(o)===0)return a})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,s=this.getFallbackCodes(r||this.options.fallbackLng||[],n),o=[],a=function(u){u&&(i.isSupportedCode(u)?o.push(u):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(u)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(n))):typeof n=="string"&&a(this.formatLanguageCode(n)),s.forEach(function(l){o.indexOf(l)<0&&a(i.formatLanguageCode(l))}),o}}]),t}(),oQ=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],aQ={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},lQ=["v1","v2","v3"],xT={zero:0,one:1,two:2,few:3,many:4,other:5};function uQ(){var t={};return oQ.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:aQ[e.fc]}})}),t}var cQ=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Lr(this,t),this.languageUtils=e,this.options=n,this.logger=ri.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=uQ()}return Br(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(s){return"".concat(r).concat(s)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(o,a){return xT[o]-xT[a]}).map(function(o){return"".concat(r.options.prepend).concat(o)}):s.numbers.map(function(o){return r.getSuffix(n,o,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(r)):this.getSuffixRetroCompatible(s,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,s=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),o=n.numbers[s];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var a=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?a():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!lQ.includes(this.options.compatibilityJSON)}}]),t}();function bT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(n),!0).forEach(function(r){Mr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kT(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=YG(t,e,n);return!s&&i&&typeof n=="string"&&(s=kp(t,n,r),s===void 0&&(s=kp(e,n,r))),s}var hQ=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Lr(this,t),this.logger=ri.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return Br(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:JG,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?sa(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?sa(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?sa(r.nestingPrefix):r.nestingPrefixEscaped||sa("$t("),this.nestingSuffix=r.nestingSuffix?sa(r.nestingSuffix):r.nestingSuffixEscaped||sa(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,s){var o=this,a,l,u,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(x){return x.replace(/\$/g,"$$$$")}var f=function(v){if(v.indexOf(o.formatSeparator)<0){var y=kT(r,c,v,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(y,void 0,i,kr(kr(kr({},s),r),{},{interpolationkey:v})):y}var b=v.split(o.formatSeparator),E=b.shift().trim(),C=b.join(o.formatSeparator).trim();return o.format(kT(r,c,E,o.options.keySeparator,o.options.ignoreJSONStructure),C,i,kr(kr(kr({},s),r),{},{interpolationkey:E}))};this.resetRegExp();var d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,m=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,w=[{regex:this.regexpUnescape,safeValue:function(v){return h(v)}},{regex:this.regexp,safeValue:function(v){return o.escapeValue?h(o.escape(v)):h(v)}}];return w.forEach(function(x){for(u=0;a=x.regex.exec(n);){var v=a[1].trim();if(l=f(v),l===void 0)if(typeof d=="function"){var y=d(n,a,s);l=typeof y=="string"?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,v))l="";else if(m){l=a[0];continue}else o.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(n)),l="";else typeof l!="string"&&!o.useRawValueToEscape&&(l=pT(l));var b=x.safeValue(l);if(n=n.replace(a[0],b),m?(x.regex.lastIndex+=l.length,x.regex.lastIndex-=a[0].length):x.regex.lastIndex=0,u++,u>=o.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a,l;function u(d,m){var w=this.nestingOptionsSeparator;if(d.indexOf(w)<0)return d;var x=d.split(new RegExp("".concat(w,"[ ]*{"))),v="{".concat(x[1]);d=x[0],v=this.interpolate(v,l);var y=v.match(/'/g),b=v.match(/"/g);(y&&y.length%2===0&&!b||b.length%2!==0)&&(v=v.replace(/'/g,'"'));try{l=JSON.parse(v),m&&(l=kr(kr({},m),l))}catch(E){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),E),"".concat(d).concat(w).concat(v)}return delete l.defaultValue,d}for(;o=this.nestingRegexp.exec(n);){var c=[];l=kr({},s),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;var h=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var f=o[1].split(this.formatSeparator).map(function(d){return d.trim()});o[1]=f.shift(),c=f,h=!0}if(a=r(u.call(this,o[1].trim(),l),l),a&&o[0]===n&&typeof a!="string")return a;typeof a!="string"&&(a=pT(a)),a||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(n)),a=""),h&&(a=c.reduce(function(d,m){return i.format(d,m,s.lng,kr(kr({},s),{},{interpolationkey:o[1].trim()}))},a.trim())),n=n.replace(o[0],a),this.regexp.lastIndex=0}return n}}]),t}();function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){Mr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fQ(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(e==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var s=i.split(";");s.forEach(function(o){if(o){var a=o.split(":"),l=WG(a),u=l[0],c=l.slice(1),h=c.join(":").trim().replace(/^'+|'+$/g,"");n[u.trim()]||(n[u.trim()]=h),h==="false"&&(n[u.trim()]=!1),h==="true"&&(n[u.trim()]=!0),isNaN(h)||(n[u.trim()]=parseInt(h,10))}})}}return{formatName:e,formatOptions:n}}function oa(t){var e={};return function(r,i,s){var o=i+JSON.stringify(s),a=e[o];return a||(a=t(i,s),e[o]=a),a(r)}}var dQ=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Lr(this,t),this.logger=ri.create("formatter"),this.options=e,this.formats={number:oa(function(n,r){var i=new Intl.NumberFormat(n,wi({},r));return function(s){return i.format(s)}}),currency:oa(function(n,r){var i=new Intl.NumberFormat(n,wi(wi({},r),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:oa(function(n,r){var i=new Intl.DateTimeFormat(n,wi({},r));return function(s){return i.format(s)}}),relativetime:oa(function(n,r){var i=new Intl.RelativeTimeFormat(n,wi({},r));return function(s){return i.format(s,r.range||"day")}}),list:oa(function(n,r){var i=new Intl.ListFormat(n,wi({},r));return function(s){return i.format(s)}})},this.init(e)}return Br(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=oa(r)}},{key:"format",value:function(n,r,i){var s=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r.split(this.formatSeparator),l=a.reduce(function(u,c){var h=fQ(c),f=h.formatName,d=h.formatOptions;if(s.formats[f]){var m=u;try{var w=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},x=w.locale||w.lng||o.locale||o.lng||i;m=s.formats[f](u,x,wi(wi(wi({},d),o),w))}catch(v){s.logger.warn(v)}return m}else s.logger.warn("there was no format function for ".concat(f));return u},n);return l}}]),t}();function CT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CT(Object(n),!0).forEach(function(r){Mr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pQ(t){var e=gQ();return function(){var r=di(t),i;if(e){var s=di(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return uh(this,i)}}function gQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mQ(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var yQ=function(t){Zg(n,t);var e=pQ(n);function n(r,i,s){var o,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Lr(this,n),o=e.call(this),em&&Gs.call(Ms(o)),o.backend=r,o.store=i,o.services=s,o.languageUtils=s.languageUtils,o.options=a,o.logger=ri.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=a.maxParallelReads||10,o.readingCalls=0,o.maxRetries=a.maxRetries>=0?a.maxRetries:5,o.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(s,a.backend,a),o}return Br(n,[{key:"queueLoad",value:function(i,s,o,a){var l=this,u={},c={},h={},f={};return i.forEach(function(d){var m=!0;s.forEach(function(w){var x="".concat(d,"|").concat(w);!o.reload&&l.store.hasResourceBundle(d,w)?l.state[x]=2:l.state[x]<0||(l.state[x]===1?c[x]===void 0&&(c[x]=!0):(l.state[x]=1,m=!1,c[x]===void 0&&(c[x]=!0),u[x]===void 0&&(u[x]=!0),f[w]===void 0&&(f[w]=!0)))}),m||(h[d]=!0)}),(Object.keys(u).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(u),pending:Object.keys(c),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(f)}}},{key:"loaded",value:function(i,s,o){var a=i.split("|"),l=a[0],u=a[1];s&&this.emit("failedLoading",l,u,s),o&&this.store.addResourceBundle(l,u,o),this.state[i]=s?-1:2;var c={};this.queue.forEach(function(h){QG(h.loaded,[l],u),mQ(h,i),s&&h.errors.push(s),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(function(f){c[f]||(c[f]={});var d=h.loaded[f];d.length&&d.forEach(function(m){c[f][m]===void 0&&(c[f][m]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(h){return!h.done})}},{key:"read",value:function(i,s,o){var a=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!i.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:o,tried:l,wait:u,callback:c});return}this.readingCalls++;var h=function(w,x){if(a.readingCalls--,a.waitingReads.length>0){var v=a.waitingReads.shift();a.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(w&&x&&l<a.maxRetries){setTimeout(function(){a.read.call(a,i,s,o,l+1,u*2,c)},u);return}c(w,x)},f=this.backend[o].bind(this.backend);if(f.length===2){try{var d=f(i,s);d&&typeof d.then=="function"?d.then(function(m){return h(null,m)}).catch(h):h(null,d)}catch(m){h(m)}return}return f(i,s,h)}},{key:"prepareLoading",value:function(i,s){var o=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var u=this.queueLoad(i,s,a,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(function(c){o.loadOne(c)})}},{key:"load",value:function(i,s,o){this.prepareLoading(i,s,{},o)}},{key:"reload",value:function(i,s,o){this.prepareLoading(i,s,{reload:!0},o)}},{key:"loadOne",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=i.split("|"),l=a[0],u=a[1];this.read(l,u,"read",void 0,void 0,function(c,h){c&&s.logger.warn("".concat(o,"loading namespace ").concat(u," for language ").concat(l," failed"),c),!c&&h&&s.logger.log("".concat(o,"loaded namespace ").concat(u," for language ").concat(l),h),s.loaded(i,c,h)})}},{key:"saveMissing",value:function(i,s,o,a,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var h=TT(TT({},u),{},{isUpdate:l}),f=this.backend.create.bind(this.backend);if(f.length<6)try{var d;f.length===5?d=f(i,s,o,a,h):d=f(i,s,o,a),d&&typeof d.then=="function"?d.then(function(m){return c(null,m)}).catch(c):c(null,d)}catch(m){c(m)}else f(i,s,o,a,c,h)}!i||!i[0]||this.store.addResource(i[0],s,o,a)}}}]),n}(Gs);function AT(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(Yn(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),Yn(e[2])==="object"||Yn(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function IT(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){Mr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vQ(t){var e=wQ();return function(){var r=di(t),i;if(e){var s=di(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return uh(this,i)}}function wQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function af(){}function SQ(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var Ep=function(t){Zg(n,t);var e=vQ(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(Lr(this,n),r=e.call(this),em&&Gs.call(Ms(r)),r.options=IT(i),r.services={},r.logger=ri,r.modules={external:[]},SQ(Ms(r)),s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),uh(r,Ms(r));setTimeout(function(){r.init(i,s)},0)}return r}return Br(n,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(o=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var a=AT();this.options=zr(zr(zr({},a),this.options),IT(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=zr(zr({},a.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function l(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?ri.init(l(this.modules.logger),this.options):ri.init(null,this.options);var u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=dQ);var c=new ST(this.options);this.store=new rQ(this.options.resources,this.options);var h=this.services;h.logger=ri,h.resourceStore=this.store,h.languageUtils=c,h.pluralResolver=new cQ(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(h.formatter=l(u),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new hQ(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new yQ(l(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(v){for(var y=arguments.length,b=new Array(y>1?y-1:0),E=1;E<y;E++)b[E-1]=arguments[E];i.emit.apply(i,[v].concat(b))}),this.modules.languageDetector&&(h.languageDetector=l(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=l(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new wT(this.services,this.options),this.translator.on("*",function(v){for(var y=arguments.length,b=new Array(y>1?y-1:0),E=1;E<y;E++)b[E-1]=arguments[E];i.emit.apply(i,[v].concat(b))}),this.modules.external.forEach(function(v){v.init&&v.init(i)})}if(this.format=this.options.interpolation.format,o||(o=af),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(v){i[v]=function(){var y;return(y=i.store)[v].apply(y,arguments)}});var m=["addResource","addResources","addResourceBundle","removeResourceBundle"];m.forEach(function(v){i[v]=function(){var y;return(y=i.store)[v].apply(y,arguments),i}});var w=nu(),x=function(){var y=function(E,C){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),w.resolve(C),o(E,C)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return y(null,i.t.bind(i));i.changeLanguage(i.options.lng,y)};return this.options.resources||!this.options.initImmediate?x():setTimeout(x,0),w}},{key:"loadResources",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:af,a=o,l=typeof i=="string"?i:this.language;if(typeof i=="function"&&(a=i),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return a();var u=[],c=function(d){if(d){var m=s.services.languageUtils.toResolveHierarchy(d);m.forEach(function(w){u.indexOf(w)<0&&u.push(w)})}};if(l)c(l);else{var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.forEach(function(f){return c(f)})}this.options.preload&&this.options.preload.forEach(function(f){return c(f)}),this.services.backendConnector.load(u,this.options.ns,function(f){!f&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),a(f)})}else a(null)}},{key:"reloadResources",value:function(i,s,o){var a=nu();return i||(i=this.languages),s||(s=this.options.ns),o||(o=af),this.services.backendConnector.reload(i,s,function(l){a.resolve(),o(l)}),a}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&LD.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var o=this.languages[s];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,s){var o=this;this.isLanguageChangingTo=i;var a=nu();this.emit("languageChanging",i);var l=function(f){o.language=f,o.languages=o.services.languageUtils.toResolveHierarchy(f),o.resolvedLanguage=void 0,o.setResolvedLanguage(f)},u=function(f,d){d?(l(d),o.translator.changeLanguage(d),o.isLanguageChangingTo=void 0,o.emit("languageChanged",d),o.logger.log("languageChanged",d)):o.isLanguageChangingTo=void 0,a.resolve(function(){return o.t.apply(o,arguments)}),s&&s(f,function(){return o.t.apply(o,arguments)})},c=function(f){!i&&!f&&o.services.languageDetector&&(f=[]);var d=typeof f=="string"?f:o.services.languageUtils.getBestMatchFromCodes(f);d&&(o.language||l(d),o.translator.language||o.translator.changeLanguage(d),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(d)),o.loadResources(d,function(m){u(m,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(i),a}},{key:"getFixedT",value:function(i,s,o){var a=this,l=function u(c,h){var f;if(Yn(h)!=="object"){for(var d=arguments.length,m=new Array(d>2?d-2:0),w=2;w<d;w++)m[w-2]=arguments[w];f=a.options.overloadTranslationOptionHandler([c,h].concat(m))}else f=zr({},h);f.lng=f.lng||u.lng,f.lngs=f.lngs||u.lngs,f.ns=f.ns||u.ns,f.keyPrefix=f.keyPrefix||o||u.keyPrefix;var x=a.options.keySeparator||".",v;return f.keyPrefix&&Array.isArray(c)?v=c.map(function(y){return"".concat(f.keyPrefix).concat(x).concat(y)}):v=f.keyPrefix?"".concat(f.keyPrefix).concat(x).concat(c):c,a.t(v,f)};return typeof i=="string"?l.lng=i:l.lngs=i,l.ns=s,l.keyPrefix=o,l}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var c=function(d,m){var w=s.services.backendConnector.state["".concat(d,"|").concat(m)];return w===-1||w===2};if(o.precheck){var h=o.precheck(this,c);if(h!==void 0)return h}return!!(this.hasResourceBundle(a,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(a,i)&&(!l||c(u,i)))}},{key:"loadNamespaces",value:function(i,s){var o=this,a=nu();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(l){o.options.ns.indexOf(l)<0&&o.options.ns.push(l)}),this.loadResources(function(l){a.resolve(),s&&s(l)}),a):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var o=nu();typeof i=="string"&&(i=[i]);var a=this.options.preload||[],l=i.filter(function(u){return a.indexOf(u)<0});return l.length?(this.options.preload=a.concat(l),this.loadResources(function(u){o.resolve(),s&&s(u)}),o):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new ST(AT());return s.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:af,a=zr(zr(zr({},this.options),s),{isClone:!0}),l=new n(a);(s.debug!==void 0||s.prefix!==void 0)&&(l.logger=l.logger.clone(s));var u=["store","services","language"];return u.forEach(function(c){l[c]=i[c]}),l.services=zr({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new wT(l.services,l.options),l.translator.on("*",function(c){for(var h=arguments.length,f=new Array(h>1?h-1:0),d=1;d<h;d++)f[d-1]=arguments[d];l.emit.apply(l,[c].concat(f))}),l.init(a,o),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(Gs);Mr(Ep,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Ep(t,e)});var mn=Ep.createInstance();mn.createInstance=Ep.createInstance;mn.createInstance;mn.dir;mn.init;mn.loadResources;mn.reloadResources;mn.use;mn.changeLanguage;mn.getFixedT;mn.t;mn.exists;mn.setDefaultNamespace;mn.hasLoadedNamespace;mn.loadNamespaces;mn.loadLanguages;const xQ="Welcome",bQ="Sign In",kQ="Sign Up",EQ="Sign Out",CQ="Go to Main Page",TQ="Workspace",AQ="Email address",IQ="Email is Required!",OQ="Invalid email address",_Q="Password",PQ="You must specify a password!",RQ="Password should contain at least one number and one special character",NQ="Password must be more than 8 characters",DQ="Password must be less than 20 characters",MQ="Forgot Password",LQ="Don't have an account?",BQ="Register",FQ="now.",$Q="Already have an account?",jQ="Enter name",UQ="Fullname is Required!",VQ="Name must be longer than 4 symbols",zQ="Reset password",HQ="Please check your email to reset password",WQ="About team",KQ="About project",qQ="About course",GQ="Amina Senchenko",QQ="Artem Siuzev",YQ="Yevheniia Miniukova",XQ={homeLink:xQ,loginLink:bQ,signupLink:kQ,signoutLink:EQ,mainLink:CQ,workLink:TQ,emailPlaceholder:AQ,emailWarning:IQ,emailWarning2:OQ,passwordPlaceholder:_Q,passwordWarning:PQ,passwordWarning2:RQ,passwordWarning3:NQ,passwordWarning4:DQ,forgotPassword:MQ,registerText:LQ,registerText2:BQ,registerText3:FQ,registerText4:$Q,namePlaceholder:jQ,nameWarning:UQ,nameWarning2:VQ,resetText:zQ,resetText2:HQ,aboutTeam:WQ,aboutProject:KQ,aboutCourse:qQ,amina:GQ,artem:QQ,yevheniia:YQ},JQ="Главная",ZQ="Войти",eY="Зарегистрироваться",tY="Выход",nY="Перейти на главную страницу",rY="Рабочее пространство",iY="Адрес почты",sY="Введите почту!",oY="Невалидный адрес почты!",aY="Пароль",lY="Вы должны указать пароль!",uY="Пароль должен содержать минимум одно число и один специальный символ",cY="Пароль должен быть длиннее 8 символов",hY="Пароль должен быть меньше 20 символов",fY="Забыли пароль",dY="Нет акканута?",pY="Зарегистрируйтесь",gY="сейчас.",mY="Уже есть аккаунт?",yY="Введите имя",vY="Введите имя!",wY="Имя должно быть длиннее 4 символов",SY="Восстановить пароль",xY="Пожалуйста проверьте почту для сброса пароля",bY="О команде",kY="О проекте",EY="О курсе",CY="Амина Сенченко",TY="Артем Сюзев",AY="Евгения Минюкова",IY={homeLink:JQ,loginLink:ZQ,signupLink:eY,signoutLink:tY,mainLink:nY,workLink:rY,emailPlaceholder:iY,emailWarning:sY,emailWarning2:oY,passwordPlaceholder:aY,passwordWarning:lY,passwordWarning2:uY,passwordWarning3:cY,passwordWarning4:hY,forgotPassword:fY,registerText:dY,registerText2:pY,registerText3:gY,registerText4:mY,namePlaceholder:yY,nameWarning:vY,nameWarning2:wY,resetText:SY,resetText2:xY,aboutTeam:bY,aboutProject:kY,aboutCourse:EY,amina:CY,artem:TY,yevheniia:AY},OY={en:{translation:XQ},ru:{translation:IY}};mn.use(tU).init({resources:OY,lng:"en"});Hy.createRoot(document.getElementById("root")).render(I.jsx(H4,{store:zG,children:I.jsx(ZB,{children:I.jsx(UG,{})})}));
